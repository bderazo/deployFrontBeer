(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[15,5],{1052:function(e,t,a){"use strict";a.r(t);var r=a(10),n=a(1),c=a.n(n),o=(a(649),a(18)),i=a(28),s=a(6),l=a(5),u=a(7),d=a(549),b=a(622),j=a(338),f=a(62),p=a(174),x=a(81),O=a(17),h=a(650),g=a(702),m=a(623),v=a(121),y=a.n(v),S=a(2),w=(Object(u.a)(d.a)((function(e){return{margin:e.theme.spacing(1)}})),Object(u.a)(p.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}}))),C=function(e){var t=e.entidadProp,a=e.maquinas,c=Object(x.c)((function(e){return e.entidadComercial})).comercios,u=Object(x.c)((function(e){return e.categoria})).categoria,d=Object(n.useState)([]),v=Object(r.a)(d,2),C=(v[0],v[1]),k=Object(n.useState)([]),E=Object(r.a)(k,2),R=(E[0],E[1]),P=Object(n.useState)(!1),F=Object(r.a)(P,2),B=F[0],M=F[1],D=(JSON.parse(localStorage.usuario),Object(n.useState)("")),T=Object(r.a)(D,2),N=(T[0],T[1],Object(x.b)()),q=(Object(O.m)(),Object(n.useState)({})),z=Object(r.a)(q,2),I=z[0],W=z[1];Object(n.useEffect)((function(){if(W(t),null!==c&&void 0!==c&&c.registros){var e=c.registros;C(e)}u&&R(u)}),[t,W,c,u]);var _=Object(h.a)({tipo_impuesto:null===t||void 0===t?void 0:t.tipo_impuesto}),A=Object(r.a)(_,2),L=(A[0],A[1],I.tipo_cerveza),H=I.ubicacion,V=I.precio,U=I.cantidad,X=(I.estado,function(e){var t=e.target,r=t.name,n=t.value;console.log(n,r),("precio"===r||"cantidad"===r)&&Number(n)>=0||"ubicacion"===r&&Number(n)>=Number(a)?W(Object(l.a)(Object(l.a)({},I),{},Object(s.a)({},r,n))):W("ubicacion"===r?Object(l.a)(Object(l.a)({},I),{},Object(s.a)({},r,Number(a))):Object(l.a)(Object(l.a)({},I),{},Object(s.a)({},r,0))),"tipo_cerveza"===r&&W(Object(l.a)(Object(l.a)({},I),{},Object(s.a)({},r,n)))}),G=function(){var e=Object(i.a)(Object(o.a)().mark((function e(a){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),a.preventDefault(),console.log(I),e.prev=3,e.next=6,N(Object(g.c)(I));case 6:!1===(r=e.sent).success?(console.log(r),y.a.fire({icon:"error",title:"Error",html:r.messages.join("<br>"),target:a.target})):(console.log(r),y.a.fire({icon:"success",title:"Registro Exitoso",text:"Maquina registrada correctamente",showConfirmButton:!1,timer:3e3}),W(t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error:",e.t0);case 13:M(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"create-category",children:Object(S.jsx)(f.i,{title:"Nueva Maquina ",children:Object(S.jsx)(p.ValidatorForm,{onSubmit:G,children:Object(S.jsxs)(b.a,{container:!0,spacing:1,children:[Object(S.jsxs)(b.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(S.jsx)(w,{type:"text",name:"tipo_cerveza",id:"standard-basic",value:L||"",onChange:X,errorMessages:["Este campo es requerido"],label:"Tipo de Cerveza",validators:["required"]}),Object(S.jsx)(w,{type:"number",name:"precio",id:"standard-basic",value:V||"",onChange:X,label:"Precio",errorMessages:["Este campo es requerido"],validators:["required"]})]}),Object(S.jsxs)(b.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(S.jsx)(w,{type:"number",name:"ubicacion",id:"standard-basic",value:H||"",onChange:X,label:"Ubicaci\xf3n",errorMessages:["Este campo es requerido"],validators:["required"]}),Object(S.jsx)(w,{type:"number",name:"cantidad",id:"standard-basic",value:U||"",onChange:X,label:"Cantidad",errorMessages:["Este campo es requerido"],validators:["required"]})]}),Object(S.jsx)(b.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(S.jsxs)(m.a,{variant:"contained",color:"primary",loading:B,type:"submit",sx:{backgroundColor:"#053d6b",width:"50%",marginTop:"16px"},children:[Object(S.jsx)(j.a,{sx:{mr:"10px"},children:"save"}),"Crear"]})})]})})})})},k=a(1033),E=a(213),R=a(616),P=a(335),F=a(621),B=a(1079),M=a(1067),D=a(1070),T=a(803),N=a(642),q=a(638),z=a(641),I=a(639),W=(a(630),a(635)),_=a(60),A=a(750),L=a(756),H=a(560),V=a(553),U=a(747),X=a(559),G=a(748),Y=a.n(G),J=Object(u.a)(p.TextValidator)((function(){return{width:"100%",border:0,marginTop:"0px",marginBottom:"0px"}})),$=Object(u.a)(b.a)((function(){return{display:"flex",alignContent:"start",alignItems:"center",borderBottom:"2px solid #DCDCDC"}})),K=Object(u.a)(d.a)((function(e){return{margin:e.theme.spacing(1)}})),Z=function(e){var t=e.comercio,a=Object(n.useState)(null),c=Object(r.a)(a,2),u=c[0],d=(c[1],Object(n.useState)(t||E)),j=Object(r.a)(d,2),f=j[0],O=j[1],h=Object(n.useState)(t||E),m=Object(r.a)(h,2),v=m[0],w=(m[1],Object(n.useState)(!0)),C=Object(r.a)(w,2),k=C[0],E=(C[1],{tipo_cerveza:"",estado:!0}),R=Object(x.b)(),F=f.tipo_cerveza,B=f.precio,M=f.cantidad,D=f.estado,T=f.k,N=function(e){console.log(e.target.value),O(Object(l.a)(Object(l.a)({},f),{},Object(s.a)({},e.target.name,e.target.value)))},q=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("Entidad a guardar: ",f),e.prev=2,e.next=5,R(Object(g.a)(f,f.id));case 5:e.sent?y.a.fire({icon:"success",title:"\xa1\xc9xito!",text:"La informaci\xf3n se ha actualizado correctamente",confirmButtonText:"Aceptar"}).then((function(){window.location.href="/listaTarjetasBeer"})):y.a.fire({icon:"error",title:"Error",text:"Ha ocurrido un error al actualizar la informaci\xf3n",confirmButtonText:"Aceptar"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),y.a.fire({icon:"error",title:"Error",text:"Ha ocurrido un error al actualizar la informaci\xf3n",confirmButtonText:"Aceptar"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return null===f?Object(S.jsx)(X.a,{}):Object(S.jsx)(P.a,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:Object(S.jsx)(P.a,{minWidth:"85%",sx:{padding:4,alignSelf:"center"},children:Object(S.jsxs)(H.a,{sx:{padding:2,alignContent:"center"},children:[Object(S.jsx)(P.a,{sx:{display:"flex",justifyContent:"center",width:"90%",height:150},children:(null===v||void 0===v?void 0:v.logo)&&Object(S.jsx)(P.a,{component:"img",sx:{width:"100%",height:"100%",objectFit:"scale-down"},alt:"Logo ".concat(null===v||void 0===v?void 0:v.tipo_cerveza),src:null===v||void 0===v?void 0:v.logo})}),Object(S.jsxs)(p.ValidatorForm,{onSubmit:q,children:[Object(S.jsx)(P.a,{sx:{display:"flex",justifyContent:"start",flexDirection:"column",pb:3},children:Object(S.jsxs)(V.a,{variant:"p",children:[(null===f||void 0===f?void 0:f.tipo_cerveza)||""," "]})}),Object(S.jsxs)($,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsxs)(V.a,{variant:"p",fontWeight:"bold",children:["Tipo de cerveza"," "]})}),Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(J,{disabled:!k,type:"text",name:"tipo_cerveza",placeholder:"Tipo de cerveza",id:"standard-basic",variant:"standard",value:F||"",onChange:N,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(S.jsxs)($,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsxs)(V.a,{variant:"p",fontWeight:"bold",children:["Precio"," "]})}),Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(J,{type:"number",name:"precio",placeholder:"Precio",id:"standard-basic",variant:"standard",value:B||"",onChange:N,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(S.jsxs)($,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(V.a,{variant:"p",fontWeight:"bold",children:"Cantidad"})}),Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(J,{type:"number",name:"cantidad",placeholder:"Cantidad",id:"standard-basic",variant:"standard",value:M||"",onChange:N,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(S.jsxs)($,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(V.a,{variant:"p",fontWeight:"bold",children:"Factor K"})}),Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(J,{type:"number",name:"k",placeholder:"Factor K",id:"standard-basic",variant:"standard",value:T||"",onChange:N,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(S.jsxs)($,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsx)(V.a,{variant:"p",fontWeight:"bold",children:"Estado"})}),Object(S.jsx)(b.a,{item:!0,lg:6,md:6,sm:6,xs:12,sx:{display:"flex",justifyContent:"space-between"},children:Object(S.jsx)(U.a,{estadoEntidad:D,getEstadoEntidad:function(e){O(Object(l.a)(Object(l.a)({},f),{},{estado:e}))}})})]}),Object(S.jsx)(P.a,{sx:{pt:3,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:Object(S.jsxs)(K,{size:"large",variant:"contained",color:"primary",type:"submit",sx:{color:"#ffffff",width:"max-content",background:u?u.color_principal:"#053D6B",borderRadius:"10px",fontWeight:"bold"},children:[Object(S.jsx)(Y.a,{}),"Guardar Informaci\xf3n"]})})]})]})})})},Q=a(752),ee=a(624),te=a(96),ae=a(218),re=a.n(ae),ne=["children","value","index"],ce=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},oe=function(e){var t=e.children,a=e.value,r=e.index,n=Object(_.a)(e,ne);return Object(S.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},n),{},{children:a===r&&Object(S.jsx)(P.a,{children:t})}))},ie=function(e){var t=e.entidad,a=e.handleClose,o=Object(n.useState)(0),i=Object(r.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(t),b=Object(r.a)(d,2),j=b[0],f=b[1],p=Object(n.useState)([]),x=Object(r.a)(p,2),O=x[0],h=(x[1],c.a.useState("")),g=Object(r.a)(h,2),m=g[0],v=(g[1],Object(te.a)());Object(n.useEffect)((function(){if(t)f(t);else{var e=O.find((function(e){return e.rol===m}));e&&f(e)}}),[t,O,m]);return Object(S.jsxs)(P.a,{sx:{width:"100%",padding:"10px"},children:[Object(S.jsx)(ee.a,{"aria-label":"Close",className:"closeButton",onClick:a,sx:{color:v.palette.grey[500],position:"static",right:v.spacing(9)},children:Object(S.jsx)(re.a,{})}),Object(S.jsx)(P.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(S.jsxs)(A.a,{value:s,onChange:function(e,t){u(t)},"aria-label":"basic tabs example",children:[Object(S.jsx)(L.a,Object(l.a)({label:"Informaci\xf3n"},ce(0))),Object(S.jsx)(L.a,Object(l.a)({label:"Detalle y colores "},ce(1)))]})}),Object(S.jsx)(oe,{value:s,index:0,children:Object(S.jsx)(Z,{comercio:j})}),Object(S.jsx)(oe,{value:s,index:1,children:Object(S.jsx)(Q.a,{})})]})},se=(a(127),Object(u.a)("small")((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:"#ffffff",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:0===t?"#FF6666":1===t?"#66CC99":2===t?"#FFCC66":"black",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}}))),le=Object(u.a)(d.a)((function(e){return{margin:e.theme.spacing(1)}})),ue=[{id:"tipo_cerveza",numeric:!1,disablePadding:!1,label:"Tipo de cerveza"},{id:"ubicacion",numeric:!1,disablePadding:!1,label:"Ubicaci\xf3n"},{id:"precio",numeric:!1,disablePadding:!1,label:"Precio"},{id:"cantidad",numeric:!1,disablePadding:!1,label:"Cantidad"},{id:"estado",numeric:!1,disablePadding:!0,label:"Estado"},{id:"detalles",numeric:!1,disablePadding:!0,label:""}],de=Object(E.a)(N.a),be=function(e){var t=e.listaEntidades,a=void 0===t?[]:t,s=e.getPage,l=e.totalRegs,u=Object(n.useState)(null),d=Object(r.a)(u,2),j=d[0],f=(d[1],Object(x.b)(),Object(O.m)(),Object(n.useState)(null)),p=Object(r.a)(f,2),h=p[0],g=p[1],m=Object(n.useState)(!1),v=Object(r.a)(m,2),y=v[0],w=v[1],C=Object(n.useState)("asc"),k=Object(r.a)(C,2),E=k[0],N=k[1],_=Object(n.useState)("name"),A=Object(r.a)(_,2),L=A[0],H=A[1],V=Object(I.a)(a,a.length,s),U=V.page,X=V.handleChangePage,G=V.loading,Y=V.registros,J=c.a.useState(10),$=Object(r.a)(J,2),K=$[0],Z=$[1],Q=Array(10).fill(""),ee=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t),w(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return onclose=function(){w(!1)},Object(S.jsx)(S.Fragment,{children:y?h&&Object(S.jsx)(ie,{entidad:h,handleClose:onclose}):Object(S.jsx)(W.a,{children:Object(S.jsx)(b.a,{container:!0,children:Object(S.jsx)(b.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(P.a,{with:"100%",overflow:"auto",children:Object(S.jsxs)(R.a,{theme:de,children:[Object(S.jsx)(F.a,{sx:{with:"100%",overflow:"scroll"},children:Object(S.jsx)(B.a,{sx:{maxHeight:"100%"},children:Object(S.jsxs)(M.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(S.jsx)(q.a,{order:E,orderBy:L,onRequestSort:function(e,t){N(L===t&&"asc"===E?"desc":"asc"),H(t)},rowCount:Y.length,headCells:ue}),Object(S.jsxs)(D.a,{children:[G&&Q.map((function(e,t){return Object(S.jsx)(W.c,{children:ue.map((function(e){return Object(S.jsx)(W.b,{children:Object(S.jsx)(T.a,{variant:"rectangular",width:"100%",height:20})},e.id)}))},t)})),!G&&Object(W.e)(Y,Object(W.d)(E,L)).slice(U*K,U*K+K).map((function(e,t){return Object(S.jsxs)(W.c,{children:[Object(S.jsx)(W.b,{align:"left",children:e.tipo_cerveza}),Object(S.jsx)(W.b,{align:"left",children:e.ubicacion}),Object(S.jsx)(W.b,{align:"left",children:e.precio}),Object(S.jsx)(W.b,{align:"left",children:e.cantidad}),Object(S.jsx)(W.b,{align:"left",children:Object(S.jsx)(se,{activo:e.estado,children:0===e.estado?"Inactivo":1===e.estado?"Activo":2===e.estado?"Mantenimiento":3===e.estado?"CAJA":"Desconocido"})}),Object(S.jsx)(W.b,{align:"left",children:Object(S.jsx)(le,{variant:"outlined",type:"submit",color:"primary",onClick:function(){return ee(e)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:j?j.color_principal:"#437294",borderRadius:"10px"},children:"Ver Detalles"})})]},e.id)}))]})]})})}),Object(S.jsx)(z.a,{rowsPerPage:K,handleChangePage:X,page:U,handleChangeRowsPerPage:function(e){Z(parseInt(e.target.value,5))},length:l})]})})})})})})};t.default=function(e){e.updateIdentificacion;var t=Object(n.useState)(0),a=Object(r.a)(t,2),o=(a[0],a[1]),i=c.a.useState(!1),s=Object(r.a)(i,2),l=s[0],u=s[1],d=Object(x.c)((function(e){return e.entidadComercial.maquinas})).tarjetas;console.log("tarjetas",d);return Object(S.jsxs)(f.i,{children:[Object(S.jsxs)(m.a,{onClick:function(){u(!l)},color:"primary",variant:"contained",sx:{backgroundColor:"#053d6b",width:"30%",marginTop:"16px"},children:[Object(S.jsx)(j.a,{sx:{mr:"10px"},children:"save"}),"Crear Maquina"]}),l&&Object(S.jsx)(b.a,{container:!0,children:Object(S.jsx)(b.a,{item:!0,xs:12,sm:12,md:12,lg:12,sx:{borderRadius:"5px",textAlignLast:"center",boxShadow:"inset 0 -3em 3em rgba(0, 0, 0, 0.1), 0 0  0 2px rgb(255, 255, 255), 0.3em 0.3em 0em rgba(0, 0, 0, 0.3), 0.3em 0.3em 1em rgba(0, 0, 0, 0.3)",margin:"10px 20px 10px 20px",minWidth:"388px",height:"fit-content"},children:Object(S.jsx)(C,{entidadProp:{tipo_cerveza:"",ubicacion:"",precio:"",cantidad:"",estado:0,id_comercio:"2cbcb417-0c76-4e42-8c2b-c93bb537420b",k:7.5},maquinas:null===d||void 0===d?void 0:d.length})})}),0===(null===d||void 0===d?void 0:d.length)?Object(S.jsx)(k.a,{severity:"info",children:"No se han registrado Usuarios"}):Object(S.jsx)(be,{listaEntidades:d,getPage:function(e){o(e)},totalRegs:null===d||void 0===d?void 0:d.length})]})}},630:function(e,t,a){"use strict";a.d(t,"j",(function(){return u})),a.d(t,"k",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return x})),a.d(t,"i",(function(){return O})),a.d(t,"h",(function(){return g})),a.d(t,"f",(function(){return v})),a.d(t,"e",(function(){return S})),a.d(t,"b",(function(){return w})),a.d(t,"g",(function(){return C}));var r=a(5),n=a(18),c=a(28),o=(a(644),a(122)),i=a(121),s=a.n(i),l=a(344),u=function(){return function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"sensor/beer/listar",a={};try{a={entidad_id:JSON.parse(localStorage.getItem("usuario")).entidad.id}}catch(n){}return e.prev=3,e.next=6,Object(o.b)("sensor/beer/listar",a,"GET");case 6:return r=e.sent,e.next=9,r.json();case 9:if(c=e.sent,console.log(c),200===c.status){e.next=13;break}return e.abrupt("return",s.a.fire("Error",c.message,"error"));case 13:if(c.data){e.next=15;break}return e.abrupt("return",t(d({solicitudes:[],totalRegs:0})));case 15:t(d({tarjetas:c.data,totalRegs:c.lenght})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),s.a.fire("Error",e.t0.message,"error");case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return{type:l.types.getTarjetasCodigoSensor,payload:Object(r.a)({},e)}},b=function(){return function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"usuario/listar",a={};try{a={entidad_id:JSON.parse(localStorage.getItem("usuario")).entidad.id}}catch(n){}return e.prev=3,e.next=6,Object(o.b)("usuario/listar",a,"GET");case 6:return r=e.sent,e.next=9,r.json();case 9:if(c=e.sent,console.log(c),200===c.status){e.next=13;break}return e.abrupt("return",s.a.fire("Error",c.message,"error"));case 13:if(c.data){e.next=15;break}return e.abrupt("return",t(j({solicitudes:[],totalRegs:0})));case 15:t(j({tarjetas:c.data.data,totalRegs:c.lenght})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),s.a.fire("Error",e.t0.message,"error");case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return{type:l.types.getUsuariosBeer,payload:Object(r.a)({},e)}},f=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c,i,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("usuario/beer/asignar",e,"PUT");case 3:return r=t.sent,t.next=6,r.json();case 6:if(c=t.sent,console.log("Respuesta: ",c),201===c.status){t.next=11;break}return console.log("Error al asignar el usuario en el sensor"),t.abrupt("return",c);case 11:return t.next=13,Object(o.b)("sensor/maquina/borrar",{codigo_sensor:e.codigo_sensor},"PUT");case 13:return i=t.sent,t.next=16,i.json();case 16:return s=t.sent,console.log("Respuesta: ",s),t.abrupt("return",c);case 21:return t.prev=21,t.t0=t.catch(0),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("sensor/maquina/borrar",{codigo_sensor:e},"PUT");case 3:return r=t.sent,t.next=6,r.json();case 6:if(200===(c=t.sent).status){t.next=10;break}return console.log("Error al eliminar el sensor de la maquina"),t.abrupt("return",c);case 10:return console.log("Respuesta: ",c),t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Registro: ",e),t.prev=1,t.next=4,Object(o.b)("sensor/beer/vaciar?id_pulsera=".concat(e),e,"PUT");case 4:return r=t.sent,t.next=7,r.json();case 7:if(c=t.sent,console.log("Respuesta: ",c),201===c.status){t.next=12;break}return console.log("Error al eliminar el usuario del sensor"),t.abrupt("return",c);case 12:return t.abrupt("return",c);case 15:return t.prev=15,t.t0=t.catch(1),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"maquina/listar",e.next=4,Object(o.b)("maquina/listar","","GET");case 4:return a=e.sent,e.next=7,a.json();case 7:if(r=e.sent,console.log(r),200===r.status){e.next=11;break}return e.abrupt("return",s.a.fire("Error",r.message,"error"));case 11:if(r.data){e.next=13;break}return e.abrupt("return",t(h({solicitudes:[],totalRegs:0})));case 13:t(h({tarjetas:r.data,totalRegs:r.lenght})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s.a.fire("Error",e.t0.message,"error");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return{type:l.types.getMaquinas,payload:Object(r.a)({},e)}},g=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"maquina/beer/ver",t.next=4,Object(o.b)("maquina/beer/ver",e,"POST");case 4:return r=t.sent,t.next=7,r.json();case 7:if(c=t.sent,console.log(c),201===c.status){t.next=11;break}return t.abrupt("return",s.a.fire("Error",c.message,"error"));case 11:if(c.data){t.next=13;break}return t.abrupt("return",a(m({tarjetas:{}})));case 13:a(m({tarjetas:c.data})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),s.a.fire("Error",t.t0.message,"error");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return{type:l.types.verMaquina,payload:Object(r.a)({},e)}},v=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=5;break}return t.abrupt("return",a(y({tarjetas:[],totalRegs:0})));case 5:return t.next=7,Object(o.b)("sensor/consumos/listar",{id_cliente:e},"POST");case 7:return r=t.sent,t.next=10,r.json();case 10:if(c=t.sent,console.log(c),c.data){t.next=14;break}return t.abrupt("return",a(y({tarjetas:[],totalRegs:0})));case 14:a(y({tarjetas:c.data,totalRegs:c.lenght}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),s.a.fire("Error",t.t0.message,"error");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return{type:l.types.getConsumos,payload:Object(r.a)({},e)}},S=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("sensor/ventas/pagar",e,"POST");case 3:return r=t.sent,t.next=6,r.json();case 6:if(c=t.sent,console.log("Respuesta: ",c),200===r.status){t.next=11;break}return console.log("Error al pagar el consumo del sensor"),t.abrupt("return",c);case 11:return t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)(e,"","GET");case 3:return r=t.sent,t.next=6,r.json();case 6:if(c=t.sent,console.log("Respuesta: ",c),201===c.status){t.next=11;break}return console.log("Error al cambiar el estado de la maquina"),t.abrupt("return",c);case 11:return t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("Error al cambiar el estado de la maquina: ",t.t0.message),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(a){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=5;break}return t.abrupt("return",a(k({tarjetas:[],totalRegs:0})));case 5:return t.next=7,Object(o.b)("usuario/ventas/listar",{id_cliente:e},"POST");case 7:return r=t.sent,t.next=10,r.json();case 10:if(c=t.sent,console.log(c),c.data){t.next=14;break}return t.abrupt("return",a(k({tarjetas:[],totalRegs:0})));case 14:a(k({tarjetas:c.data,totalRegs:c.lenght}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),s.a.fire("Error",t.t0.message,"error");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return{type:l.types.getVentas,payload:Object(r.a)({},e)}}},634:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"i",(function(){return u})),a.d(t,"g",(function(){return b})),a.d(t,"h",(function(){return f})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return O})),a.d(t,"d",(function(){return h})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return y}));var r=a(18),n=a(28),c=a(122),o=a(121),i=a.n(o),s=a(39),l=function(e){return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,i,s,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("usuario/crear",e,"POST");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("El usuario con esa identificacion ya se encuentra registrado"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,s;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("usuario/listar?page=".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,s=o.data,a(d({registros:s.data,totalRegistros:s.total})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error al consultar usuarios: ",t.t0.message),i.a.fire("Error",t.t0.message,"error");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return{type:s.a.getUsuarios,payload:e}},b=function(){return function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var a,n,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.b)("codigos/listar",{},"GET");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,o=n.data,t(j(o)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error al consultar los codigos de pais: ",e.t0.message),i.a.fire("Error",e.t0.message,"error");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return{type:s.a.setCodigos,payload:e}},f=function(e){return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,s,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("usuario/ver/".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:if(o=t.sent,s=o.data,l=o.message,200===o.status){t.next=12;break}return t.abrupt("return",i.a.fire("Error",l,"error"));case 12:a(x(s)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("Error al traer perfil de usuario: ",t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return{type:s.a.cleanUsuarioPerfil}},x=function(e){return{type:s.a.setUsuarioPerfil,payload:e}},O=function(e){return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,s;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("usuario/actualizar/".concat(e.id),e,"PUT");case 3:return n=t.sent,t.next=6,n.json();case 6:if(o=t.sent,o.data,s=o.message,200===o.status){t.next=12;break}return t.abrupt("return",i.a.fire("Error",s,"error"));case 12:i.a.fire("Exito",s,"success"),a(f(e.id)),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",i.a.fire("Error",t.t0.message,"error"));case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,s;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("acceso/listar?page=".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,s=o.data,a(g({registros:s.data,totalRegistros:s.total})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error al consultar usuarios: ",t.t0.message),i.a.fire("Error",t.t0.message,"error");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return{type:s.a.getAccesosList,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("registro-lote/listar?page=".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,i=o.data,a(v({registros:i.data,totalRegistros:i.total})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error al consultar usuarios: ",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return{type:s.a.getAllLotes,payload:e}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var a=Object(n.a)(Object(r.a)().mark((function a(n){var o,i,s;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c.b)("acceso/ver/".concat(e,"?page=").concat(t),{},"GET");case 3:return o=a.sent,a.next=6,o.json();case 6:if(i=a.sent,s=i.data,console.log(s),null!==s){a.next=11;break}return a.abrupt("return",n(w()));case 11:n(S({registros:s.data,totalRegistros:s.total})),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log("Error al consultar usuarios: ",a.t0.message);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()},S=function(e){return{type:s.a.getAccesosUser,payload:e}},w=function(){return{type:s.a.vaciarAccesos,payload:[]}}},635:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return b})),a.d(t,"e",(function(){return j}));var r=a(6),n=a(177),c=a(1022),o=a(816),i=a(1069),s=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},l=function(e,t){return"desc"===e?function(e,a){return s(e,a,t)}:function(e,a){return-s(e,a,t)}},u=Object(n.a)(c.a)((function(e){var t,a=e.theme;return t={},Object(r.a)(t,"&.".concat(o.a.head),{color:a.palette.common.orange}),Object(r.a)(t,"&.".concat(o.a.body),{fontSize:14}),t})),d=Object(n.a)(i.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),b=Object(n.a)("div")((function(e){var t,a=e.theme;return t={margin:"20px 4px"},Object(r.a)(t,a.breakpoints.down("sm"),{margin:"10px"}),Object(r.a)(t,"& .breadcrumb",Object(r.a)({marginBottom:"0px"},a.breakpoints.down("sm"),{marginBottom:"6px"})),t})),j=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var r=t(e[0],a[0]);return 0!==r?r:e[1]-a[1]})),a.map((function(e){return e[0]}))}},637:function(e,t,a){"use strict";var r=a(1),n=r.createContext(void 0);t.a=n},638:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a(10),n=a(1),c=a(1068),o=a(1069),i=a(1064),s=a(335),l=a(1032),u=a(635),d=a(2),b=function(e){var t=Object(n.useState)(null),a=Object(r.a)(t,2),b=a[0],j=(a[1],e.order),f=e.orderBy,p=e.onRequestSort,x=e.headCells;return Object(n.useEffect)((function(){}),[]),Object(d.jsx)(c.a,{children:Object(d.jsx)(o.a,{sx:{background:b?b.color_gradient:"linear-gradient(90deg,#053d6b,#437294)"},children:x.map((function(e){return Object(d.jsx)(u.b,{align:"left",padding:"normal",sortDirection:f===e.id&&j,sx:{color:b?"black":"white"},children:Object(d.jsxs)(i.a,{active:f===e.id,direction:f===e.id?j:"asc",onClick:(t=e.id,function(e){p(e,t)}),children:[e.label,f===e.id?Object(d.jsx)(s.a,{component:"span",sx:l.a,children:"desc"===j?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))})})}},639:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(8),n=a(10),c=a(1),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=Object(c.useState)([]),i=Object(n.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(0),d=Object(n.a)(u,2),b=d[0],j=d[1],f=Object(c.useState)(!0),p=Object(n.a)(f,2),x=p[0],O=p[1],h=Object(c.useRef)([b]);Object(c.useEffect)((function(){O(!0);var t=[].concat(Object(r.a)(e),Object(r.a)(s)),a=[],n={};for(var c in t)n[t[c].id]=t[c];for(var o in n)a.push(n[o]);l([].concat(a)),O(!1)}),[e]),Object(c.useEffect)((function(){h.current.includes(b)||h.current.push(b)}),[t,b]);var g=new Set([0]);Object(c.useEffect)((function(){a(b)}),[b,a]);var m=function(e,t){h.current.some((function(e){return e===t}))||O(!0),g.add(t),j(t),a(t)};return{page:b,handleChangePage:m,loading:x,registros:s}}},641:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(1);var r=a(622),n=a(991),c=a(2),o=function(e){var t=e.rowsPerPage,a=e.handleChangePage,o=e.page,i=e.handleChangeRowsPerPage,s=e.length;return Object(c.jsx)(r.a,{container:!0,spacing:2,children:Object(c.jsx)(r.a,{item:!0,xs:12,display:"flex",justifyContent:"center",md:12,children:Object(c.jsx)(n.a,{sx:{px:2},rowsPerPageOptions:[20],component:"div",count:s,rowsPerPage:t,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:a,onRowsPerPageChange:i})})})}},645:function(e,t,a){"use strict";var r=a(18),n=a(28),c=a(10),o=a(1),i=a(177),s=a(549),l=(a(646),a(81)),u=a(630),d=a(121),b=a.n(d),j=a(2),f=Object(i.a)(s.a)((function(e){return{margin:e.theme.spacing(1),"&:hover":{backgroundColor:"rgba(128, 128, 128, 0.5)",color:"white"},transition:"background-color 0.3s, color 0.3s"}})),p=Object(i.a)("small")((function(e){var t=e.color;return{fontSize:20,fontWeight:"bold",color:e.textColor,padding:"2px 8px",borderRadius:"20px 20px 0px 0px",overflow:"hidden",background:t,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)",width:"14rem",textAlign:"center"}}));t.a=function(e){var t=e.machine,a=e.updateIdentificacion,i=Object(l.b)(),s=Object(o.useState)("red"),d=Object(c.a)(s,2),x=d[0],O=d[1],h=Object(o.useState)("white"),g=Object(c.a)(h,2),m=g[0],v=g[1],y=Object(o.useState)(!1),S=Object(c.a)(y,2),w=S[0],C=S[1],k=Object(o.useState)("#3498db"),E=Object(c.a)(k,2),R=(E[0],E[1]),P=Object(l.c)((function(e){return e.entidadComercial.maquina})).tarjetas,F=Object(o.useState)("#DCDCDC"),B=Object(c.a)(F,2),M=B[0],D=(B[1],Object(o.useState)(t.cantidad)),T=Object(c.a)(D,2),N=T[0],q=T[1],z=Object(o.useState)("rgba(0, 128, 255, 0.5)"),I=Object(c.a)(z,2);I[0],I[1];Object(o.useEffect)((function(){P&&a(P.codigo_sensor)}),[P]),Object(o.useEffect)((function(){switch(t.estado){case 0:O("#FF0000"),v("black"),R("#437294");break;case 1:O("#25D366"),v("black"),R("#f39c12");break;case 2:O("#437294"),v("black"),R("#FF0000");break;case 3:O("rgba(128, 128, 128, 0.5)"),v("black"),R("#FF0000");break;default:O("black"),v("black"),R("#3498db")}}),[t.estado]);var W=function(){var e=Object(n.a)(Object(r.a)().mark((function e(a){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.b)("maquinas/beer/activar?id_maquina=".concat(t.id,"&estado=").concat(a)),e.prev=1,e.next=4,i(n);case 4:if(201!==(c=e.sent).status){e.next=11;break}return e.next=8,i(Object(u.i)(""));case 8:b.a.fire(c.message,"","success"),e.next=12;break;case 11:b.a.fire("Error","Error al cambiar el estado de la m\xe1quina","error");case 12:console.log("\xc9xito:",c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){var e=setInterval((function(){q((function(e){return e<100?e+10:100}))}),1e3);return function(){return clearInterval(e)}}),[]);return Object(j.jsx)("div",{className:"machine-container",children:Object(j.jsxs)("div",{className:"machine",children:[Object(j.jsx)(p,{color:x,textColor:m,style:{opacity:"0.7"},children:1===t.estado?"Activa":2===t.estado?"Mantenimiento":3===t.estado?"Caja":"Inactiva"}),Object(j.jsxs)("div",{className:"machine-square",style:{backgroundColor:M,color:m,background:"linear-gradient(to bottom, rgba(0, 128, 255, 0.5) 0%, rgba(0, 128, 255, 0.5) ".concat(N,"%, transparent 50%, transparent 100%)")},children:[Object(j.jsxs)("div",{className:"machine-id",children:["MAQUINA: ",t.ubicacion]}),Object(j.jsxs)("div",{className:"machine-type",children:[t.tipo_cerveza," ",t.precio,"$ por litro"]}),Object(j.jsx)("div",{className:"machine-quantity",children:t.cantidad}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(j.jsx)(f,{variant:"outlined",type:"submit",color:"primary",onClick:function(){return C(!w)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#F5F5F5",background:x,borderRadius:"10px",margin:"0 auto",opacity:"0.7"},children:3===t.estado?"Lectura":w?"Cerrar":"Opciones"}),w&&Object(j.jsx)("div",{className:"options-container",children:function(){switch(t.estado){case 0:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return W(1)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#25D366",borderRadius:"10px",margin:"0 auto"},children:"Activar"}),Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return W(2)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#f39c12",borderRadius:"10px",margin:"0 auto"},children:"Mantenimiento"})]});case 1:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return W(0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#FF0000",borderRadius:"10px",margin:"0 auto"},children:"Desactivar"}),Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return W(2)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#f39c12",borderRadius:"10px",margin:"0 auto"},children:"Mantenimiento"})]});case 2:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return W(1)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#25D366",borderRadius:"10px",margin:"0 auto"},children:"Activar"}),Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return W(0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#FF0000",borderRadius:"10px",margin:"0 auto"},children:"Desactivar"})]});case 3:return Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return i(Object(u.h)({id_maquina:t.id}))},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#437294",borderRadius:"10px",margin:"0 auto"},children:"Actualizar"});default:return null}}()})]})]})]})})}},646:function(e,t,a){},649:function(e,t,a){},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(6),n=a(5),c=a(10),o=a(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new RegExp("^[0-9]+$","i"),a=Object(o.useState)(e),i=Object(c.a)(a,2),s=i[0],l=i[1],u=function(e){var a=e.target;(t.test(a.value)||0===a.value.length)&&l(Object(n.a)(Object(n.a)({},s),{},Object(r.a)({},a.name,a.value)))},d=function(){l(e)};return[s,u,d]}},659:function(e,t,a){},678:function(e,t,a){"use strict";var r=a(10),n=a(4),c=a(9),o=a(1),i=a(1071),s=a(38),l=a(123),u=a(637),d=a(220),b=a(2),j=["actions","children","defaultValue","name","onChange","value"],f=o.forwardRef((function(e,t){var a=e.actions,f=e.children,p=e.defaultValue,x=e.name,O=e.onChange,h=e.value,g=Object(c.a)(e,j),m=o.useRef(null),v=Object(l.a)({controlled:h,default:p,name:"RadioGroup"}),y=Object(r.a)(v,2),S=y[0],w=y[1];o.useImperativeHandle(a,(function(){return{focus:function(){var e=m.current.querySelector("input:not(:disabled):checked");e||(e=m.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var C=Object(s.a)(t,m),k=Object(d.a)(x),E=o.useMemo((function(){return{name:k,onChange:function(e){w(e.target.value),O&&O(e,e.target.value)},value:S}}),[k,O,w,S]);return Object(b.jsx)(u.a.Provider,{value:E,children:Object(b.jsx)(i.a,Object(n.a)({role:"radiogroup",ref:C},g,{children:f}))})}));t.a=f},684:function(e,t,a){"use strict";var r=a(6),n=a(9),c=a(4),o=a(1),i=a(12),s=a(119),l=a(331),u=a(640),d=a(16),b=a(82),j=a(2),f=Object(b.a)(Object(j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=Object(b.a)(Object(j.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),x=a(7),O=Object(x.a)("span",{shouldForwardProp:x.b})({position:"relative",display:"flex"}),h=Object(x.a)(f)({transform:"scale(1)"}),g=Object(x.a)(p)((function(e){var t=e.theme,a=e.ownerState;return Object(c.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},a.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var m=function(e){var t=e.checked,a=void 0!==t&&t,r=e.classes,n=void 0===r?{}:r,o=e.fontSize,i=Object(c.a)({},e,{checked:a});return Object(j.jsxs)(O,{className:n.root,ownerState:i,children:[Object(j.jsx)(h,{fontSize:o,className:n.background,ownerState:i}),Object(j.jsx)(g,{fontSize:o,className:n.dot,ownerState:i})]})},v=a(14),y=a(223),S=a(637);var w=a(90),C=a(80);function k(e){return Object(C.a)("MuiRadio",e)}var E=Object(w.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),R=["checked","checkedIcon","color","icon","name","onChange","size","className"],P=Object(x.a)(u.a,{shouldForwardProp:function(e){return Object(x.b)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,"medium"!==a.size&&t["size".concat(Object(v.a)(a.size))],t["color".concat(Object(v.a)(a.color))]]}})((function(e){var t=e.theme,a=e.ownerState;return Object(c.a)({color:(t.vars||t).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===a.color?t.vars.palette.action.activeChannel:t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(l.a)("default"===a.color?t.palette.action.active:t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&Object(r.a)({},"&.".concat(E.checked),{color:(t.vars||t).palette[a.color].main}),Object(r.a)({},"&.".concat(E.disabled),{color:(t.vars||t).palette.action.disabled}))}));var F=Object(j.jsx)(m,{checked:!0}),B=Object(j.jsx)(m,{}),M=o.forwardRef((function(e,t){var a,r,l,u,b=Object(d.a)({props:e,name:"MuiRadio"}),f=b.checked,p=b.checkedIcon,x=void 0===p?F:p,O=b.color,h=void 0===O?"primary":O,g=b.icon,m=void 0===g?B:g,w=b.name,C=b.onChange,E=b.size,M=void 0===E?"medium":E,D=b.className,T=Object(n.a)(b,R),N=Object(c.a)({},b,{color:h,size:M}),q=function(e){var t=e.classes,a=e.color,r=e.size,n={root:["root","color".concat(Object(v.a)(a)),"medium"!==r&&"size".concat(Object(v.a)(r))]};return Object(c.a)({},t,Object(s.a)(n,k,t))}(N),z=o.useContext(S.a),I=f,W=Object(y.a)(C,z&&z.onChange),_=w;return z&&("undefined"===typeof I&&(l=z.value,I="object"===typeof(u=b.value)&&null!==u?l===u:String(l)===String(u)),"undefined"===typeof _&&(_=z.name)),Object(j.jsx)(P,Object(c.a)({type:"radio",icon:o.cloneElement(m,{fontSize:null!=(a=B.props.fontSize)?a:M}),checkedIcon:o.cloneElement(x,{fontSize:null!=(r=F.props.fontSize)?r:M}),ownerState:N,classes:q,name:_,checked:I,onChange:W,ref:t,className:Object(i.a)(q.root,D)},T))}));t.a=M},702:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var r=a(18),n=a(28),c=a(122),o=(a(121),a(39),function(e){return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,i,s,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("maquina/crear",e,"POST");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("La maquina ya se encuentra registrada"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()}),i=function(e){return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,i,s,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("maquina/actualizar/".concat(e.id),e,"PUT");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("La maquina ya se encuentra registrada"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,o,i,s,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("usuario/actualizar/".concat(e.id),e,"PUT");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("El usuario ya se encuentra registrado"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()}},703:function(e,t,a){"use strict";a.r(t);var r=a(18),n=a(28),c=a(10),o=a(1),i=a.n(o),s=a(62),l=a(81),u=a(630),d=a(6),b=a(5),j=(a(649),a(335)),f=a(549),p=a(338),x=a(174),O=a(645),h=a(2),g=function(e){var t=e.updateIdentificacion,a=Object(l.c)((function(e){return e.entidadComercial.maquinas})).tarjetas,r=i.a.useState(""),n=Object(c.a)(r,2),s=n[0],u=n[1];return Object(o.useEffect)((function(){a&&u(a)}),[a]),Object(h.jsx)(h.Fragment,{children:s&&Object(h.jsx)("div",{className:"machines-container",children:s.map((function(e){return Object(h.jsx)(O.a,{machine:e,updateIdentificacion:t},e.id)}))})})},m=a(1033),v=a(620),y=a(7),S=a(622),w=a(560),C=a(614),k=a(60),E=a(218),R=a.n(E),P=a(627),F=a(624),B=a(553),M=a(177),D=a(750),T=a(756),N=a(213),q=a(616),z=a(621),I=a(1079),W=a(1067),_=a(1070),A=a(642),L=a(638),H=(a(641),a(639)),V=a(635),U=a(17),X=a(121),G=a.n(X),Y=a(995),J=a(754),$=a(755),K=a(556),Z=a(678),Q=a(1072),ee=a(684),te=a(309),ae=Object(M.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),re=Object(M.a)(C.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),ne=function(e){var t=e.children,a=e.onClose;return Object(h.jsxs)(re,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),a?Object(h.jsx)(F.a,{"aria-label":"Close",className:"closeButton",onClick:a,children:Object(h.jsx)(R.a,{})}):null]})},ce=function(e){var t=e.usuario,a=e.tarjeta,i=e.handleClose,s=e.limpiarSensor,d=Object(o.useState)(!1),b=Object(c.a)(d,2),j=b[0],p=b[1],x=Object(o.useState)([]),O=Object(c.a)(x,2),g=O[0],m=O[1],v=JSON.parse(localStorage.usuario),y=Object(l.b)(),w=Object(l.c)((function(e){return e.entidadComercial.maquina})).tarjetas,C=function(){p(!1)},k=function(){var e=Object(n.a)(Object(r.a)().mark((function e(n){var c,o,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m([]),c={id_cliente:null===t||void 0===t?void 0:t.id,codigo_sensor:a,usuario_registra:null===v||void 0===v?void 0:v.id,cupo_maximo:0===T?4:T,estado:"postpago"===F?"1":"prepago"===F?"2":"mixto"===F?"3":"0"},console.log(c),C(),i(),o=Object(u.a)(c),e.prev=6,e.next=9,y(o);case 9:201===(l=e.sent).status&&(G.a.fire(l.message,"","success"),s(l.data),console.log("tarjetas",w),w&&y(Object(u.h)({id_maquina:w.id}))),console.log("\xc9xito:",l),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),E=Object(o.useState)("postpago"),R=Object(c.a)(E,2),F=R[0],B=R[1],M=Object(o.useState)(0),D=Object(c.a)(M,2),T=D[0],N=D[1],q=function(e){if(e.preventDefault(),console.log("Tipo de Recarga:",F,"Valor de Recarga:",T),"prepago"===F&&0===T)return console.log("El valor de recarga prepago no puede ser 0"),void m(["El valor de recarga ".concat(F," no puede ser 0")]);"mixto"!==F||0!==T?(k(),console.log("Tipo de Recarga:",F),console.log("Valor de Recarga:",T)):m(["El valor de recarga ".concat(F," no puede ser 0")])};return Object(h.jsxs)("div",{children:[Object(h.jsx)(ae,{variant:"outlined",type:"submit",color:"primary",onClick:function(){p(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#25D366",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Asignar"}),Object(h.jsxs)(P.a,{open:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(ne,{id:"alert-dialog-title",sx:{fontWeight:"100"},children:[" ","Para asignar la pulsera ".concat(a," al usuario ").concat(null===t||void 0===t?void 0:t.nombres," ").concat(null===t||void 0===t?void 0:t.apellidos," complete los siguientes campos:")]}),Object(h.jsx)(J.a,{children:Object(h.jsx)($.a,{id:"alert-dialog-description",children:Object(h.jsx)("form",{onSubmit:q,style:{display:"flex",flexDirection:"column"},children:Object(h.jsxs)(S.a,{container:!0,children:[Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0}),Object(h.jsx)(S.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(K.a,{component:"fieldset",style:{marginBottom:"16px"},children:Object(h.jsxs)(Z.a,{"aria-label":"tipoRecarga",name:"tipoRecarga",value:F,onChange:function(e){B(e.target.value)},style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)(Q.a,{value:"postpago",control:Object(h.jsx)(ee.a,{}),label:"Postpago"}),Object(h.jsx)(Q.a,{value:"prepago",control:Object(h.jsx)(ee.a,{}),label:"Prepago"}),Object(h.jsx)(Q.a,{value:"mixto",control:Object(h.jsx)(ee.a,{}),label:"Mixto"})]})}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",fontSize:"xx-large",color:"postpago"===F?"#FF5722":"#4CAF50"},children:["postpago"===F?"Litros":"$",Object(h.jsx)(te.a,{id:"valorRecarga",label:"postpago"===F?"Catidad de litros":"Efectivo a recargar",type:"number",value:T,onChange:function(e){e.target.value>=0?N(e.target.value):N(0)}})]})]})}),Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0})]})})})}),Object(h.jsxs)(Y.a,{children:[g.length>0&&Object(h.jsx)("ul",{style:{color:"red"},children:g.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))}),Object(h.jsx)(f.a,{onClick:C,color:"primary",children:"Cancelar"}),Object(h.jsx)(f.a,{onClick:q,color:"primary",children:"Asignar"})]})]})]})},oe=[{id:"identificacion",numeric:!1,disablePadding:!1,label:"Identificaci\xf3n"},{id:"nombre",numeric:!1,disablePadding:!1,label:"Nombre"},{id:"asignar",numeric:!1,disablePadding:!1,label:"Asignar"}],ie=Object(N.a)(A.a),se=function(e){var t=e.listaEntidades,a=void 0===t?[]:t,r=e.getPage,n=(e.totalRegs,e.tarjeta),s=e.handleClose,u=e.limpiarSensor,d=Object(o.useState)(null),b=Object(c.a)(d,2),f=(b[0],b[1],Object(l.b)(),Object(U.m)(),Object(o.useState)("desc")),p=Object(c.a)(f,2),x=p[0],O=p[1],g=Object(o.useState)("estado"),m=Object(c.a)(g,2),v=m[0],y=m[1],w=Object(H.a)(a,a.length,r),C=(w.page,w.handleChangePage,w.loading,w.registros),k=i.a.useState(10),E=Object(c.a)(k,2);E[0],E[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(V.a,{children:Object(h.jsx)(S.a,{container:!0,children:Object(h.jsx)(S.a,{item:!0,xs:12,md:12,children:Object(h.jsx)(j.a,{with:"100%",overflow:"auto",children:Object(h.jsx)(q.a,{theme:ie,children:Object(h.jsx)(z.a,{sx:{with:"100%",overflow:"scroll"},children:Object(h.jsx)(I.a,{sx:{maxHeight:"100%"},children:Object(h.jsxs)(W.a,{sx:{minWidth:500},size:"small","aria-label":"a dense table",children:[Object(h.jsx)(L.a,{order:x,orderBy:v,onRequestSort:function(e,t){O(v===t&&"asc"===x?"desc":"asc"),y(t)},rowCount:C.length,headCells:oe}),Object(h.jsx)(_.a,{children:C.map((function(e){return Object(h.jsxs)(V.c,{children:[Object(h.jsx)(V.b,{align:"center",children:e.identificacion}),Object(h.jsxs)(V.b,{align:"left",children:[e.nombres," ",e.apellidos]}),Object(h.jsx)(V.b,{align:"left",children:Object(h.jsx)(ce,{usuario:e,tarjeta:n.tarjeta.codigo_sensor,handleClose:s,limpiarSensor:u})})]},e.id)}))})]})})})})})})})})})},le=(Object(y.a)("small")((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:t?"#84CDA4":"#F16360",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:t?"#DAF4E9":"#FDEDED",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),Object(y.a)("div")((function(e){e.theme;return{paddingRight:"0",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",textAlign:"center"}}))),ue=Object(y.a)("h5")((function(e){e.theme;return{padding:"0px",color:"#053D6B",fontSize:"16px",fontWeight:"bold",marginTop:"0",marginBottom:"0"}})),de=Object(y.a)("h5")((function(){return{padding:"0px",color:"#242532",fontSize:"16px",fontWeight:"normal",marginTop:"10px",marginBottom:"10px"}})),be=Object(y.a)(C.a)((function(e){e.theme;return{backgroundColor:"#053D6B"}})),je=Object(y.a)(S.a)((function(){return{display:"flex",alignContent:"start",alignItems:"center",borderBottom:"2px solid #DCDCDC"}})),fe=function(e){var t=e.solicitud,a=e.tarjeta,r=e.handleClose,n=e.limpiarSensor,i=Object(o.useState)(null),s=Object(c.a)(i,2),l=s[0],u=(s[1],Object(o.useState)(t)),d=Object(c.a)(u,2),b=d[0],j=(d[1],Object(o.useState)(a)),f=Object(c.a)(j,2),p=f[0];f[1];return Object(o.useEffect)((function(){console.log(b,a)}),[b,a]),Object(h.jsxs)(w.a,{sx:{marginTop:4,width:"100%"},children:[Object(h.jsx)(be,{id:"responsive-dialog-title",sx:{background:null!==b&&void 0!==b&&b.usuario?"#053D6B":"red"},children:Object(h.jsx)(S.a,{item:!0,lg:12,md:12,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(le,{children:Object(h.jsx)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:Object(h.jsx)(S.a,{container:!0,spacing:2,children:Object(h.jsx)(S.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(h.jsx)(de,{sx:{color:l?"#000000":"#ffffff",fontSize:25,display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(h.jsxs)(h.Fragment,{children:[b.nombres," ",b.apellidos,Object(h.jsx)(ce,{usuario:b,tarjeta:p.codigo_sensor,handleClose:r,limpiarSensor:n})]})})})})})})})}),Object(h.jsxs)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:[Object(h.jsxs)(je,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(ue,{children:"Correo"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(de,{children:null===b||void 0===b?void 0:b.correo})})]}),Object(h.jsxs)(je,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(ue,{})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(de,{})})]}),Object(h.jsxs)(je,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(ue,{children:"Identificaci\xf3n"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(de,{children:null===b||void 0===b?void 0:b.identificacion})})]})]})]})},pe=function(e){var t=e.tarjeta,a=e.handleClose,i=e.limpiarSensor,f=Object(o.useState)([t.registrados]),p=Object(c.a)(f,2),O=p[0],g=(p[1],Object(l.b)()),v=Object(l.c)((function(e){return e.entidadComercial.usuariosBeer})),y=v.tarjetas,S=(v.totalRegs,Object(o.useState)([])),w=Object(c.a)(S,2),C=w[0],k=w[1],E=Object(o.useState)(!1),R=Object(c.a)(E,2),P=(R[0],R[1]),F=Object(o.useState)(!1),B=Object(c.a)(F,2),M=B[0],D=B[1],T=Object(o.useState)({identificacion:""}),N=Object(c.a)(T,2),q=N[0],z=N[1],I=Object(o.useState)([]),W=Object(c.a)(I,2),_=W[0],A=W[1];Object(o.useEffect)((function(){if(O){console.log(O);var e=y.filter((function(e){var t=!1;return O.forEach((function(a){if(a.includes(e.id))return t=!0,!1})),!t}));console.log(e),k(e)}}),[y,t]),Object(o.useEffect)((function(){q.identificacion?function(e){var t=e.trim(),a=C.filter((function(e){var a=Number(e.identificacion),r=Number(t);return String(a).includes(String(r))}));A(a),D(0===a.length)}(q.identificacion):(A(C),D(!1))}),[C,q.identificacion]);var L=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!0);case 2:return t=y.filter((function(e){return e.identificacion.includes(q.identificacion)})),A(t),e.next=6,P(!1);case 6:D(0===t.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!0);case 2:return e.next=4,g(Object(u.k)(""));case 4:return e.next=6,P(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.i,{title:"Ingrese el n\xfamero de identificaci\xf3n",children:Object(h.jsxs)(j.a,{sx:{display:"flex",flexDirection:"column",padding:1,width:"100%"},children:[Object(h.jsx)(j.a,{sx:{width:"100%"},children:Object(h.jsx)(x.ValidatorForm,{onSubmit:L,children:Object(h.jsx)(j.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%",flexWrap:"wrap"},children:Object(h.jsx)(x.TextValidator,{value:q.identificacion,onChange:function(e){var t=e.target,a=t.name,r=t.value;z((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},a,r))}))},label:"Identificacion",name:"identificacion",fullWidth:!0,validators:["required"],errorMessages:["Este campo es requerido"]})})})}),Object(h.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",pt:2},children:[M&&0===C.length&&Object(h.jsx)(m.a,{severity:"info",children:"No hay usuarios disponibles"}),0===_.length&&Object(h.jsx)(m.a,{severity:"info",children:"No existen usuarios con esa c\xe9dula"}),1===_.length&&Object(h.jsx)(fe,{solicitud:_[0],tarjeta:t.tarjeta,handleClose:a,limpiarSensor:i}),_.length>1&&Object(h.jsx)(se,{listaEntidades:_,getPage:function(){},totalRegs:_.length,tarjeta:t,handleClose:a,limpiarSensor:i})]})]})})})},xe=a(650),Oe=a(623),he=a(634),ge=Object(M.a)(x.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}})),me=(Object(M.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Object(M.a)(C.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}}))),ve=function(e){var t=e.children,a=e.onClose;return Object(h.jsxs)(me,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),a?Object(h.jsx)(F.a,{"aria-label":"Close",className:"closeButton",onClick:a,children:Object(h.jsx)(R.a,{})}):null]})},ye=function(e){var t=e.usuarioProp,a=e.tarjeta,i=e.handleClose,j=e.limpiarSensor,O=Object(o.useState)({}),g=Object(c.a)(O,2),m=g[0],v=g[1],y=Object(o.useState)({}),w=Object(c.a)(y,2),C=(w[0],w[1]),k=Object(o.useState)(!1),E=Object(c.a)(k,2),R=E[0],F=E[1],B=JSON.parse(localStorage.usuario),M=Object(o.useState)(""),D=Object(c.a)(M,2),T=D[0],N=(D[1],Object(o.useState)("")),q=Object(c.a)(N,2),z=q[0],I=(q[1],Object(o.useState)(!0)),W=Object(c.a)(I,2),_=(W[0],W[1]),A=Object(o.useState)(!1),L=Object(c.a)(A,2),H=L[0],V=L[1],U=Object(o.useState)("postpago"),X=Object(c.a)(U,2),ae=X[0],re=X[1],ne=Object(o.useState)(0),ce=Object(c.a)(ne,2),oe=ce[0],ie=ce[1],se=Object(o.useState)([]),le=Object(c.a)(se,2),ue=le[0],de=le[1],be=Object(o.useState)(""),je=Object(c.a)(be,2),fe=je[0],pe=je[1],me=Object(l.c)((function(e){return e.entidadComercial.maquina})).tarjetas,ye=Object(l.b)(),Se=function(){V(!1)};Object(o.useEffect)((function(){v(t),console.log(a),C(a.tarjeta)}),[t,v,a]);var we=m.nombres,Ce=m.apellidos,ke=m.correo,Ee=(m.rol,m.identificacion,m.registrado_por,function(e){v(Object(b.a)(Object(b.a)({},m),{},Object(d.a)({},e.target.name,e.target.value)))});Object(o.useEffect)((function(){_(""===z||""===T)}),[z,T]);var Re=Object(xe.a)({identificacion:null===t||void 0===t?void 0:t.identificacion}),Pe=Object(c.a)(Re,3),Fe=Pe[0],Be=Pe[1],Me=(Pe[2],function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),t.preventDefault(),console.log(m),a=Object(b.a)(Object(b.a)(Object(b.a)({},m),Fe),{},{registrado_por:B.id,password:"Proatek@2023",rol:"CLIENTE",tipo_usuario:"BRONZE"}),console.log(a),e.prev=5,e.next=8,ye(Object(he.c)(a));case 8:n=e.sent,console.log(n),!1===n.success?G.a.fire({icon:"error",title:"Error",html:n.messages.join("<br>"),target:t.target}):(console.log(n),pe(n.data.id),V(!0)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error:",e.t0);case 16:F(!1);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()),De=function(e){if(e.preventDefault(),console.log("Tipo de Recarga:",ae,"Valor de Recarga:",oe),"prepago"===ae&&0===oe)return console.log("El valor de recarga prepago no puede ser 0"),void de(["El valor de recarga ".concat(ae," no puede ser 0")]);"mixto"!==ae||0!==oe?(Te(),console.log("Tipo de Recarga:",ae),console.log("Valor de Recarga:",oe)):de(["El valor de recarga ".concat(ae," no puede ser 0")])},Te=function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var n,c,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de([]),n={id_cliente:fe,codigo_sensor:a.tarjeta.codigo_sensor,usuario_registra:null===B||void 0===B?void 0:B.id,cupo_maximo:0===oe?4:oe,estado:"postpago"===ae?"1":"prepago"===ae?"2":"mixto"===ae?"3":"0"},console.log(n),Se(),i(),c=Object(u.a)(n),e.prev=6,e.next=9,ye(c);case 9:201===(o=e.sent).status&&(G.a.fire(o.message,"","success"),j(o.data),console.log("tarjetas",me),me&&ye(Object(u.h)({id_maquina:me.id}))),console.log("\xc9xito:",o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"create-category",children:[Object(h.jsx)(s.i,{title:"Nuevo usuario",children:Object(h.jsx)(x.ValidatorForm,{onSubmit:Me,children:Object(h.jsxs)(S.a,{container:!0,spacing:1,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"nombres",id:"standard-basic",value:we,onChange:Ee,errorMessages:["Este campo es requerido"],label:"Nombres",validators:["required"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"apellidos",id:"standard-basic",value:Ce,onChange:Ee,errorMessages:["Este campo es requerido"],label:"Apellidos",validators:["required"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"identificacion",id:"standard-basic",value:(null===Fe||void 0===Fe?void 0:Fe.identificacion)||"",onChange:Be,errorMessages:["Este campo es requerido","Debe contener m\xednimo 10 caracteres","Debe contener m\xe1ximo 13 caracteres"],label:"Identificacion",validators:["required","minStringLength: 10","maxStringLength: 13"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"correo",id:"standard-basic",value:ke,onChange:Ee,label:"Correo",errorMessages:["Este campo es requerido","Debe tener formato de email"],validators:["required","isEmail"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"telefono",id:"standard-basic",value:(null===Fe||void 0===Fe?void 0:Fe.telefono)||"",onChange:Be,errorMessages:["Este campo es requerido","Debe contener m\xednimo 10 caracteres","Debe contener m\xe1ximo 10 caracteres"],label:"telefono",validators:["required","minStringLength: 10","maxStringLength: 10"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2,textAlign:"center"},children:Object(h.jsxs)(Oe.a,{variant:"contained",color:"primary",loading:R,type:"submit",sx:{backgroundColor:"#053d6b",width:"100%",marginTop:"0px",display:"inline-block"},children:[Object(h.jsx)(p.a,{sx:{mr:"10px"},children:"save"}),"Crear"]})})]})})}),Object(h.jsxs)(P.a,{open:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(ve,{id:"alert-dialog-title",sx:{fontWeight:"100"},children:[" ","Para asignar la pulsera ".concat(a.tarjeta.codigo_sensor," al usuario ").concat(null===m||void 0===m?void 0:m.nombres," ").concat(null===m||void 0===m?void 0:m.apellidos," complete los siguientes campos:")]}),Object(h.jsx)(J.a,{children:Object(h.jsx)($.a,{id:"alert-dialog-description",children:Object(h.jsx)("form",{onSubmit:De,style:{display:"flex",flexDirection:"column"},children:Object(h.jsxs)(S.a,{container:!0,children:[Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0}),Object(h.jsx)(S.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(K.a,{component:"fieldset",style:{marginBottom:"16px"},children:Object(h.jsxs)(Z.a,{"aria-label":"tipoRecarga",name:"tipoRecarga",value:ae,onChange:function(e){re(e.target.value)},style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)(Q.a,{value:"postpago",control:Object(h.jsx)(ee.a,{}),label:"Postpago"}),Object(h.jsx)(Q.a,{value:"prepago",control:Object(h.jsx)(ee.a,{}),label:"Prepago"}),Object(h.jsx)(Q.a,{value:"mixto",control:Object(h.jsx)(ee.a,{}),label:"Mixto"})]})}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",fontSize:"xx-large",color:"postpago"===ae?"#FF5722":"#4CAF50"},children:["postpago"===ae?"Litros":"$",Object(h.jsx)(te.a,{id:"valorRecarga",label:"postpago"===ae?"Catidad de litros":"Efectivo a recargar",type:"number",value:oe,onChange:function(e){e.target.value>=0?ie(e.target.value):ie(0)}})]})]})}),Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0})]})})})}),Object(h.jsxs)(Y.a,{children:[ue.length>0&&Object(h.jsx)("ul",{style:{color:"red"},children:ue.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))}),Object(h.jsx)(f.a,{onClick:Se,color:"primary",children:"Cancelar"}),Object(h.jsx)(f.a,{onClick:De,color:"primary",children:"Asignar"})]})]})]})},Se=["children","value","index"],we=Object(M.a)(P.a)((function(e){e.theme;return{maxWidth:"800px",margin:"0 auto",display:"flex",alignItems:"center"}})),Ce=Object(M.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),ke=Object(M.a)(C.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),Ee=function(e){var t=e.children,a=e.onClose;return Object(h.jsxs)(ke,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),a?Object(h.jsx)(F.a,{"aria-label":"Close",className:"closeButton",onClick:a,children:Object(h.jsx)(R.a,{})}):null]})};function Re(e){var t=e.children,a=e.value,r=e.index,n=Object(k.a)(e,Se);return Object(h.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},n),{},{children:a===r&&Object(h.jsx)(j.a,{sx:{p:3},children:t})}))}function Pe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Fe=function(e){var t=Object(o.useState)(!1),a=Object(c.a)(t,2),r=a[0],n=a[1],s=function(){n(!1)};Object(o.useEffect)((function(){m(p)}),[r]);var l=i.a.useState(0),u=Object(c.a)(l,2),d=u[0],f=u[1],p={nombres:"",apellidos:"",correo:"",rol:"",identificacion:"",registrado_por:"",telefono:""},x=Object(o.useState)({}),O=Object(c.a)(x,2),g=O[0],m=O[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ce,{variant:"outlined",type:"submit",color:"primary",onClick:function(){return n(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#437294",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Asignar usuario"}),Object(h.jsx)(we,{"aria-labelledby":"customized-dialog-title",open:r,id:"create-category",children:Object(h.jsx)(Ee,{id:"customized-dialog-title",onClose:s,children:Object(h.jsx)(w.a,{children:Object(h.jsxs)(j.a,{sx:{width:"100%"},children:[Object(h.jsx)(j.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(h.jsxs)(D.a,{value:d,onChange:function(e,t){f(t)},"aria-label":"basic tabs example",children:[Object(h.jsx)(T.a,Object(b.a)({label:"Seleccionar usuario"},Pe(0))),Object(h.jsx)(T.a,Object(b.a)({label:"Nuevo usuario"},Pe(1)))]})}),Object(h.jsx)(Re,{value:d,index:0,children:Object(h.jsx)(pe,{tarjeta:e,handleClose:s,limpiarSensor:e.limpiarSensor})}),Object(h.jsx)(Re,{value:d,index:1,children:Object(h.jsx)(ye,{usuarioProp:g,tarjeta:e,handleClose:s,limpiarSensor:e.limpiarSensor})})]})})})})]})},Be=Object(M.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Me=Object(M.a)(C.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),De=function(e){var t=e.children,a=e.onClose;return Object(h.jsxs)(Me,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),a?Object(h.jsx)(F.a,{"aria-label":"Close",className:"closeButton",onClick:a,children:Object(h.jsx)(R.a,{})}):null]})},Te=function(e){var t=e.usuario,a=e.tarjeta,i=e.limpiarSensor,s=(function(){var e=Object(o.useState)(0),t=Object(c.a)(e,2)[1]}(),Object(o.useState)(!1)),d=Object(c.a)(s,2),b=d[0],j=d[1],p=(JSON.parse(localStorage.usuario),Object(l.b)()),x=function(){j(!1)},O=function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(),n=Object(u.d)(a.id),e.prev=2,e.next=5,p(n);case 5:201===(c=e.sent).status?(G.a.fire(c.message,"","success"),i(c.data)):G.a.fire("Error","Error al eliminar el usuario en el sensor","error"),console.log("\xc9xito:",c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(Be,{variant:"outlined",type:"submit",color:"secondary",onClick:function(){j(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#FF0000",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Quitar usuario"}),Object(h.jsxs)(P.a,{open:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(De,{id:"alert-dialog-title",children:"Confirmaci\xf3n"}),Object(h.jsx)(J.a,{children:Object(h.jsx)($.a,{id:"alert-dialog-description",children:"\xbfEst\xe1s seguro de que deseas eliminar al usuario ".concat(null===t||void 0===t?void 0:t.nombres," ").concat(null===t||void 0===t?void 0:t.apellidos," de la pulsera ").concat(a.codigo_sensor,"?")})}),Object(h.jsxs)(Y.a,{children:[Object(h.jsx)(f.a,{onClick:x,color:"primary",children:"Cancelar"}),Object(h.jsx)(f.a,{onClick:O,color:"primary",children:"Eliminar"})]})]})]})},Ne=a(8),qe=(a(659),a(646),function(e){var t=e.machine;console.log(t);var a=t.updated_at,r=new Date(a),n=r.getHours(),c=r.getMinutes(),o=r.getDate(),i=r.getMonth()+1,s=r.getFullYear(),l="".concat(n,":").concat(c," ").concat(o,"/").concat(i,"/").concat(s);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Total consumo:"})," ",t.total," L"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Precio:"})," ",t.precio.toFixed(2)," $"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Hora:"})," ",l]})]})}),ze=function(e){var t=e.updateIdentificacion,a=Object(l.c)((function(e){return e.entidadComercial.consumos})).tarjetas,r=Object(o.useState)("red"),n=Object(c.a)(r,2),s=n[0],u=n[1],d=Object(o.useState)("white"),b=Object(c.a)(d,2),j=b[0],f=b[1],p=Object(o.useState)(0),x=Object(c.a)(p,2),O=(x[0],x[1]),g=Object(o.useState)(0),m=Object(c.a)(g,2),v=(m[0],m[1]),y=Object(o.useState)([]),S=Object(c.a)(y,2),w=S[0],C=S[1];Object(o.useEffect)((function(){u("#DCDCDC"),f("black")}),[a]);var k=a.reduce((function(e,t){var a=t.maquina.id;return e[a]||(e[a]={consumos:[],pagados:[],porPagar:[]}),0===t.estado?e[a].pagados.push(t):2===t.estado&&e[a].porPagar.push(t),e[a].consumos.push(t),e}),{});Object(o.useEffect)((function(){var e=Object.entries(k).map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1],n=r.pagados,o=r.porPagar,i=n.reduce((function(e,t){return e+parseFloat(t.precio)}),0),s=o.reduce((function(e,t){return e+parseFloat(t.precio)}),0),l=parseFloat(s.toFixed(2));return{codigoSensor:a,totalPagadoMaquina:parseFloat(i.toFixed(2)),totalPorPagarMaquina:l,pagados:Object(Ne.a)(n),porPagar:Object(Ne.a)(o)}})),t=e.reduce((function(e,t){return e+t.totalPagadoMaquina}),0),a=e.reduce((function(e,t){return e+t.totalPorPagarMaquina}),0);O(t),v(a),C(e)}),[a]);var E=w.map((function(e){var r,n=e.codigoSensor,c=e.totalPagadoMaquina,o=e.totalPorPagarMaquina,l=e.pagados,u=e.porPagar,d="".concat(5.5*l.length,"rem"),b="".concat(5.5*u.length,"rem");return Object(h.jsxs)("div",{style:{display:"inline-block",margin:"10px"},children:[Object(h.jsxs)("h3",{style:{margin:"0px"},children:[null===(r=a.find((function(e){return e.maquina.id===n})))||void 0===r?void 0:r.maquina.tipo_cerveza," "]}),Object(h.jsx)("div",{className:"consumo-container",children:Object(h.jsxs)("div",{className:"machine",children:[0!==l.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h4",{style:{margin:"0px"},children:["Por pagar ",c]}),Object(h.jsx)("div",{className:"detalle-square",style:{backgroundColor:s,color:j,height:d},children:l.sort((function(e,t){return new Date(t.updated_at)-new Date(e.updated_at)})).map((function(e,a){return Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(qe,{machine:e,updateIdentificacion:t}),a!==l.length-1&&Object(h.jsx)("p",{children:"-------------------------------------------"})]},e.id)}))})]}),0!==u.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h4",{style:{margin:"0px"},children:["Pagado ",o]}),Object(h.jsx)("div",{className:"detalle-square",style:{backgroundColor:"#DAF4E9",color:j,height:b},children:u.map((function(e,a){return Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(qe,{machine:e,updateIdentificacion:t}),a!==u.length-1&&Object(h.jsx)("p",{children:"-------------------------------------------"})]},e.id)}))})]})]})})]},n)}));return Object(h.jsx)("div",{style:{whiteSpace:"nowrap"},children:E})},Ie=Object(M.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),We=(Object(M.a)(C.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between","& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),Object(M.a)("h5")((function(){return{padding:"10px",color:"#242532",fontSize:"20px",fontWeight:"normal",marginTop:"10px",marginBottom:"10px",background:"#82ffb1",borderRadius:"10px",textAlign:"center",width:"max-content",margin:"0 auto"}}))),_e=function(e){var t=e.usuario,a=e.tarjeta,i=e.updateIdentificacion,s=e.totalPrecios,d=e.limpiarSensor,b=function(){var e=Object(o.useState)(0),t=Object(c.a)(e,2)[1];return function(){return t((function(e){return e+1}))}}(),j=Object(o.useState)(!1),p=Object(c.a)(j,2),x=p[0],O=p[1],g=(JSON.parse(localStorage.usuario),Object(l.b)()),m=function(){O(!1)},v=function(){var e=Object(n.a)(Object(r.a)().mark((function e(a){var n,c,o,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id_cliente:t.id},c=Object(u.e)(n),e.prev=2,e.next=5,g(c);case 5:200===(o=e.sent).status?(G.a.fire(o.message,"Pago realizado con \xe9xito","success"),i(""),s=o.data.original.data,console.log("\xc9xito:",s),d(s),b()):G.a.fire("Error","Error al eliminar el usuario en el sensor","error"),m(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error:",e.t0),m();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ie,{variant:"outlined",type:"submit",color:"primary",onClick:function(){O(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#25D366",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Cobrar"}),Object(h.jsxs)(P.a,{open:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(S.a,{container:!0,spacing:1,maxWidth:"100%",children:[Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsx)(B.a,{variant:"h6",style:{marginBottom:"8px"},children:"Total a cobrar"})}),Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsxs)(We,{children:[s,"$ "]})}),Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsx)(B.a,{variant:"h6",style:{marginBottom:"8px"},children:"Usuario"})}),Object(h.jsxs)(S.a,{item:!0,xs:6,sx:{fontSize:"20px",textAlign:"end"},children:[null===t||void 0===t?void 0:t.nombres," ",null===t||void 0===t?void 0:t.apellidos," "]}),Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsx)(B.a,{variant:"h6",style:{marginBottom:"8px"},children:"Sensor"})}),Object(h.jsx)(S.a,{item:!0,xs:6,sx:{fontSize:"20px",textAlign:"end"},children:a.codigo_sensor})]})}),Object(h.jsxs)(Y.a,{style:{justifyContent:"center"},children:[Object(h.jsx)(f.a,{children:Object(h.jsxs)(Ie,{variant:"outlined",type:"submit",color:"secondary",onClick:m,sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#FF0000",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:["Cancelar"," "]})}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(Ie,{variant:"outlined",type:"submit",color:"primary",onClick:v,sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#437294",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:["Cobrar"," "]})})]})]})]})},Ae=(a(226),a(127),function(e){switch(e.type){case"GOLD":return Object(h.jsx)(v.a,{src:"/assets/images/beer/gold.png",sx:{cursor:"pointer",width:100,height:100}});case"SILVER":return Object(h.jsx)(v.a,{src:"/assets/images/beer/silver.png",sx:{cursor:"pointer",width:100,height:100}});case"BRONZE":return Object(h.jsx)(v.a,{src:"/assets/images/beer/bronce.png",sx:{cursor:"pointer",width:100,height:100}});default:return null}}),Le=Object(y.a)("small")((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:t?"#84CDA4":"#F16360",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:t?"#DAF4E9":"#FDEDED",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),He=Object(y.a)("div")((function(e){e.theme;return{paddingRight:"0",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",textAlign:"center"}})),Ve=Object(y.a)("h5")((function(e){e.theme;return{padding:"0px",color:"#053D6B",fontSize:"16px",fontWeight:"bold",marginTop:"0",marginBottom:"0"}})),Ue=Object(y.a)("h5")((function(){return{padding:"0px",color:"#242532",fontSize:"16px",fontWeight:"normal",marginTop:"10px",marginBottom:"10px"}})),Xe=Object(y.a)(C.a)((function(e){e.theme;return{backgroundColor:"#053D6B"}})),Ge=Object(y.a)(S.a)((function(){return{display:"flex",alignContent:"start",alignItems:"center",borderBottom:"2px solid #DCDCDC"}})),Ye=Object(y.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Je=function(e){var t=e.solicitud,a=e.registrados,i=e.updateIdentificacion,s=e.limpiarSensor,d=Object(l.b)(),b=Object(o.useState)(null),j=Object(c.a)(b,2),f=j[0],p=(j[1],Object(o.useState)(!1)),x=Object(c.a)(p,2),O=x[0],g=x[1],m=Object(o.useState)(0),v=Object(c.a)(m,2),y=v[0],C=v[1],k=Object(o.useState)(0),E=Object(c.a)(k,2),R=E[0],P=E[1],F=Object(o.useState)(0),B=Object(c.a)(F,2),M=B[0],D=B[1],T=Object(o.useState)(0),N=Object(c.a)(T,2),q=(N[0],N[1]),z=Object(l.c)((function(e){return e.entidadComercial.consumos})).tarjetas;console.log("Tarjetas:",t,z.length),Object(o.useEffect)((function(){if(4===t.estado){if(z){var e=z.filter((function(e){return 2===e.estado})).reduce((function(e,t){return e+parseFloat(t.precio)}),0),a=z.filter((function(e){return 0===e.estado})).reduce((function(e,t){return e+parseFloat(t.precio)}),0);console.log("Total de precios:",e,a);var r=0;if(t.usuario.ventas){var n=t.usuario.ventas.find((function(e){return 2===e.estado}));n?(console.log("Venta en estado 2 encontrada:",n),q(n),r=n.precio):console.log("No se encontr\xf3 ninguna venta en estado 2")}else console.log("No hay ventas disponibles");console.log("Total de precios:",a,e,r),C((a+e-r).toFixed(2)),D(r),P(parseFloat(e.toFixed(2)))}}else if(z){var c=z.reduce((function(e,t){return e+parseFloat(t.precio)}),0);C(parseFloat(c.toFixed(2)))}}),[z]);return Object(o.useEffect)((function(){if(console.log("solicitud",t),t){var e=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Object(u.f)(t.id_cliente));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[d]),Object(h.jsxs)(w.a,{sx:{marginTop:4,width:"70%"},children:[Object(h.jsx)(Xe,{id:"responsive-dialog-title",sx:{background:1===t.estado?"#2E3B61":2===t.estado?"#3A5E4D":3===t.estado||4===t.estado?"linear-gradient(to right, #2E3B61, #3A5E4D)":0!==t.estado||null!==t&&void 0!==t&&t.usuario?"grey":"red"},children:Object(h.jsx)(S.a,{item:!0,lg:12,md:12,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(He,{children:Object(h.jsx)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:Object(h.jsxs)(S.a,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:12,sm:12,xs:12,children:Object(h.jsx)(Ue,{sx:{color:f?"#000000":"#ffffff",fontSize:25,display:"flex",justifyContent:"space-between",alignItems:"center"},children:null!==t&&void 0!==t&&t.usuario?Object(h.jsxs)(h.Fragment,{children:[t.usuario.nombres," ",t.usuario.apellidos]}):Object(h.jsx)(h.Fragment,{children:"Disponible"})})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:12,sm:12,xs:12}),Object(h.jsx)(S.a,{item:!0,lg:4,md:12,sm:12,xs:12,children:Object(h.jsx)(Ue,{sx:{color:f?"#000000":"#ffffff",fontSize:25,display:"flex",justifyContent:"space-between",alignItems:"center"},children:null!==t&&void 0!==t&&t.usuario?Object(h.jsx)(Ae,{type:t.usuario.tipo_usuario}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Fe,{tarjeta:t,registrados:a,limpiarSensor:s})})})})]})})})})}),Object(h.jsxs)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:[Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ve,{children:" C\xf3digo de Sensor "})}),Object(h.jsxs)(S.a,{item:!0,container:!0,direction:"row",lg:6,md:6,sm:6,xs:12,children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsx)(Ue,{children:null===t||void 0===t?void 0:t.codigo_sensor})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsx)(Le,{activo:null===t||void 0===t?void 0:t.estado,children:null!==t&&void 0!==t&&t.estado?"Activo":"Inactivo"})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsx)(Ue,{children:null===t||void 0===t?void 0:t.tipo_sensor})})]})]}),4===t.estado&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ve,{children:"Recarga"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:M+"$"})})]}),Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ve,{children:"Consumo prepago"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:R+"$"})})]})]}),Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ve,{children:1===t.estado||4===t.estado?"Cupo M\xe1ximo":"Saldo"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:1===t.estado||4===t.estado?(null===t||void 0===t?void 0:t.cupo_maximo)+" Litros":(null===t||void 0===t?void 0:t.cupo_maximo)+"$"})})]}),Object(h.jsxs)(S.a,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ve,{children:1===t.estado||4===t.estado?"Total a pagar":"Consumo"})}),Object(h.jsxs)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,container:!0,direction:"row",children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsxs)(Ue,{children:[y,"$ "]})}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:0===y||0!==t.estado&&1!==t.estado&&4!==t.estado?0!==t.estado&&Object(h.jsx)(Te,{usuario:t.usuario,tarjeta:t,updateIdentificacion:i,limpiarSensor:s}):Object(h.jsx)(_e,{usuario:t.usuario,tarjeta:t,updateIdentificacion:i,totalPrecios:y,limpiarSensor:s})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:0!==z.length&&Object(h.jsxs)(Ye,{variant:"outlined",type:"submit",color:"primary",onClick:function(){g(!O)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#437294",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:["Detalles"," "]})})]})]})]})]}),Object(h.jsx)(Ge,{container:!0,spacing:2,children:Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:O&&Object(h.jsx)(ze,{})})})]})},$e=Object(M.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Ke=function(e){var t=e.tarjeta,a=e.updateIdentificacion,r=Object(o.useState)(!1),n=Object(c.a)(r,2),i=n[0];n[1];return Object(o.useEffect)((function(){}),[i]),Object(h.jsx)("div",{children:Object(h.jsx)($e,{variant:"outlined",type:"submit",color:"primary",onClick:function(){a(t.codigo_sensor)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#25D366",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Detalles"})})},Ze=Object(y.a)("small")((function(e){var t=e.activo;return{fontSize:20,fontWeight:"bold",color:2===t||3===t||4===t?"#ffffff":1===t?"#4BC95B":"#FF0000",padding:"2px 8px",borderRadius:"50%",overflow:"hidden",background:t?"#4BC95B":"#FF0000",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),Qe=[{id:"Estado",numeric:!1,disablePadding:!1,label:"Estado"},{id:"Cupo Maximo",numeric:!1,disablePadding:!1,label:"Cupo Maximo"},{id:"Tipo de Usuario",numeric:!1,disablePadding:!1,label:"Nombre"},{id:"Codigo de Sensor",numeric:!1,disablePadding:!1,label:"Sensor"},{id:"Detalles",numeric:!1,disablePadding:!1,label:"Detalles"}],et=Object(N.a)(A.a),tt=function(e){var t=e.listaEntidades,a=void 0===t?[]:t,r=e.getPage,n=(e.totalRegs,e.registrados),i=void 0===n?[]:n,s=e.updateIdentificacion,l=e.limpiarSensor,u=Object(o.useState)("desc"),d=Object(c.a)(u,2),b=d[0],f=d[1],p=Object(o.useState)("estado"),x=Object(c.a)(p,2),O=x[0],g=x[1],m=Object(H.a)(a,a.length,r),v=(m.page,m.handleChangePage,m.loading,m.registros);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(V.a,{children:Object(h.jsx)(S.a,{container:!0,children:Object(h.jsx)(S.a,{item:!0,xs:12,md:12,children:Object(h.jsx)(j.a,{with:"100%",overflow:"auto",children:Object(h.jsx)(q.a,{theme:et,children:Object(h.jsx)(z.a,{sx:{with:"100%",overflow:"scroll"},children:Object(h.jsx)(I.a,{sx:{maxHeight:"100%"},children:Object(h.jsxs)(W.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(h.jsx)(L.a,{order:b,orderBy:O,onRequestSort:function(e,t){f(O===t&&"asc"===b?"desc":"asc"),g(t)},rowCount:v.length,headCells:Qe}),Object(h.jsx)(_.a,{children:v.map((function(e){var t,a;return Object(h.jsxs)(V.c,{style:{background:0===e.estado&&0===e.cupo_maximo&&e.id_cliente||2===e.estado&&0===e.cupo_maximo&&e.id_cliente||4===e.estado&&0===e.cupo_maximo&&e.id_cliente?"linear-gradient(to right, hsl(0, 0%, 80%), hsl(0, 0%, 90%))":"inherit"},children:[Object(h.jsx)(V.b,{align:"left",children:Object(h.jsx)(Ze,{activo:e.estado,children:1===e.estado?"*":2===e.estado?"P":3===e.estado||4===e.estado?"M":"*"})}),Object(h.jsxs)(V.b,{align:"center",children:[e.cupo_maximo," ",1===e.estado?"Litros":0===e.estado?"":4===e.estado?"Litros":"D\xf3lares"]}),Object(h.jsxs)(V.b,{align:"left",children:[null===(t=e.usuario)||void 0===t?void 0:t.nombres," ",null===(a=e.usuario)||void 0===a?void 0:a.apellidos," "]}),Object(h.jsx)(V.b,{align:"left",children:e.codigo_sensor}),Object(h.jsx)(V.b,{align:"left",children:0===e.estado&&0===e.cupo_maximo&&e.id_cliente||2===e.estado||3===e.estado||4===e.estado||1===e.estado?Object(h.jsx)(Ke,{tarjeta:e,updateIdentificacion:s}):Object(h.jsx)(Fe,{tarjeta:e,registrados:i,limpiarSensor:l})})]},e.id)}))})]})})})})})})})})})},at=function(){var e=Object(l.c)((function(e){return e.entidadComercial.tarjetaCodigoSensor})),t=e.tarjetas,a=(e.totalRegs,Object(l.b)()),i=Object(o.useState)(!1),s=Object(c.a)(i,2),O=s[0],v=s[1],y=Object(o.useState)(t),S=Object(c.a)(y,2),w=S[0],C=S[1],k=Object(o.useState)({identificacion:""}),E=Object(c.a)(k,2),R=E[0],P=E[1],F=Object(o.useState)([]),B=Object(c.a)(F,2),M=B[0],D=B[1],T=Object(o.useState)([]),N=Object(c.a)(T,2),q=N[0],z=N[1],I=[],W=Object(o.useState)(!1),_=Object(c.a)(W,2),A=(_[0],_[1]),L=Object(l.c)((function(e){return e.entidadComercial.maquina.tarjetas})),H=function(e){P({identificacion:e})};Object(o.useEffect)((function(){C(t)}),[t]),Object(o.useEffect)((function(){w&&(w.forEach((function(e){e&&e.usuario&&I.push(e.usuario.id)})),z(I))}),[w]),Object(o.useEffect)((function(){R.identificacion?function(e){var t=e.trim(),a=w.filter((function(e){var a=Number(e.codigo_sensor),r=Number(t);return String(a).includes(String(r))}));console.log(a),D(a),v(0===a.length)}(R.identificacion):(D(w),v(!1))}),[R.identificacion,w]);var V=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(!0);case 2:return a=t.filter((function(e){return e.codigo_sensor.includes(R.identificacion)})),D(a),e.next=6,A(!1);case 6:v(0===a.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){console.log("Limpiando sensor",e);var t=w.map((function(t){return t.codigo_sensor===e.codigo_sensor?e:t}));console.log(t),D(t),C(t),H(e.codigo_sensor),H("")};return Object(h.jsxs)(j.a,{sx:{display:"flex",flexDirection:"column",padding:1,width:"100%"},children:[1===M.length?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(g,{updateIdentificacion:H}),Object(h.jsx)(j.a,{sx:{width:"100%"},children:Object(h.jsx)(x.ValidatorForm,{onSubmit:V,children:Object(h.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%",flexWrap:"wrap"},children:[Object(h.jsx)(x.TextValidator,{value:R.identificacion,onChange:function(e){var t=e.target,a=t.name,r=t.value;P((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},a,r))}))},label:"Codigo",name:"identificacion",fullWidth:!0,validators:["required"],errorMessages:["Este campo es requerido"]}),Object(h.jsxs)(f.a,{variant:"contained",color:"secondary",size:"large",onClick:Object(n.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===L||void 0===L||!L.codigo_sensor){e.next=10;break}return e.next=4,a(Object(u.c)(L.codigo_sensor));case 4:if(!e.sent){e.next=10;break}return e.next=8,a(Object(u.h)({id_maquina:L.id}));case 8:e.sent&&P({identificacion:""});case 10:P({identificacion:""}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),sx:{height:50,ml:2,backgroundColor:"red",color:"white"},children:[Object(h.jsx)(p.a,{sx:{mr:2},children:"close"}),"Borrar"]})]})})}),Object(h.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",pt:0},children:[O&&0===t.length&&Object(h.jsx)(m.a,{severity:"info",children:"No existen sensores registrados"}),0===M.length&&Object(h.jsx)(m.a,{severity:"info",children:"No existen sensores con ese c\xf3digo "}),1===M.length&&Object(h.jsx)(Je,{solicitud:M[0],registrados:q,updateIdentificacion:H,limpiarSensor:U}),M.length>1&&Object(h.jsx)(tt,{listaEntidades:M,getPage:function(){},totalRegs:M.length,registrados:q,updateIdentificacion:H,limpiarSensor:U})]})]})};t.default=function(){var e=Object(l.b)(),t=Object(o.useState)(!1),a=Object(c.a)(t,2),i=(a[0],a[1]);return Object(o.useEffect)((function(){var t=function(){var t=Object(n.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(!0);case 2:return t.next=4,e(Object(u.j)(""));case 4:return t.next=6,e(Object(u.k)(""));case 6:return t.next=8,e(Object(u.i)(""));case 8:return t.next=10,i(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.i,{children:Object(h.jsx)(at,{})})})}},747:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(10),n=a(5),c=a(549),o=a(627),i=a(995),s=a(754),l=a(755),u=a(614),d=a(545),b=a(7),j=a(1),f=a.n(j),p=a(2),x=Object(b.a)(c.a)((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:"#ffffff",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:0===t?"#FF6666":1===t?"#66CC99":2===t?"#FFCC66":"black",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),O=f.a.forwardRef((function(e,t){return Object(p.jsx)(d.a,Object(n.a)({direction:"up",ref:t},e))})),h=function(e){var t=e.estadoEntidad,a=e.getEstadoEntidad,n=f.a.useState(!1),d=Object(r.a)(n,2),b=d[0],h=d[1],g=Object(j.useState)(t),m=Object(r.a)(g,2),v=m[0],y=m[1];function S(){h(!1)}return Object(j.useEffect)((function(){a(v)}),[v]),Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{activo:v,onClick:function(){h(!0)},children:0===v?"Inactivo":1===v?"Activo":2===v?"Mantenimiento":3===v?"CAJA":"Desconocido"}),Object(p.jsxs)(o.a,{open:b,keepMounted:!0,onClose:S,TransitionComponent:O,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(p.jsx)(u.a,{id:"alert-dialog-slide-title",children:"Cambiar estado de la entidad"}),Object(p.jsx)(s.a,{children:Object(p.jsx)(l.a,{id:"alert-dialog-slide-description",children:"Al cambiar el estado de la entidad se eliminar\xe1 el registro.  \n            \xbfDesea cambiar de ".concat(v?"activo":"inactivo"," a ").concat(v?"inactivo":"activo","?")})}),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(c.a,{onClick:S,color:"secondary",variant:"contained",children:"Cancelar"}),Object(p.jsx)(c.a,{onClick:function(){y(!v),S()},color:"primary",variant:"contained",children:"Cambiar"})]})]})]})}},748:function(e,t,a){"use strict";var r=a(340);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(341)),c=a(2),o=(0,n.default)((0,c.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},750:function(e,t,a){"use strict";var r,n=a(10),c=a(6),o=a(9),i=a(4),s=a(1),l=(a(140),a(12)),u=a(119),d=a(619),b=a(7),j=a(16),f=a(33),p=a(102);function x(){if(r)return r;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),r="reverse",e.scrollLeft>0?r="default":(e.scrollLeft=1,0===e.scrollLeft&&(r="negative")),document.body.removeChild(e),r}function O(e,t){var a=e.scrollLeft;if("rtl"!==t)return a;switch(x()){case"negative":return e.scrollWidth-e.clientWidth+a;case"reverse":return e.scrollWidth-e.clientWidth-a;default:return a}}function h(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function g(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},c=r.ease,o=void 0===c?h:c,i=r.duration,s=void 0===i?300:i,l=null,u=t[e],d=!1,b=function(){d=!0},j=function r(c){if(d)n(new Error("Animation cancelled"));else{null===l&&(l=c);var i=Math.min(1,(c-l)/s);t[e]=o(i)*(a-u)+u,i>=1?requestAnimationFrame((function(){n(null)})):requestAnimationFrame(r)}};return u===a?(n(new Error("Element already at target position")),b):(requestAnimationFrame(j),b)}var m=a(67),v=a(95),y=a(2),S=["onChange"],w={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var C=a(658),k=a(657),E=a(615),R=a(90),P=a(80);function F(e){return Object(P.a)("MuiTabScrollButton",e)}var B=Object(R.a)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),M=["className","slots","slotProps","direction","orientation","disabled"],D=Object(b.a)(E.a,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.orientation&&t[a.orientation]]}})((function(e){var t=e.ownerState;return Object(i.a)(Object(c.a)({width:40,flexShrink:0,opacity:.8},"&.".concat(B.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),T=s.forwardRef((function(e,t){var a,r,n=Object(j.a)({props:e,name:"MuiTabScrollButton"}),c=n.className,s=n.slots,b=void 0===s?{}:s,p=n.slotProps,x=void 0===p?{}:p,O=n.direction,h=Object(o.a)(n,M),g="rtl"===Object(f.a)().direction,m=Object(i.a)({isRtl:g},n),v=function(e){var t=e.classes,a={root:["root",e.orientation,e.disabled&&"disabled"]};return Object(u.a)(a,F,t)}(m),S=null!=(a=b.StartScrollButtonIcon)?a:C.a,w=null!=(r=b.EndScrollButtonIcon)?r:k.a,E=Object(d.a)({elementType:S,externalSlotProps:x.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),R=Object(d.a)({elementType:w,externalSlotProps:x.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return Object(y.jsx)(D,Object(i.a)({component:"div",className:Object(l.a)(v.root,c),ref:t,role:null,ownerState:m,tabIndex:null},h,{children:"left"===O?Object(y.jsx)(S,Object(i.a)({},E)):Object(y.jsx)(w,Object(i.a)({},R))}))})),N=a(91);function q(e){return Object(P.a)("MuiTabs",e)}var z=Object(R.a)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),I=a(68),W=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],_=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},A=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},L=function(e,t,a){for(var r=!1,n=a(e,t);n;){if(n===e.firstChild){if(r)return;r=!0}var c=n.disabled||"true"===n.getAttribute("aria-disabled");if(n.hasAttribute("tabindex")&&!c)return void n.focus();n=a(e,n)}},H=Object(b.a)("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[Object(c.a)({},"& .".concat(z.scrollButtons),t.scrollButtons),Object(c.a)({},"& .".concat(z.scrollButtons),a.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,a.vertical&&t.vertical]}})((function(e){var t=e.ownerState,a=e.theme;return Object(i.a)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&Object(c.a)({},"& .".concat(z.scrollButtons),Object(c.a)({},a.breakpoints.down("sm"),{display:"none"})))})),V=Object(b.a)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var a=e.ownerState;return[t.scroller,a.fixed&&t.fixed,a.hideScrollbar&&t.hideScrollbar,a.scrollableX&&t.scrollableX,a.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return Object(i.a)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),U=Object(b.a)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var a=e.ownerState;return[t.flexContainer,a.vertical&&t.flexContainerVertical,a.centered&&t.centered]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),X=Object(b.a)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,a=e.theme;return Object(i.a)({position:"absolute",height:2,bottom:0,width:"100%",transition:a.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(a.vars||a).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(a.vars||a).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),G=Object(b.a)((function(e){var t=e.onChange,a=Object(o.a)(e,S),r=s.useRef(),n=s.useRef(null),c=function(){r.current=n.current.offsetHeight-n.current.clientHeight};return Object(m.a)((function(){var e=Object(p.a)((function(){var e=r.current;c(),e!==r.current&&t(r.current)})),a=Object(v.a)(n.current);return a.addEventListener("resize",e),function(){e.clear(),a.removeEventListener("resize",e)}}),[t]),s.useEffect((function(){c(),t(r.current)}),[t]),Object(y.jsx)("div",Object(i.a)({style:w,ref:n},a))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Y={},J=s.forwardRef((function(e,t){var a=Object(j.a)({props:e,name:"MuiTabs"}),r=Object(f.a)(),b="rtl"===r.direction,h=a["aria-label"],m=a["aria-labelledby"],S=a.action,w=a.centered,C=void 0!==w&&w,k=a.children,E=a.className,R=a.component,P=void 0===R?"div":R,F=a.allowScrollButtonsMobile,B=void 0!==F&&F,M=a.indicatorColor,D=void 0===M?"primary":M,z=a.onChange,J=a.orientation,$=void 0===J?"horizontal":J,K=a.ScrollButtonComponent,Z=void 0===K?T:K,Q=a.scrollButtons,ee=void 0===Q?"auto":Q,te=a.selectionFollowsFocus,ae=a.slots,re=void 0===ae?{}:ae,ne=a.slotProps,ce=void 0===ne?{}:ne,oe=a.TabIndicatorProps,ie=void 0===oe?{}:oe,se=a.TabScrollButtonProps,le=void 0===se?{}:se,ue=a.textColor,de=void 0===ue?"primary":ue,be=a.value,je=a.variant,fe=void 0===je?"standard":je,pe=a.visibleScrollbar,xe=void 0!==pe&&pe,Oe=Object(o.a)(a,W),he="scrollable"===fe,ge="vertical"===$,me=ge?"scrollTop":"scrollLeft",ve=ge?"top":"left",ye=ge?"bottom":"right",Se=ge?"clientHeight":"clientWidth",we=ge?"height":"width",Ce=Object(i.a)({},a,{component:P,allowScrollButtonsMobile:B,indicatorColor:D,orientation:$,vertical:ge,scrollButtons:ee,textColor:de,variant:fe,visibleScrollbar:xe,fixed:!he,hideScrollbar:he&&!xe,scrollableX:he&&!ge,scrollableY:he&&ge,centered:C&&!he,scrollButtonsHideMobile:!B}),ke=function(e){var t=e.vertical,a=e.fixed,r=e.hideScrollbar,n=e.scrollableX,c=e.scrollableY,o=e.centered,i=e.scrollButtonsHideMobile,s=e.classes,l={root:["root",t&&"vertical"],scroller:["scroller",a&&"fixed",r&&"hideScrollbar",n&&"scrollableX",c&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",i&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return Object(u.a)(l,q,s)}(Ce),Ee=Object(d.a)({elementType:re.StartScrollButtonIcon,externalSlotProps:ce.startScrollButtonIcon,ownerState:Ce}),Re=Object(d.a)({elementType:re.EndScrollButtonIcon,externalSlotProps:ce.endScrollButtonIcon,ownerState:Ce});var Pe=s.useState(!1),Fe=Object(n.a)(Pe,2),Be=Fe[0],Me=Fe[1],De=s.useState(Y),Te=Object(n.a)(De,2),Ne=Te[0],qe=Te[1],ze=s.useState(!1),Ie=Object(n.a)(ze,2),We=Ie[0],_e=Ie[1],Ae=s.useState(!1),Le=Object(n.a)(Ae,2),He=Le[0],Ve=Le[1],Ue=s.useState(!1),Xe=Object(n.a)(Ue,2),Ge=Xe[0],Ye=Xe[1],Je=s.useState({overflow:"hidden",scrollbarWidth:0}),$e=Object(n.a)(Je,2),Ke=$e[0],Ze=$e[1],Qe=new Map,et=s.useRef(null),tt=s.useRef(null),at=function(){var e,t,a=et.current;if(a){var n=a.getBoundingClientRect();e={clientWidth:a.clientWidth,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop,scrollLeftNormalized:O(a,r.direction),scrollWidth:a.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(a&&!1!==be){var c=tt.current.children;if(c.length>0){var o=c[Qe.get(be)];0,t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},rt=Object(N.a)((function(){var e,t,a=at(),r=a.tabsMeta,n=a.tabMeta,o=0;if(ge)t="top",n&&r&&(o=n.top-r.top+r.scrollTop);else if(t=b?"right":"left",n&&r){var i=b?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;o=(b?-1:1)*(n[t]-r[t]+i)}var s=(e={},Object(c.a)(e,t,o),Object(c.a)(e,we,n?n[we]:0),e);if(isNaN(Ne[t])||isNaN(Ne[we]))qe(s);else{var l=Math.abs(Ne[t]-s[t]),u=Math.abs(Ne[we]-s[we]);(l>=1||u>=1)&&qe(s)}})),nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.animation,n=void 0===a||a;n?g(me,et.current,e,{duration:r.transitions.duration.standard}):et.current[me]=e},ct=function(e){var t=et.current[me];ge?t+=e:(t+=e*(b?-1:1),t*=b&&"reverse"===x()?-1:1),nt(t)},ot=function(){for(var e=et.current[Se],t=0,a=Array.from(tt.current.children),r=0;r<a.length;r+=1){var n=a[r];if(t+n[Se]>e){0===r&&(t=e);break}t+=n[Se]}return t},it=function(){ct(-1*ot())},st=function(){ct(ot())},lt=s.useCallback((function(e){Ze({overflow:null,scrollbarWidth:e})}),[]),ut=Object(N.a)((function(e){var t=at(),a=t.tabsMeta,r=t.tabMeta;if(r&&a)if(r[ve]<a[ve]){var n=a[me]+(r[ve]-a[ve]);nt(n,{animation:e})}else if(r[ye]>a[ye]){var c=a[me]+(r[ye]-a[ye]);nt(c,{animation:e})}})),dt=Object(N.a)((function(){he&&!1!==ee&&Ye(!Ge)}));s.useEffect((function(){var e,t,a=Object(p.a)((function(){et.current&&rt()})),r=Object(v.a)(et.current);return r.addEventListener("resize",a),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(a),Array.from(tt.current.children).forEach((function(t){e.observe(t)}))),"undefined"!==typeof MutationObserver&&(t=new MutationObserver((function(t){t.forEach((function(t){t.removedNodes.forEach((function(t){var a;null==(a=e)||a.unobserve(t)})),t.addedNodes.forEach((function(t){var a;null==(a=e)||a.observe(t)}))})),a(),dt()}))).observe(tt.current,{childList:!0}),function(){var n,c;a.clear(),r.removeEventListener("resize",a),null==(n=t)||n.disconnect(),null==(c=e)||c.disconnect()}}),[rt,dt]),s.useEffect((function(){var e=Array.from(tt.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&he&&!1!==ee){var a=e[0],r=e[t-1],n={root:et.current,threshold:.99},c=new IntersectionObserver((function(e){_e(!e[0].isIntersecting)}),n);c.observe(a);var o=new IntersectionObserver((function(e){Ve(!e[0].isIntersecting)}),n);return o.observe(r),function(){c.disconnect(),o.disconnect()}}}),[he,ee,Ge,null==k?void 0:k.length]),s.useEffect((function(){Me(!0)}),[]),s.useEffect((function(){rt()})),s.useEffect((function(){ut(Y!==Ne)}),[ut,Ne]),s.useImperativeHandle(S,(function(){return{updateIndicator:rt,updateScrollButtons:dt}}),[rt,dt]);var bt=Object(y.jsx)(X,Object(i.a)({},ie,{className:Object(l.a)(ke.indicator,ie.className),ownerState:Ce,style:Object(i.a)({},Ne,ie.style)})),jt=0,ft=s.Children.map(k,(function(e){if(!s.isValidElement(e))return null;var t=void 0===e.props.value?jt:e.props.value;Qe.set(t,jt);var a=t===be;return jt+=1,s.cloneElement(e,Object(i.a)({fullWidth:"fullWidth"===fe,indicator:a&&!Be&&bt,selected:a,selectionFollowsFocus:te,onChange:z,textColor:de,value:t},1!==jt||!1!==be||e.props.tabIndex?{}:{tabIndex:0}))})),pt=function(){var e={};e.scrollbarSizeListener=he?Object(y.jsx)(G,{onChange:lt,className:Object(l.a)(ke.scrollableX,ke.hideScrollbar)}):null;var t=he&&("auto"===ee&&(We||He)||!0===ee);return e.scrollButtonStart=t?Object(y.jsx)(Z,Object(i.a)({slots:{StartScrollButtonIcon:re.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ee},orientation:$,direction:b?"right":"left",onClick:it,disabled:!We},le,{className:Object(l.a)(ke.scrollButtons,le.className)})):null,e.scrollButtonEnd=t?Object(y.jsx)(Z,Object(i.a)({slots:{EndScrollButtonIcon:re.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Re},orientation:$,direction:b?"left":"right",onClick:st,disabled:!He},le,{className:Object(l.a)(ke.scrollButtons,le.className)})):null,e}();return Object(y.jsxs)(H,Object(i.a)({className:Object(l.a)(ke.root,E),ownerState:Ce,ref:t,as:P},Oe,{children:[pt.scrollButtonStart,pt.scrollbarSizeListener,Object(y.jsxs)(V,{className:ke.scroller,ownerState:Ce,style:Object(c.a)({overflow:Ke.overflow},ge?"margin".concat(b?"Left":"Right"):"marginBottom",xe?void 0:-Ke.scrollbarWidth),ref:et,children:[Object(y.jsx)(U,{"aria-label":h,"aria-labelledby":m,"aria-orientation":"vertical"===$?"vertical":null,className:ke.flexContainer,ownerState:Ce,onKeyDown:function(e){var t=tt.current,a=Object(I.a)(t).activeElement;if("tab"===a.getAttribute("role")){var r="horizontal"===$?"ArrowLeft":"ArrowUp",n="horizontal"===$?"ArrowRight":"ArrowDown";switch("horizontal"===$&&b&&(r="ArrowRight",n="ArrowLeft"),e.key){case r:e.preventDefault(),L(t,a,A);break;case n:e.preventDefault(),L(t,a,_);break;case"Home":e.preventDefault(),L(t,null,_);break;case"End":e.preventDefault(),L(t,null,A)}}},ref:tt,role:"tablist",children:ft}),Be&&bt]}),pt.scrollButtonEnd]}))}));t.a=J},752:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(10),n=a(1),c=a.n(n),o=a(81),i=(a(646),a(2)),s=function(e){var t=e.machine;console.log(t);var a=t.updated_at,r=new Date(a),n=r.getHours(),c=r.getMinutes(),o=r.getDate(),s=r.getMonth()+1,l=r.getFullYear(),u=" ".concat(o,"/").concat(s,"/").concat(l,"  ").concat(n,":").concat(c);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",margin:"0px 5px 0px 5px"},children:[Object(i.jsx)("p",{style:{margin:"0"},children:u}),Object(i.jsxs)("b",{style:{margin:"0"},children:[t.total," L"]})]}),Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(i.jsxs)("h2",{style:{margin:"0"},children:["$ ",t.precio.toFixed(2)]})})]})},l=a(8),u=(a(645),a(659),a(703),function(e){var t=e.updateIdentificacion,a=e.tarjetas,o=Object(n.useState)("red"),u=Object(r.a)(o,2),d=(u[0],u[1]),b=Object(n.useState)("white"),j=Object(r.a)(b,2),f=j[0],p=j[1],x=Object(n.useState)(0),O=Object(r.a)(x,2),h=(O[0],O[1]),g=Object(n.useState)(0),m=Object(r.a)(g,2),v=(m[0],m[1]),y=Object(n.useState)([]),S=Object(r.a)(y,2),w=S[0],C=S[1];Object(n.useEffect)((function(){d("#DCDCDC"),p("black")}),[a]);var k=a.reduce((function(e,t){console.log(t);var a=t.maquina.id;return e[a]||(e[a]={consumos:[],pagados:[],porPagar:[]}),0===t.estado?e[a].pagados.push(t):2===t.estado&&e[a].porPagar.push(t),e[a].consumos.push(t),e}),{});Object(n.useEffect)((function(){var e=Object.entries(k).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1],c=n.pagados,o=n.porPagar,i=n.consumos;return{codigoSensor:a,totalPagadoMaquina:c.reduce((function(e,t){return e+parseFloat(t.precio)}),0),totalPorPagarMaquina:o.reduce((function(e,t){return e+parseFloat(t.precio)}),0),pagados:Object(l.a)(c),porPagar:Object(l.a)(o),consumos:Object(l.a)(i)}})),t=e.reduce((function(e,t){return e+t.totalPagadoMaquina}),0),a=e.reduce((function(e,t){return e+t.totalPorPagarMaquina}),0);h(t),v(a),C(e)}),[a]);var E=w.map((function(e){var r,n=e.codigoSensor,o=(e.totalPagadoMaquina,e.totalPorPagarMaquina,e.pagados),l=(e.porPagar,e.consumos),u=("".concat(5.5*o.length,"rem"),"".concat(4.5*l.length,"rem"));return Object(i.jsxs)("div",{style:{display:"inline-block",margin:"10px"},children:[Object(i.jsxs)("h3",{style:{margin:"0px"},children:[null===(r=a.find((function(e){return e.maquina.id===n})))||void 0===r?void 0:r.maquina.tipo_cerveza," "]}),Object(i.jsx)("div",{className:"consumo-container",children:Object(i.jsx)("div",{className:"machine",children:0!==l.length&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"detalle-square",style:{backgroundColor:"#CDCDCD",color:f,height:u},children:l.map((function(e,a){return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(s,{machine:e,updateIdentificacion:t}),a!==l.length-1&&Object(i.jsx)("p",{children:"-------------------------------------------"})]},e.id)}))})})})})]},n)}));return Object(i.jsx)("div",{style:{whiteSpace:"nowrap"},children:E})}),d=function(){var e=Object(o.c)((function(e){return e.entidadComercial.ventas})).tarjetas,t=Object(n.useState)(null),a=Object(r.a)(t,2),c=a[0],l=a[1],d=Object(n.useState)("#DAF4E9"),b=Object(r.a)(d,2),j=b[0],f=(b[1],Object(n.useState)("black")),p=Object(r.a)(f,2),x=p[0],O=(p[1],"".concat(4.125,"rem"));return Object(i.jsx)("div",{style:{display:"flex"},children:e.map((function(e,t){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"detalle-square",style:{backgroundColor:j,color:x,height:O,flexDirection:"column",margin:"5px",padding:"0px"},children:[Object(i.jsx)("div",{onClick:function(){return function(e){l(e===c?null:e)}(e)},style:{marginBottom:"10px"},children:Object(i.jsx)(s,{machine:e})},e.id),c&&c===e&&Object(i.jsx)("div",{children:Object(i.jsx)(u,{tarjetas:c.consumos})})]})})}))})}},754:function(e,t,a){"use strict";var r=a(6),n=a(9),c=a(4),o=a(1),i=a(12),s=a(119),l=a(7),u=a(16),d=a(90),b=a(80);function j(e){return Object(b.a)("MuiDialogContent",e)}Object(d.a)("MuiDialogContent",["root","dividers"]);var f=a(227),p=a(2),x=["className","dividers"],O=Object(l.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dividers&&t.dividers]}})((function(e){var t=e.theme,a=e.ownerState;return Object(c.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:Object(r.a)({},".".concat(f.a.root," + &"),{paddingTop:0}))})),h=o.forwardRef((function(e,t){var a=Object(u.a)({props:e,name:"MuiDialogContent"}),r=a.className,o=a.dividers,l=void 0!==o&&o,d=Object(n.a)(a,x),b=Object(c.a)({},a,{dividers:l}),f=function(e){var t=e.classes,a={root:["root",e.dividers&&"dividers"]};return Object(s.a)(a,j,t)}(b);return Object(p.jsx)(O,Object(c.a)({className:Object(i.a)(f.root,r),ownerState:b,ref:t},d))}));t.a=h},755:function(e,t,a){"use strict";var r=a(9),n=a(4),c=a(1),o=a(12),i=a(119),s=a(7),l=a(16),u=a(553),d=a(90),b=a(80);function j(e){return Object(b.a)("MuiDialogContentText",e)}Object(d.a)("MuiDialogContentText",["root"]);var f=a(2),p=["children","className"],x=Object(s.a)(u.a,{shouldForwardProp:function(e){return Object(s.b)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),O=c.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiDialogContentText"}),c=a.className,s=Object(r.a)(a,p),u=function(e){var t=e.classes,a=Object(i.a)({root:["root"]},j,t);return Object(n.a)({},t,a)}(s);return Object(f.jsx)(x,Object(n.a)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:s,className:Object(o.a)(u.root,c)},a,{classes:u}))}));t.a=O},756:function(e,t,a){"use strict";var r=a(6),n=a(9),c=a(4),o=a(1),i=a(12),s=a(119),l=a(615),u=a(14),d=a(16),b=a(7),j=a(90),f=a(80);function p(e){return Object(f.a)("MuiTab",e)}var x=Object(j.a)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),O=a(2),h=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],g=Object(b.a)(l.a,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.label&&a.icon&&t.labelIcon,t["textColor".concat(Object(u.a)(a.textColor))],a.fullWidth&&t.fullWidth,a.wrapped&&t.wrapped]}})((function(e){var t,a,n,o=e.theme,i=e.ownerState;return Object(c.a)({},o.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},i.label&&{flexDirection:"top"===i.iconPosition||"bottom"===i.iconPosition?"column":"row"},{lineHeight:1.25},i.icon&&i.label&&Object(r.a)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(x.iconWrapper),Object(c.a)({},"top"===i.iconPosition&&{marginBottom:6},"bottom"===i.iconPosition&&{marginTop:6},"start"===i.iconPosition&&{marginRight:o.spacing(1)},"end"===i.iconPosition&&{marginLeft:o.spacing(1)})),"inherit"===i.textColor&&(t={color:"inherit",opacity:.6},Object(r.a)(t,"&.".concat(x.selected),{opacity:1}),Object(r.a)(t,"&.".concat(x.disabled),{opacity:(o.vars||o).palette.action.disabledOpacity}),t),"primary"===i.textColor&&(a={color:(o.vars||o).palette.text.secondary},Object(r.a)(a,"&.".concat(x.selected),{color:(o.vars||o).palette.primary.main}),Object(r.a)(a,"&.".concat(x.disabled),{color:(o.vars||o).palette.text.disabled}),a),"secondary"===i.textColor&&(n={color:(o.vars||o).palette.text.secondary},Object(r.a)(n,"&.".concat(x.selected),{color:(o.vars||o).palette.secondary.main}),Object(r.a)(n,"&.".concat(x.disabled),{color:(o.vars||o).palette.text.disabled}),n),i.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},i.wrapped&&{fontSize:o.typography.pxToRem(12)})})),m=o.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiTab"}),r=a.className,l=a.disabled,b=void 0!==l&&l,j=a.disableFocusRipple,f=void 0!==j&&j,x=a.fullWidth,m=a.icon,v=a.iconPosition,y=void 0===v?"top":v,S=a.indicator,w=a.label,C=a.onChange,k=a.onClick,E=a.onFocus,R=a.selected,P=a.selectionFollowsFocus,F=a.textColor,B=void 0===F?"inherit":F,M=a.value,D=a.wrapped,T=void 0!==D&&D,N=Object(n.a)(a,h),q=Object(c.a)({},a,{disabled:b,disableFocusRipple:f,selected:R,icon:!!m,iconPosition:y,label:!!w,fullWidth:x,textColor:B,wrapped:T}),z=function(e){var t=e.classes,a=e.textColor,r=e.fullWidth,n=e.wrapped,c=e.icon,o=e.label,i=e.selected,l=e.disabled,d={root:["root",c&&o&&"labelIcon","textColor".concat(Object(u.a)(a)),r&&"fullWidth",n&&"wrapped",i&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Object(s.a)(d,p,t)}(q),I=m&&w&&o.isValidElement(m)?o.cloneElement(m,{className:Object(i.a)(z.iconWrapper,m.props.className)}):m;return Object(O.jsxs)(g,Object(c.a)({focusRipple:!f,className:Object(i.a)(z.root,r),ref:t,role:"tab","aria-selected":R,disabled:b,onClick:function(e){!R&&C&&C(e,M),k&&k(e)},onFocus:function(e){P&&!R&&C&&C(e,M),E&&E(e)},ownerState:q,tabIndex:R?0:-1},N,{children:["top"===y||"start"===y?Object(O.jsxs)(o.Fragment,{children:[I,w]}):Object(O.jsxs)(o.Fragment,{children:[w,I]}),S]}))}));t.a=m},803:function(e,t,a){"use strict";var r=a(43),n=a(9),c=a(4),o=a(1),i=a(12),s=a(84),l=a(119);a(6);function u(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function d(e){return parseFloat(e)}var b=a(331),j=a(7),f=a(16),p=a(90),x=a(80);function O(e){return Object(x.a)("MuiSkeleton",e)}Object(p.a)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var h,g,m,v,y,S,w,C,k=a(2),E=["animation","className","component","height","style","variant","width"],R=Object(s.c)(y||(y=h||(h=Object(r.a)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),P=Object(s.c)(S||(S=g||(g=Object(r.a)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),F=Object(j.a)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],!1!==a.animation&&t[a.animation],a.hasChildren&&t.withChildren,a.hasChildren&&!a.width&&t.fitContent,a.hasChildren&&!a.height&&t.heightAuto]}})((function(e){var t=e.theme,a=e.ownerState,r=u(t.shape.borderRadius)||"px",n=d(t.shape.borderRadius);return Object(c.a)({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Object(b.a)(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===a.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(n).concat(r,"/").concat(Math.round(n/.6*10)/10).concat(r),"&:empty:before":{content:'"\\00a0"'}},"circular"===a.variant&&{borderRadius:"50%"},"rounded"===a.variant&&{borderRadius:(t.vars||t).shape.borderRadius},a.hasChildren&&{"& > *":{visibility:"hidden"}},a.hasChildren&&!a.width&&{maxWidth:"fit-content"},a.hasChildren&&!a.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&Object(s.b)(w||(w=m||(m=Object(r.a)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),R)}),(function(e){var t=e.ownerState,a=e.theme;return"wave"===t.animation&&Object(s.b)(C||(C=v||(v=Object(r.a)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),P,(a.vars||a).palette.action.hover)})),B=o.forwardRef((function(e,t){var a=Object(f.a)({props:e,name:"MuiSkeleton"}),r=a.animation,o=void 0===r?"pulse":r,s=a.className,u=a.component,d=void 0===u?"span":u,b=a.height,j=a.style,p=a.variant,x=void 0===p?"text":p,h=a.width,g=Object(n.a)(a,E),m=Object(c.a)({},a,{animation:o,component:d,variant:x,hasChildren:Boolean(g.children)}),v=function(e){var t=e.classes,a=e.variant,r=e.animation,n=e.hasChildren,c=e.width,o=e.height,i={root:["root",a,r,n&&"withChildren",n&&!c&&"fitContent",n&&!o&&"heightAuto"]};return Object(l.a)(i,O,t)}(m);return Object(k.jsx)(F,Object(c.a)({as:d,ref:t,className:Object(i.a)(v.root,s),ownerState:m},g,{style:Object(c.a)({width:h,height:b},j)}))}));t.a=B}}]);