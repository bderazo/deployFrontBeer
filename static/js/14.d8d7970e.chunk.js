(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[14,5],{1057:function(e,t,r){"use strict";r.r(t);var a=r(10),n=r(1),c=r.n(n),o=r(62),i=r(81),s=r(1033),l=r(338),u=r(622),d=r(18),b=r(28),j=r(6),f=r(5),p=r(7),x=r(549),O=r(804),h=r(174),g=r(650),m=r(630),v=r(623),y=r(634),S=r(121),C=r.n(S),w=r(2),k=(Object(p.a)(x.a)((function(e){return{margin:e.theme.spacing(1)}})),Object(p.a)(h.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}}))),E=function(e){var t=e.usuarioProp,r=Object(i.c)((function(e){return e.entidadComercial})).sucursalesIdComercio,c=Object(n.useState)({}),s=Object(a.a)(c,2),p=s[0],x=s[1],m=Object(n.useState)(!1),S=Object(a.a)(m,2),E=S[0],R=S[1],P=JSON.parse(localStorage.usuario),D=Object(n.useState)([]),B=Object(a.a)(D,2),F=(B[0],B[1],Object(n.useState)([])),T=Object(a.a)(F,2),M=(T[0],T[1]),N=Object(n.useState)(""),I=Object(a.a)(N,2),q=(I[0],I[1],Object(n.useState)("")),W=Object(a.a)(q,2),_=(W[0],W[1],Object(n.useState)(!0)),z=Object(a.a)(_,2),A=(z[0],z[1],Object(i.b)());Object(n.useEffect)((function(){r&&M(r.registros)}),[r]),Object(n.useEffect)((function(){x(t)}),[t,x]);var L=p.nombres,V=p.apellidos,U=(p.telefono,p.correo),H=p.rol,X=p.tipo_usuario,G=(p.identificacion,p.registrado_por,function(e){x(Object(f.a)(Object(f.a)({},p),{},Object(j.a)({},e.target.name,e.target.value)))}),J=Object(g.a)({identificacion:null===t||void 0===t?void 0:t.identificacion,telefono:null===t||void 0===t?void 0:t.telefono}),Y=Object(a.a)(J,3),$=Y[0],Z=Y[1],Q=Y[2],K=function(){var e=Object(b.a)(Object(d.a)().mark((function e(r){var a,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),r.preventDefault(),a=Object(f.a)(Object(f.a)(Object(f.a)({},p),$),{},{registrado_por:P.id,password:"Proatek@2023"}),console.log(a),e.prev=4,e.next=7,A(Object(y.c)(a));case 7:!1===(n=e.sent).success?(console.log(n),C.a.fire({icon:"error",title:"Error",html:n.messages.join("<br>"),target:r.target})):(console.log(n),C.a.fire({icon:"success",title:"Usuario creado con \xe9xito",showConfirmButton:!1,timer:3e3}),x(t),Q()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error:",e.t0);case 14:R(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"create-category",children:Object(w.jsx)(o.i,{title:"Nuevo usuario",children:Object(w.jsx)(h.ValidatorForm,{onSubmit:K,children:Object(w.jsxs)(u.a,{container:!0,spacing:1,children:[Object(w.jsxs)(u.a,{item:!0,lg:3,md:3,sm:12,xs:12,sx:{mt:2},children:[Object(w.jsx)(k,{type:"text",name:"nombres",id:"standard-basic",value:L,onChange:G,errorMessages:["Este campo es requerido"],label:"Nombres",validators:["required"]}),Object(w.jsx)(k,{type:"text",name:"telefono",id:"standard-basic",value:(null===$||void 0===$?void 0:$.telefono)||"",onChange:Z,errorMessages:["Este campo es requerido","Debe contener m\xednimo 10 caracteres","Debe contener m\xe1ximo 10 caracteres"],label:"Telefono",validators:["required","minStringLength: 10","maxStringLength: 10"]})]}),Object(w.jsxs)(u.a,{item:!0,lg:3,md:3,sm:12,xs:12,sx:{mt:2},children:[Object(w.jsx)(k,{type:"text",name:"apellidos",id:"standard-basic",value:V,onChange:G,errorMessages:["Este campo es requerido"],label:"Apellidos",validators:["required"]}),Object(w.jsxs)(h.SelectValidator,{name:"rol",value:H||"",onChange:G,inputProps:{"aria-label":"Without label"},validators:["required"],errorMessages:["El rol es requerido"],label:"ROL",sx:{width:"100%",marginBottom:"16px"},children:[Object(w.jsx)(O.a,{value:"DUE\xd1O",children:"DUE\xd1O"},1),Object(w.jsx)(O.a,{value:"SUPERVISOR",children:"SUPERVISOR"},2),Object(w.jsx)(O.a,{value:"VENDEDOR",children:"VENDEDOR"},1)]})]}),Object(w.jsxs)(u.a,{item:!0,lg:3,md:3,sm:12,xs:12,sx:{mt:2},children:[Object(w.jsx)(k,{type:"text",name:"identificacion",id:"standard-basic",value:(null===$||void 0===$?void 0:$.identificacion)||"",onChange:Z,errorMessages:["Este campo es requerido","Debe contener m\xednimo 10 caracteres","Debe contener m\xe1ximo 13 caracteres"],label:"Identificacion",validators:["required","minStringLength: 10","maxStringLength: 13"]}),Object(w.jsxs)(h.SelectValidator,{name:"tipo_usuario",value:X||"",onChange:G,inputProps:{"aria-label":"Without label"},validators:["required"],errorMessages:["El tipo de usuario es requerido"],label:"Tipo de usuario",sx:{width:"100%",marginBottom:"16px"},children:[Object(w.jsx)(O.a,{value:"GOLD",children:"GOLD"},1),Object(w.jsx)(O.a,{value:"SILVER",children:"SILVER"},2),Object(w.jsx)(O.a,{value:"BRONZE",children:"BRONZE"},3),Object(w.jsx)(O.a,{value:"FREE",children:"FREE"},4)]})]}),Object(w.jsx)(u.a,{item:!0,lg:3,md:3,sm:12,xs:12,sx:{mt:2},children:Object(w.jsx)(k,{type:"text",name:"correo",id:"standard-basic",value:U,onChange:G,label:"Correo",errorMessages:["Este campo es requerido","Debe tener formato de email"],validators:["required","isEmail"]})}),Object(w.jsx)(u.a,{item:!0,lg:12,md:12,sm:12,xs:12,sx:{mt:2},children:Object(w.jsxs)(v.a,{variant:"contained",color:"primary",loading:E,type:"submit",sx:{backgroundColor:"#053d6b",width:"50%",marginTop:"0px"},children:[Object(w.jsx)(l.a,{sx:{mr:"10px"},children:"save"}),"Crear"]})})]})})})})},R=r(213),P=r(616),D=r(335),B=r(621),F=r(1079),T=r(1067),M=r(1070),N=r(803),I=r(642),q=r(638),W=r(641),_=r(639),z=r(635),A=r(17),L=r(60),V=r(750),U=r(756),H=r(752),X=r(624),G=r(96),J=r(218),Y=r.n(J),$=r(560),Z=r(553),Q=(r(747),r(559)),K=r(748),ee=r.n(K),te=r(702),re=Object(p.a)(h.TextValidator)((function(){return{width:"100%",border:0,marginTop:"0px",marginBottom:"0px"}})),ae=Object(p.a)(u.a)((function(){return{display:"flex",alignContent:"start",alignItems:"center",borderBottom:"2px solid #DCDCDC"}})),ne=Object(p.a)(x.a)((function(e){return{margin:e.theme.spacing(1)}})),ce=function(e){var t=e.comercio;console.log(t);var r=Object(n.useState)(null),c=Object(a.a)(r,2),o=c[0],s=(c[1],Object(n.useState)(t||k)),l=Object(a.a)(s,2),p=l[0],x=l[1],O=Object(n.useState)(t||k),g=Object(a.a)(O,2),m=g[0],v=(g[1],Object(n.useState)(!0)),y=Object(a.a)(v,2),S=y[0],k=(y[1],{nombres:"",apellidos:"",telefono:"",correo:"",rol:"",tipo_usuario:"",identificacion:"",puntos:""}),E=Object(i.b)(),R=p.nombres,P=p.apellidos,B=p.telefono,F=p.correo,T=p.rol,M=p.tipo_usuario,N=p.identificacion,I=p.puntos,q=function(e){console.log(e.target.value),x(Object(f.a)(Object(f.a)({},p),{},Object(j.a)({},e.target.name,e.target.value)))},W=function(){var e=Object(b.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("Entidad a guardar: ",p),e.prev=2,e.next=5,E(Object(te.b)(p,p.id));case 5:e.sent?C.a.fire({icon:"success",title:"\xa1\xc9xito!",text:"La informaci\xf3n se ha actualizado correctamente",confirmButtonText:"Aceptar"}).then((function(){window.location.href="/listaTarjetasBeer"})):C.a.fire({icon:"error",title:"Error",text:"Ha ocurrido un error al actualizar la informaci\xf3n",confirmButtonText:"Aceptar"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),C.a.fire({icon:"error",title:"Error",text:"Ha ocurrido un error al actualizar la informaci\xf3n",confirmButtonText:"Aceptar"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return null===p?Object(w.jsx)(Q.a,{}):Object(w.jsx)(D.a,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:Object(w.jsx)(D.a,{minWidth:"85%",sx:{padding:4,alignSelf:"center"},children:Object(w.jsxs)($.a,{sx:{padding:2,alignContent:"center"},children:[Object(w.jsx)(D.a,{sx:{display:"flex",justifyContent:"center",width:"90%",height:150},children:(null===m||void 0===m?void 0:m.logo)&&Object(w.jsx)(D.a,{component:"img",sx:{width:"100%",height:"100%",objectFit:"scale-down"},alt:"Logo ".concat(null===m||void 0===m?void 0:m.tipo_cerveza),src:null===m||void 0===m?void 0:m.logo})}),Object(w.jsxs)(h.ValidatorForm,{onSubmit:W,children:[Object(w.jsx)(D.a,{sx:{display:"flex",justifyContent:"start",flexDirection:"column",pb:3},children:Object(w.jsxs)(Z.a,{variant:"p",children:[(null===p||void 0===p?void 0:p.nombres)||""," ",(null===p||void 0===p?void 0:p.apellidos)||""]})}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsxs)(Z.a,{variant:"p",fontWeight:"bold",children:["Nombres"," "]})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{disabled:!S,type:"text",name:"nombres",placeholder:"Nombres",id:"standard-basic",variant:"standard",value:R||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsxs)(Z.a,{variant:"p",fontWeight:"bold",children:["Apellidos"," "]})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{disabled:!S,type:"text",name:"apellidos",placeholder:"Apellidos",id:"standard-basic",variant:"standard",value:P||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsxs)(Z.a,{variant:"p",fontWeight:"bold",children:["Telefono"," "]})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{type:"number",name:"telefono",placeholder:"Telefono",id:"standard-basic",variant:"standard",value:B||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsxs)(Z.a,{variant:"p",fontWeight:"bold",children:["Correo"," "]})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{disabled:!S,type:"mail",name:"correo",placeholder:"Correo",id:"standard-basic",variant:"standard",value:F||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsxs)(Z.a,{variant:"p",fontWeight:"bold",children:["Rol"," "]})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{disabled:!S,type:"text",name:"rol",placeholder:"Rol",id:"standard-basic",variant:"standard",value:T||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsxs)(Z.a,{variant:"p",fontWeight:"bold",children:["Tipo de usuario"," "]})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{disabled:!S,type:"text",name:"tipo_usuario",placeholder:"Tipo de usuario",id:"standard-basic",variant:"standard",value:M||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(Z.a,{variant:"p",fontWeight:"bold",children:"Identificacion"})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{type:"number",name:"identificacion",placeholder:"Identificacion",id:"standard-basic",variant:"standard",value:N||"",onChange:q,validators:["required"],errorMessages:["Este campo es requerido"]})})]}),Object(w.jsxs)(ae,{container:!0,spacing:2,children:[Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(Z.a,{variant:"p",fontWeight:"bold",children:"Puntos"})}),Object(w.jsx)(u.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(w.jsx)(re,{type:"number",name:"puntos",placeholder:"Puntos",id:"standard-basic",variant:"standard",value:I||"",onChange:q})})]}),Object(w.jsx)(D.a,{sx:{pt:3,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:Object(w.jsxs)(ne,{size:"large",variant:"contained",color:"primary",type:"submit",sx:{color:"#ffffff",width:"max-content",background:o?o.color_principal:"#053D6B",borderRadius:"10px",fontWeight:"bold"},children:[Object(w.jsx)(ee.a,{}),"Guardar Informaci\xf3n"]})})]})]})})})},oe=["children","value","index"],ie=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},se=function(e){var t=e.children,r=e.value,a=e.index,n=Object(L.a)(e,oe);return Object(w.jsx)("div",Object(f.a)(Object(f.a)({role:"tabpanel",hidden:r!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},n),{},{children:r===a&&Object(w.jsx)(D.a,{children:t})}))},le=function(e){var t=e.entidad,r=e.handleClose,o=Object(n.useState)(0),s=Object(a.a)(o,2),l=s[0],u=s[1],j=Object(n.useState)(t),p=Object(a.a)(j,2),x=p[0],O=p[1],h=Object(n.useState)([]),g=Object(a.a)(h,2),v=g[0],y=(g[1],c.a.useState("")),S=Object(a.a)(y,2),C=S[0],k=(S[1],Object(G.a)()),E=Object(i.b)();Object(n.useEffect)((function(){if(console.log("entidad",t),t){var e=function(){var e=Object(b.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(Object(m.g)(t.id));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[]),Object(n.useEffect)((function(){if(t)O(t);else{var e=v.find((function(e){return e.rol===C}));e&&O(e)}}),[t,v,C]);return Object(w.jsxs)(D.a,{sx:{width:"100%",padding:"10px"},children:[Object(w.jsx)(X.a,{"aria-label":"Close",className:"closeButton",onClick:r,sx:{color:k.palette.grey[500],position:"static",right:k.spacing(9)},children:Object(w.jsx)(Y.a,{})}),Object(w.jsx)(D.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(w.jsxs)(V.a,{value:l,onChange:function(e,t){u(t)},"aria-label":"basic tabs example",children:[Object(w.jsx)(U.a,Object(f.a)({label:"Informaci\xf3n"},ie(0))),Object(w.jsx)(U.a,Object(f.a)({label:"Reporte"},ie(1)))]})}),Object(w.jsx)(se,{value:l,index:0,children:Object(w.jsx)(ce,{comercio:x})}),Object(w.jsx)(se,{value:l,index:1,children:Object(w.jsx)(H.a,{})})]})},ue=Object(p.a)("small")((function(e){var t=e.tipoEntidad;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:"white",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:"ADMIN"===t?"#0099CC":"DUE\xd1O"===t?"#66CC99":"SUPERVISOR"===t?"#FF6666":"VENDEDOR"===t?"#FFCC66":"CLIENTE"===t?"#FF9933":"black",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),de=Object(p.a)(x.a)((function(e){return{margin:e.theme.spacing(1)}})),be=[{id:"Nombres",numeric:!1,disablePadding:!1,label:"Nombres"},{id:"Correo",numeric:!1,disablePadding:!1,label:"Correo"},{id:"Rol",numeric:!1,disablePadding:!1,label:"Rol"},{id:"Identificacion",numeric:!1,disablePadding:!1,label:"Identificacion"},{id:"Detalles",numeric:!1,disablePadding:!0,label:"Detalles"}],je=Object(R.a)(I.a),fe=function(e){var t=e.listaEntidades,r=void 0===t?[]:t,o=e.getPage,s=e.totalRegs,l=Object(n.useState)(null),j=Object(a.a)(l,2),f=j[0],p=(j[1],Object(i.b)(),Object(A.m)(),Object(n.useState)(null)),x=Object(a.a)(p,2),O=x[0],h=x[1],g=Object(n.useState)("asc"),m=Object(a.a)(g,2),v=m[0],y=m[1],S=Object(n.useState)("name"),C=Object(a.a)(S,2),k=C[0],E=C[1],R=Object(n.useState)(!1),I=Object(a.a)(R,2),L=I[0],V=I[1],U=Object(_.a)(r,r.length,o),H=U.page,X=U.handleChangePage,G=U.loading,J=U.registros,Y=c.a.useState(10),$=Object(a.a)(Y,2),Z=$[0],Q=$[1],K=Array(10).fill(""),ee=function(){var e=Object(b.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("row: ",t),h(t),V(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return onclose=function(){V(!1)},Object(w.jsx)(w.Fragment,{children:L?O&&Object(w.jsx)(le,{entidad:O,handleClose:onclose}):Object(w.jsx)(z.a,{children:Object(w.jsx)(u.a,{container:!0,children:Object(w.jsx)(u.a,{item:!0,xs:12,md:12,children:Object(w.jsx)(D.a,{with:"100%",overflow:"auto",children:Object(w.jsxs)(P.a,{theme:je,children:[Object(w.jsx)(B.a,{sx:{with:"100%",overflow:"scroll"},children:Object(w.jsx)(F.a,{sx:{maxHeight:"100%"},children:Object(w.jsxs)(T.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(w.jsx)(q.a,{order:v,orderBy:k,onRequestSort:function(e,t){y(k===t&&"asc"===v?"desc":"asc"),E(t)},rowCount:J.length,headCells:be}),Object(w.jsxs)(M.a,{children:[G&&K.map((function(e,t){return Object(w.jsx)(z.c,{children:be.map((function(e){return Object(w.jsx)(z.b,{children:Object(w.jsx)(N.a,{variant:"rectangular",width:"100%",height:20})},e.id)}))},t)})),!G&&Object(z.e)(J,Object(z.d)(v,k)).slice(H*Z,H*Z+Z).map((function(e,t){return Object(w.jsxs)(z.c,{children:[Object(w.jsx)(z.b,{align:"left",children:e.nombres+" "+e.apellidos}),Object(w.jsx)(z.b,{align:"left",children:e.correo}),Object(w.jsx)(z.b,{align:"left",children:Object(w.jsx)(ue,{tipoEntidad:e.rol,children:e.rol})}),Object(w.jsx)(z.b,{align:"left",children:e.identificacion}),Object(w.jsx)(z.b,{align:"left",children:Object(w.jsx)(de,{variant:"outlined",type:"submit",color:"primary",onClick:function(){return ee(e)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:f?f.color_principal:"#437294",borderRadius:"10px"},children:"Ver Detalles"})})]},e.id)}))]})]})})}),Object(w.jsx)(W.a,{rowsPerPage:Z,handleChangePage:X,page:H,handleChangeRowsPerPage:function(e){Q(parseInt(e.target.value,10))},length:s})]})})})})})})};t.default=function(){var e=Object(i.b)(),t=Object(n.useState)({}),r=Object(a.a)(t,2),d=r[0],b=r[1],j=Object(n.useState)(0),f=Object(a.a)(j,2),p=f[0],x=f[1],O=Object(n.useState)("TRABAJADOR"),h=Object(a.a)(O,2),g=h[0],m=h[1],S=c.a.useState(!1),C=Object(a.a)(S,2),k=C[0],R=C[1],P=Object(n.useRef)([]),D=Object(i.c)((function(e){return e.usuario})),B=D.usuarios,F=(D.totalRegs,{nombres:"",apellidos:"",telefono:"",correo:"",rol:"",tipo_usuario:"",identificacion:"",registrado_por:""});Object(n.useEffect)((function(){P.current.includes(p)||(P.current.push(p),e(Object(y.i)(p)))}),[p]);var T=function(e){x(e)};Object(n.useEffect)((function(){b(F)}),[]);return Object(w.jsxs)(o.i,{children:[Object(w.jsxs)(v.a,{onClick:function(){R(!k)},color:"primary",variant:"contained",sx:{backgroundColor:"#053d6b",width:"30%",marginTop:"16px"},children:[Object(w.jsx)(l.a,{sx:{mr:"10px"},children:"save"}),"Crear Usuario"]}),k&&Object(w.jsx)(u.a,{container:!0,children:Object(w.jsx)(u.a,{item:!0,xs:12,sm:12,md:12,lg:12,sx:{borderRadius:"5px",textAlignLast:"center",boxShadow:"inset 0 -3em 3em rgba(0, 0, 0, 0.1), 0 0  0 2px rgb(255, 255, 255), 0.3em 0.3em 0em rgba(0, 0, 0, 0.3), 0.3em 0.3em 1em rgba(0, 0, 0, 0.3)",margin:"10px 20px 10px 20px",minWidth:"388px",height:"fit-content"},children:Object(w.jsx)(E,{usuarioProp:d})})}),0===B.length?Object(w.jsx)(s.a,{severity:"info",children:"No se han registrado Usuarios"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(V.a,{value:g,onChange:function(e,t){return m(t)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(w.jsx)(U.a,{label:"Trabajadores",value:"TRABAJADOR"}),Object(w.jsx)(U.a,{label:"Clientes",value:"CLIENTE"})]}),"CLIENTE"===g&&Object(w.jsx)(fe,{listaEntidades:B.filter((function(e){return"CLIENTE"===e.rol})),getPage:T,totalRegs:B.filter((function(e){return"CLIENTE"===e.rol})).length}),"TRABAJADOR"===g&&Object(w.jsx)(fe,{listaEntidades:B.filter((function(e){return["DUE\xd1O","SUPERVISOR","VENDEDOR"].includes(e.rol)})),getPage:T,totalRegs:B.filter((function(e){return["DUE\xd1O","SUPERVISOR","VENDEDOR"].includes(e.rol)})).length})]})]})}},630:function(e,t,r){"use strict";r.d(t,"j",(function(){return u})),r.d(t,"k",(function(){return b})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return x})),r.d(t,"i",(function(){return O})),r.d(t,"h",(function(){return g})),r.d(t,"f",(function(){return v})),r.d(t,"e",(function(){return S})),r.d(t,"b",(function(){return C})),r.d(t,"g",(function(){return w}));var a=r(5),n=r(18),c=r(28),o=(r(644),r(122)),i=r(121),s=r.n(i),l=r(344),u=function(){return function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var r,a,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"sensor/beer/listar",r={};try{r={entidad_id:JSON.parse(localStorage.getItem("usuario")).entidad.id}}catch(n){}return e.prev=3,e.next=6,Object(o.b)("sensor/beer/listar",r,"GET");case 6:return a=e.sent,e.next=9,a.json();case 9:if(c=e.sent,console.log(c),200===c.status){e.next=13;break}return e.abrupt("return",s.a.fire("Error",c.message,"error"));case 13:if(c.data){e.next=15;break}return e.abrupt("return",t(d({solicitudes:[],totalRegs:0})));case 15:t(d({tarjetas:c.data,totalRegs:c.lenght})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),s.a.fire("Error",e.t0.message,"error");case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return{type:l.types.getTarjetasCodigoSensor,payload:Object(a.a)({},e)}},b=function(){return function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var r,a,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"usuario/listar",r={};try{r={entidad_id:JSON.parse(localStorage.getItem("usuario")).entidad.id}}catch(n){}return e.prev=3,e.next=6,Object(o.b)("usuario/listar",r,"GET");case 6:return a=e.sent,e.next=9,a.json();case 9:if(c=e.sent,console.log(c),200===c.status){e.next=13;break}return e.abrupt("return",s.a.fire("Error",c.message,"error"));case 13:if(c.data){e.next=15;break}return e.abrupt("return",t(j({solicitudes:[],totalRegs:0})));case 15:t(j({tarjetas:c.data.data,totalRegs:c.lenght})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),s.a.fire("Error",e.t0.message,"error");case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return{type:l.types.getUsuariosBeer,payload:Object(a.a)({},e)}},f=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c,i,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("usuario/beer/asignar",e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:if(c=t.sent,console.log("Respuesta: ",c),201===c.status){t.next=11;break}return console.log("Error al asignar el usuario en el sensor"),t.abrupt("return",c);case 11:return t.next=13,Object(o.b)("sensor/maquina/borrar",{codigo_sensor:e.codigo_sensor},"PUT");case 13:return i=t.sent,t.next=16,i.json();case 16:return s=t.sent,console.log("Respuesta: ",s),t.abrupt("return",c);case 21:return t.prev=21,t.t0=t.catch(0),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("sensor/maquina/borrar",{codigo_sensor:e},"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:if(200===(c=t.sent).status){t.next=10;break}return console.log("Error al eliminar el sensor de la maquina"),t.abrupt("return",c);case 10:return console.log("Respuesta: ",c),t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Registro: ",e),t.prev=1,t.next=4,Object(o.b)("sensor/beer/vaciar?id_pulsera=".concat(e),e,"PUT");case 4:return a=t.sent,t.next=7,a.json();case 7:if(c=t.sent,console.log("Respuesta: ",c),201===c.status){t.next=12;break}return console.log("Error al eliminar el usuario del sensor"),t.abrupt("return",c);case 12:return t.abrupt("return",c);case 15:return t.prev=15,t.t0=t.catch(1),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var r,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"maquina/listar",e.next=4,Object(o.b)("maquina/listar","","GET");case 4:return r=e.sent,e.next=7,r.json();case 7:if(a=e.sent,console.log(a),200===a.status){e.next=11;break}return e.abrupt("return",s.a.fire("Error",a.message,"error"));case 11:if(a.data){e.next=13;break}return e.abrupt("return",t(h({solicitudes:[],totalRegs:0})));case 13:t(h({tarjetas:a.data,totalRegs:a.lenght})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s.a.fire("Error",e.t0.message,"error");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return{type:l.types.getMaquinas,payload:Object(a.a)({},e)}},g=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"maquina/beer/ver",t.next=4,Object(o.b)("maquina/beer/ver",e,"POST");case 4:return a=t.sent,t.next=7,a.json();case 7:if(c=t.sent,console.log(c),201===c.status){t.next=11;break}return t.abrupt("return",s.a.fire("Error",c.message,"error"));case 11:if(c.data){t.next=13;break}return t.abrupt("return",r(m({tarjetas:{}})));case 13:r(m({tarjetas:c.data})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),s.a.fire("Error",t.t0.message,"error");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return{type:l.types.verMaquina,payload:Object(a.a)({},e)}},v=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=5;break}return t.abrupt("return",r(y({tarjetas:[],totalRegs:0})));case 5:return t.next=7,Object(o.b)("sensor/consumos/listar",{id_cliente:e},"POST");case 7:return a=t.sent,t.next=10,a.json();case 10:if(c=t.sent,console.log(c),c.data){t.next=14;break}return t.abrupt("return",r(y({tarjetas:[],totalRegs:0})));case 14:r(y({tarjetas:c.data,totalRegs:c.lenght}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),s.a.fire("Error",t.t0.message,"error");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return{type:l.types.getConsumos,payload:Object(a.a)({},e)}},S=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("sensor/ventas/pagar",e,"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:if(c=t.sent,console.log("Respuesta: ",c),200===a.status){t.next=11;break}return console.log("Error al pagar el consumo del sensor"),t.abrupt("return",c);case 11:return t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("Error al asignar el usuario en el sensor: ",t.t0.message),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)(e,"","GET");case 3:return a=t.sent,t.next=6,a.json();case 6:if(c=t.sent,console.log("Respuesta: ",c),201===c.status){t.next=11;break}return console.log("Error al cambiar el estado de la maquina"),t.abrupt("return",c);case 11:return t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("Error al cambiar el estado de la maquina: ",t.t0.message),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var a,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=5;break}return t.abrupt("return",r(k({tarjetas:[],totalRegs:0})));case 5:return t.next=7,Object(o.b)("usuario/ventas/listar",{id_cliente:e},"POST");case 7:return a=t.sent,t.next=10,a.json();case 10:if(c=t.sent,console.log(c),c.data){t.next=14;break}return t.abrupt("return",r(k({tarjetas:[],totalRegs:0})));case 14:r(k({tarjetas:c.data,totalRegs:c.lenght}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),s.a.fire("Error",t.t0.message,"error");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return{type:l.types.getVentas,payload:Object(a.a)({},e)}}},634:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return O})),r.d(t,"d",(function(){return h})),r.d(t,"f",(function(){return m})),r.d(t,"e",(function(){return y}));var a=r(18),n=r(28),c=r(122),o=r(121),i=r.n(o),s=r(39),l=function(e){return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,i,s,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("usuario/crear",e,"POST");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("El usuario con esa identificacion ya se encuentra registrado"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("usuario/listar?page=".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,s=o.data,r(d({registros:s.data,totalRegistros:s.total})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error al consultar usuarios: ",t.t0.message),i.a.fire("Error",t.t0.message,"error");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return{type:s.a.getUsuarios,payload:e}},b=function(){return function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var r,n,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.b)("codigos/listar",{},"GET");case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,o=n.data,t(j(o)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error al consultar los codigos de pais: ",e.t0.message),i.a.fire("Error",e.t0.message,"error");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return{type:s.a.setCodigos,payload:e}},f=function(e){return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,s,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("usuario/ver/".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:if(o=t.sent,s=o.data,l=o.message,200===o.status){t.next=12;break}return t.abrupt("return",i.a.fire("Error",l,"error"));case 12:r(x(s)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("Error al traer perfil de usuario: ",t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return{type:s.a.cleanUsuarioPerfil}},x=function(e){return{type:s.a.setUsuarioPerfil,payload:e}},O=function(e){return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("usuario/actualizar/".concat(e.id),e,"PUT");case 3:return n=t.sent,t.next=6,n.json();case 6:if(o=t.sent,o.data,s=o.message,200===o.status){t.next=12;break}return t.abrupt("return",i.a.fire("Error",s,"error"));case 12:i.a.fire("Exito",s,"success"),r(f(e.id)),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",i.a.fire("Error",t.t0.message,"error"));case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("acceso/listar?page=".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,s=o.data,r(g({registros:s.data,totalRegistros:s.total})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error al consultar usuarios: ",t.t0.message),i.a.fire("Error",t.t0.message,"error");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return{type:s.a.getAccesosList,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.b)("registro-lote/listar?page=".concat(e),{},"GET");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,i=o.data,r(v({registros:i.data,totalRegistros:i.total})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error al consultar usuarios: ",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return{type:s.a.getAllLotes,payload:e}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var r=Object(n.a)(Object(a.a)().mark((function r(n){var o,i,s;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(c.b)("acceso/ver/".concat(e,"?page=").concat(t),{},"GET");case 3:return o=r.sent,r.next=6,o.json();case 6:if(i=r.sent,s=i.data,console.log(s),null!==s){r.next=11;break}return r.abrupt("return",n(C()));case 11:n(S({registros:s.data,totalRegistros:s.total})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log("Error al consultar usuarios: ",r.t0.message);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}()},S=function(e){return{type:s.a.getAccesosUser,payload:e}},C=function(){return{type:s.a.vaciarAccesos,payload:[]}}},635:function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return b})),r.d(t,"e",(function(){return j}));var a=r(6),n=r(177),c=r(1022),o=r(816),i=r(1069),s=function(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0},l=function(e,t){return"desc"===e?function(e,r){return s(e,r,t)}:function(e,r){return-s(e,r,t)}},u=Object(n.a)(c.a)((function(e){var t,r=e.theme;return t={},Object(a.a)(t,"&.".concat(o.a.head),{color:r.palette.common.orange}),Object(a.a)(t,"&.".concat(o.a.body),{fontSize:14}),t})),d=Object(n.a)(i.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),b=Object(n.a)("div")((function(e){var t,r=e.theme;return t={margin:"20px 4px"},Object(a.a)(t,r.breakpoints.down("sm"),{margin:"10px"}),Object(a.a)(t,"& .breadcrumb",Object(a.a)({marginBottom:"0px"},r.breakpoints.down("sm"),{marginBottom:"6px"})),t})),j=function(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var a=t(e[0],r[0]);return 0!==a?a:e[1]-r[1]})),r.map((function(e){return e[0]}))}},637:function(e,t,r){"use strict";var a=r(1),n=a.createContext(void 0);t.a=n},638:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(10),n=r(1),c=r(1068),o=r(1069),i=r(1064),s=r(335),l=r(1032),u=r(635),d=r(2),b=function(e){var t=Object(n.useState)(null),r=Object(a.a)(t,2),b=r[0],j=(r[1],e.order),f=e.orderBy,p=e.onRequestSort,x=e.headCells;return Object(n.useEffect)((function(){}),[]),Object(d.jsx)(c.a,{children:Object(d.jsx)(o.a,{sx:{background:b?b.color_gradient:"linear-gradient(90deg,#053d6b,#437294)"},children:x.map((function(e){return Object(d.jsx)(u.b,{align:"left",padding:"normal",sortDirection:f===e.id&&j,sx:{color:b?"black":"white"},children:Object(d.jsxs)(i.a,{active:f===e.id,direction:f===e.id?j:"asc",onClick:(t=e.id,function(e){p(e,t)}),children:[e.label,f===e.id?Object(d.jsx)(s.a,{component:"span",sx:l.a,children:"desc"===j?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))})})}},639:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(8),n=r(10),c=r(1),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=Object(c.useState)([]),i=Object(n.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(0),d=Object(n.a)(u,2),b=d[0],j=d[1],f=Object(c.useState)(!0),p=Object(n.a)(f,2),x=p[0],O=p[1],h=Object(c.useRef)([b]);Object(c.useEffect)((function(){O(!0);var t=[].concat(Object(a.a)(e),Object(a.a)(s)),r=[],n={};for(var c in t)n[t[c].id]=t[c];for(var o in n)r.push(n[o]);l([].concat(r)),O(!1)}),[e]),Object(c.useEffect)((function(){h.current.includes(b)||h.current.push(b)}),[t,b]);var g=new Set([0]);Object(c.useEffect)((function(){r(b)}),[b,r]);var m=function(e,t){h.current.some((function(e){return e===t}))||O(!0),g.add(t),j(t),r(t)};return{page:b,handleChangePage:m,loading:x,registros:s}}},641:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(1);var a=r(622),n=r(991),c=r(2),o=function(e){var t=e.rowsPerPage,r=e.handleChangePage,o=e.page,i=e.handleChangeRowsPerPage,s=e.length;return Object(c.jsx)(a.a,{container:!0,spacing:2,children:Object(c.jsx)(a.a,{item:!0,xs:12,display:"flex",justifyContent:"center",md:12,children:Object(c.jsx)(n.a,{sx:{px:2},rowsPerPageOptions:[20],component:"div",count:s,rowsPerPage:t,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:r,onRowsPerPageChange:i})})})}},645:function(e,t,r){"use strict";var a=r(18),n=r(28),c=r(10),o=r(1),i=r(177),s=r(549),l=(r(646),r(81)),u=r(630),d=r(121),b=r.n(d),j=r(2),f=Object(i.a)(s.a)((function(e){return{margin:e.theme.spacing(1),"&:hover":{backgroundColor:"rgba(128, 128, 128, 0.5)",color:"white"},transition:"background-color 0.3s, color 0.3s"}})),p=Object(i.a)("small")((function(e){var t=e.color;return{fontSize:20,fontWeight:"bold",color:e.textColor,padding:"2px 8px",borderRadius:"20px 20px 0px 0px",overflow:"hidden",background:t,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)",width:"14rem",textAlign:"center"}}));t.a=function(e){var t=e.machine,r=e.updateIdentificacion,i=Object(l.b)(),s=Object(o.useState)("red"),d=Object(c.a)(s,2),x=d[0],O=d[1],h=Object(o.useState)("white"),g=Object(c.a)(h,2),m=g[0],v=g[1],y=Object(o.useState)(!1),S=Object(c.a)(y,2),C=S[0],w=S[1],k=Object(o.useState)("#3498db"),E=Object(c.a)(k,2),R=(E[0],E[1]),P=Object(l.c)((function(e){return e.entidadComercial.maquina})).tarjetas,D=Object(o.useState)("#DCDCDC"),B=Object(c.a)(D,2),F=B[0],T=(B[1],Object(o.useState)(t.cantidad)),M=Object(c.a)(T,2),N=M[0],I=M[1],q=Object(o.useState)("rgba(0, 128, 255, 0.5)"),W=Object(c.a)(q,2);W[0],W[1];Object(o.useEffect)((function(){P&&r(P.codigo_sensor)}),[P]),Object(o.useEffect)((function(){switch(t.estado){case 0:O("#FF0000"),v("black"),R("#437294");break;case 1:O("#25D366"),v("black"),R("#f39c12");break;case 2:O("#437294"),v("black"),R("#FF0000");break;case 3:O("rgba(128, 128, 128, 0.5)"),v("black"),R("#FF0000");break;default:O("black"),v("black"),R("#3498db")}}),[t.estado]);var _=function(){var e=Object(n.a)(Object(a.a)().mark((function e(r){var n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.b)("maquinas/beer/activar?id_maquina=".concat(t.id,"&estado=").concat(r)),e.prev=1,e.next=4,i(n);case 4:if(201!==(c=e.sent).status){e.next=11;break}return e.next=8,i(Object(u.i)(""));case 8:b.a.fire(c.message,"","success"),e.next=12;break;case 11:b.a.fire("Error","Error al cambiar el estado de la m\xe1quina","error");case 12:console.log("\xc9xito:",c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){var e=setInterval((function(){I((function(e){return e<100?e+10:100}))}),1e3);return function(){return clearInterval(e)}}),[]);return Object(j.jsx)("div",{className:"machine-container",children:Object(j.jsxs)("div",{className:"machine",children:[Object(j.jsx)(p,{color:x,textColor:m,style:{opacity:"0.7"},children:1===t.estado?"Activa":2===t.estado?"Mantenimiento":3===t.estado?"Caja":"Inactiva"}),Object(j.jsxs)("div",{className:"machine-square",style:{backgroundColor:F,color:m,background:"linear-gradient(to bottom, rgba(0, 128, 255, 0.5) 0%, rgba(0, 128, 255, 0.5) ".concat(N,"%, transparent 50%, transparent 100%)")},children:[Object(j.jsxs)("div",{className:"machine-id",children:["MAQUINA: ",t.ubicacion]}),Object(j.jsxs)("div",{className:"machine-type",children:[t.tipo_cerveza," ",t.precio,"$ por litro"]}),Object(j.jsx)("div",{className:"machine-quantity",children:t.cantidad}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(j.jsx)(f,{variant:"outlined",type:"submit",color:"primary",onClick:function(){return w(!C)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#F5F5F5",background:x,borderRadius:"10px",margin:"0 auto",opacity:"0.7"},children:3===t.estado?"Lectura":C?"Cerrar":"Opciones"}),C&&Object(j.jsx)("div",{className:"options-container",children:function(){switch(t.estado){case 0:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return _(1)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#25D366",borderRadius:"10px",margin:"0 auto"},children:"Activar"}),Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return _(2)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#f39c12",borderRadius:"10px",margin:"0 auto"},children:"Mantenimiento"})]});case 1:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return _(0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#FF0000",borderRadius:"10px",margin:"0 auto"},children:"Desactivar"}),Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return _(2)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#f39c12",borderRadius:"10px",margin:"0 auto"},children:"Mantenimiento"})]});case 2:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return _(1)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#25D366",borderRadius:"10px",margin:"0 auto"},children:"Activar"}),Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return _(0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#FF0000",borderRadius:"10px",margin:"0 auto"},children:"Desactivar"})]});case 3:return Object(j.jsx)(f,{variant:"outlined",color:"primary",onClick:function(){return i(Object(u.h)({id_maquina:t.id}))},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#ffffff",background:"#437294",borderRadius:"10px",margin:"0 auto"},children:"Actualizar"});default:return null}}()})]})]})]})})}},646:function(e,t,r){},649:function(e,t,r){},650:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(6),n=r(5),c=r(10),o=r(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new RegExp("^[0-9]+$","i"),r=Object(o.useState)(e),i=Object(c.a)(r,2),s=i[0],l=i[1],u=function(e){var r=e.target;(t.test(r.value)||0===r.value.length)&&l(Object(n.a)(Object(n.a)({},s),{},Object(a.a)({},r.name,r.value)))},d=function(){l(e)};return[s,u,d]}},659:function(e,t,r){},678:function(e,t,r){"use strict";var a=r(10),n=r(4),c=r(9),o=r(1),i=r(1071),s=r(38),l=r(123),u=r(637),d=r(220),b=r(2),j=["actions","children","defaultValue","name","onChange","value"],f=o.forwardRef((function(e,t){var r=e.actions,f=e.children,p=e.defaultValue,x=e.name,O=e.onChange,h=e.value,g=Object(c.a)(e,j),m=o.useRef(null),v=Object(l.a)({controlled:h,default:p,name:"RadioGroup"}),y=Object(a.a)(v,2),S=y[0],C=y[1];o.useImperativeHandle(r,(function(){return{focus:function(){var e=m.current.querySelector("input:not(:disabled):checked");e||(e=m.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var w=Object(s.a)(t,m),k=Object(d.a)(x),E=o.useMemo((function(){return{name:k,onChange:function(e){C(e.target.value),O&&O(e,e.target.value)},value:S}}),[k,O,C,S]);return Object(b.jsx)(u.a.Provider,{value:E,children:Object(b.jsx)(i.a,Object(n.a)({role:"radiogroup",ref:w},g,{children:f}))})}));t.a=f},684:function(e,t,r){"use strict";var a=r(6),n=r(9),c=r(4),o=r(1),i=r(12),s=r(119),l=r(331),u=r(640),d=r(16),b=r(82),j=r(2),f=Object(b.a)(Object(j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=Object(b.a)(Object(j.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),x=r(7),O=Object(x.a)("span",{shouldForwardProp:x.b})({position:"relative",display:"flex"}),h=Object(x.a)(f)({transform:"scale(1)"}),g=Object(x.a)(p)((function(e){var t=e.theme,r=e.ownerState;return Object(c.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var m=function(e){var t=e.checked,r=void 0!==t&&t,a=e.classes,n=void 0===a?{}:a,o=e.fontSize,i=Object(c.a)({},e,{checked:r});return Object(j.jsxs)(O,{className:n.root,ownerState:i,children:[Object(j.jsx)(h,{fontSize:o,className:n.background,ownerState:i}),Object(j.jsx)(g,{fontSize:o,className:n.dot,ownerState:i})]})},v=r(14),y=r(223),S=r(637);var C=r(90),w=r(80);function k(e){return Object(w.a)("MuiRadio",e)}var E=Object(C.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),R=["checked","checkedIcon","color","icon","name","onChange","size","className"],P=Object(x.a)(u.a,{shouldForwardProp:function(e){return Object(x.b)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"medium"!==r.size&&t["size".concat(Object(v.a)(r.size))],t["color".concat(Object(v.a)(r.color))]]}})((function(e){var t=e.theme,r=e.ownerState;return Object(c.a)({color:(t.vars||t).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===r.color?t.vars.palette.action.activeChannel:t.vars.palette[r.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(l.a)("default"===r.color?t.palette.action.active:t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&Object(a.a)({},"&.".concat(E.checked),{color:(t.vars||t).palette[r.color].main}),Object(a.a)({},"&.".concat(E.disabled),{color:(t.vars||t).palette.action.disabled}))}));var D=Object(j.jsx)(m,{checked:!0}),B=Object(j.jsx)(m,{}),F=o.forwardRef((function(e,t){var r,a,l,u,b=Object(d.a)({props:e,name:"MuiRadio"}),f=b.checked,p=b.checkedIcon,x=void 0===p?D:p,O=b.color,h=void 0===O?"primary":O,g=b.icon,m=void 0===g?B:g,C=b.name,w=b.onChange,E=b.size,F=void 0===E?"medium":E,T=b.className,M=Object(n.a)(b,R),N=Object(c.a)({},b,{color:h,size:F}),I=function(e){var t=e.classes,r=e.color,a=e.size,n={root:["root","color".concat(Object(v.a)(r)),"medium"!==a&&"size".concat(Object(v.a)(a))]};return Object(c.a)({},t,Object(s.a)(n,k,t))}(N),q=o.useContext(S.a),W=f,_=Object(y.a)(w,q&&q.onChange),z=C;return q&&("undefined"===typeof W&&(l=q.value,W="object"===typeof(u=b.value)&&null!==u?l===u:String(l)===String(u)),"undefined"===typeof z&&(z=q.name)),Object(j.jsx)(P,Object(c.a)({type:"radio",icon:o.cloneElement(m,{fontSize:null!=(r=B.props.fontSize)?r:F}),checkedIcon:o.cloneElement(x,{fontSize:null!=(a=D.props.fontSize)?a:F}),ownerState:N,classes:I,name:z,checked:W,onChange:_,ref:t,className:Object(i.a)(I.root,T)},M))}));t.a=F},702:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var a=r(18),n=r(28),c=r(122),o=(r(121),r(39),function(e){return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,i,s,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("maquina/crear",e,"POST");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("La maquina ya se encuentra registrada"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()}),i=function(e){return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,i,s,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("maquina/actualizar/".concat(e.id),e,"PUT");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("La maquina ya se encuentra registrada"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n,o,i,s,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(c.b)("usuario/actualizar/".concat(e.id),e,"PUT");case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,s=i.data,"23000"!==i.status){t.next=14;break}return n.push("El usuario ya se encuentra registrado"),t.abrupt("return",{success:!1,messages:n});case 14:if(201===i.status){t.next=17;break}for(l in s)n.push(s[l][0]);return t.abrupt("return",{success:!1,messages:n});case 17:return t.abrupt("return",{success:!0,data:s});case 20:return t.prev=20,t.t0=t.catch(1),n.push(t.t0.message),t.abrupt("return",{success:!1,messages:n});case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()}},703:function(e,t,r){"use strict";r.r(t);var a=r(18),n=r(28),c=r(10),o=r(1),i=r.n(o),s=r(62),l=r(81),u=r(630),d=r(6),b=r(5),j=(r(649),r(335)),f=r(549),p=r(338),x=r(174),O=r(645),h=r(2),g=function(e){var t=e.updateIdentificacion,r=Object(l.c)((function(e){return e.entidadComercial.maquinas})).tarjetas,a=i.a.useState(""),n=Object(c.a)(a,2),s=n[0],u=n[1];return Object(o.useEffect)((function(){r&&u(r)}),[r]),Object(h.jsx)(h.Fragment,{children:s&&Object(h.jsx)("div",{className:"machines-container",children:s.map((function(e){return Object(h.jsx)(O.a,{machine:e,updateIdentificacion:t},e.id)}))})})},m=r(1033),v=r(620),y=r(7),S=r(622),C=r(560),w=r(614),k=r(60),E=r(218),R=r.n(E),P=r(627),D=r(624),B=r(553),F=r(177),T=r(750),M=r(756),N=r(213),I=r(616),q=r(621),W=r(1079),_=r(1067),z=r(1070),A=r(642),L=r(638),V=(r(641),r(639)),U=r(635),H=r(17),X=r(121),G=r.n(X),J=r(995),Y=r(754),$=r(755),Z=r(556),Q=r(678),K=r(1072),ee=r(684),te=r(309),re=Object(F.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),ae=Object(F.a)(w.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),ne=function(e){var t=e.children,r=e.onClose;return Object(h.jsxs)(ae,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),r?Object(h.jsx)(D.a,{"aria-label":"Close",className:"closeButton",onClick:r,children:Object(h.jsx)(R.a,{})}):null]})},ce=function(e){var t=e.usuario,r=e.tarjeta,i=e.handleClose,s=e.limpiarSensor,d=Object(o.useState)(!1),b=Object(c.a)(d,2),j=b[0],p=b[1],x=Object(o.useState)([]),O=Object(c.a)(x,2),g=O[0],m=O[1],v=JSON.parse(localStorage.usuario),y=Object(l.b)(),C=Object(l.c)((function(e){return e.entidadComercial.maquina})).tarjetas,w=function(){p(!1)},k=function(){var e=Object(n.a)(Object(a.a)().mark((function e(n){var c,o,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m([]),c={id_cliente:null===t||void 0===t?void 0:t.id,codigo_sensor:r,usuario_registra:null===v||void 0===v?void 0:v.id,cupo_maximo:0===M?4:M,estado:"postpago"===D?"1":"prepago"===D?"2":"mixto"===D?"3":"0"},console.log(c),w(),i(),o=Object(u.a)(c),e.prev=6,e.next=9,y(o);case 9:201===(l=e.sent).status&&(G.a.fire(l.message,"","success"),s(l.data),console.log("tarjetas",C),C&&y(Object(u.h)({id_maquina:C.id}))),console.log("\xc9xito:",l),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),E=Object(o.useState)("postpago"),R=Object(c.a)(E,2),D=R[0],B=R[1],F=Object(o.useState)(0),T=Object(c.a)(F,2),M=T[0],N=T[1],I=function(e){if(e.preventDefault(),console.log("Tipo de Recarga:",D,"Valor de Recarga:",M),"prepago"===D&&0===M)return console.log("El valor de recarga prepago no puede ser 0"),void m(["El valor de recarga ".concat(D," no puede ser 0")]);"mixto"!==D||0!==M?(k(),console.log("Tipo de Recarga:",D),console.log("Valor de Recarga:",M)):m(["El valor de recarga ".concat(D," no puede ser 0")])};return Object(h.jsxs)("div",{children:[Object(h.jsx)(re,{variant:"outlined",type:"submit",color:"primary",onClick:function(){p(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#25D366",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Asignar"}),Object(h.jsxs)(P.a,{open:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(ne,{id:"alert-dialog-title",sx:{fontWeight:"100"},children:[" ","Para asignar la pulsera ".concat(r," al usuario ").concat(null===t||void 0===t?void 0:t.nombres," ").concat(null===t||void 0===t?void 0:t.apellidos," complete los siguientes campos:")]}),Object(h.jsx)(Y.a,{children:Object(h.jsx)($.a,{id:"alert-dialog-description",children:Object(h.jsx)("form",{onSubmit:I,style:{display:"flex",flexDirection:"column"},children:Object(h.jsxs)(S.a,{container:!0,children:[Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0}),Object(h.jsx)(S.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(Z.a,{component:"fieldset",style:{marginBottom:"16px"},children:Object(h.jsxs)(Q.a,{"aria-label":"tipoRecarga",name:"tipoRecarga",value:D,onChange:function(e){B(e.target.value)},style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)(K.a,{value:"postpago",control:Object(h.jsx)(ee.a,{}),label:"Postpago"}),Object(h.jsx)(K.a,{value:"prepago",control:Object(h.jsx)(ee.a,{}),label:"Prepago"}),Object(h.jsx)(K.a,{value:"mixto",control:Object(h.jsx)(ee.a,{}),label:"Mixto"})]})}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",fontSize:"xx-large",color:"postpago"===D?"#FF5722":"#4CAF50"},children:["postpago"===D?"Litros":"$",Object(h.jsx)(te.a,{id:"valorRecarga",label:"postpago"===D?"Catidad de litros":"Efectivo a recargar",type:"number",value:M,onChange:function(e){e.target.value>=0?N(e.target.value):N(0)}})]})]})}),Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0})]})})})}),Object(h.jsxs)(J.a,{children:[g.length>0&&Object(h.jsx)("ul",{style:{color:"red"},children:g.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))}),Object(h.jsx)(f.a,{onClick:w,color:"primary",children:"Cancelar"}),Object(h.jsx)(f.a,{onClick:I,color:"primary",children:"Asignar"})]})]})]})},oe=[{id:"identificacion",numeric:!1,disablePadding:!1,label:"Identificaci\xf3n"},{id:"nombre",numeric:!1,disablePadding:!1,label:"Nombre"},{id:"asignar",numeric:!1,disablePadding:!1,label:"Asignar"}],ie=Object(N.a)(A.a),se=function(e){var t=e.listaEntidades,r=void 0===t?[]:t,a=e.getPage,n=(e.totalRegs,e.tarjeta),s=e.handleClose,u=e.limpiarSensor,d=Object(o.useState)(null),b=Object(c.a)(d,2),f=(b[0],b[1],Object(l.b)(),Object(H.m)(),Object(o.useState)("desc")),p=Object(c.a)(f,2),x=p[0],O=p[1],g=Object(o.useState)("estado"),m=Object(c.a)(g,2),v=m[0],y=m[1],C=Object(V.a)(r,r.length,a),w=(C.page,C.handleChangePage,C.loading,C.registros),k=i.a.useState(10),E=Object(c.a)(k,2);E[0],E[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(U.a,{children:Object(h.jsx)(S.a,{container:!0,children:Object(h.jsx)(S.a,{item:!0,xs:12,md:12,children:Object(h.jsx)(j.a,{with:"100%",overflow:"auto",children:Object(h.jsx)(I.a,{theme:ie,children:Object(h.jsx)(q.a,{sx:{with:"100%",overflow:"scroll"},children:Object(h.jsx)(W.a,{sx:{maxHeight:"100%"},children:Object(h.jsxs)(_.a,{sx:{minWidth:500},size:"small","aria-label":"a dense table",children:[Object(h.jsx)(L.a,{order:x,orderBy:v,onRequestSort:function(e,t){O(v===t&&"asc"===x?"desc":"asc"),y(t)},rowCount:w.length,headCells:oe}),Object(h.jsx)(z.a,{children:w.map((function(e){return Object(h.jsxs)(U.c,{children:[Object(h.jsx)(U.b,{align:"center",children:e.identificacion}),Object(h.jsxs)(U.b,{align:"left",children:[e.nombres," ",e.apellidos]}),Object(h.jsx)(U.b,{align:"left",children:Object(h.jsx)(ce,{usuario:e,tarjeta:n.tarjeta.codigo_sensor,handleClose:s,limpiarSensor:u})})]},e.id)}))})]})})})})})})})})})},le=(Object(y.a)("small")((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:t?"#84CDA4":"#F16360",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:t?"#DAF4E9":"#FDEDED",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),Object(y.a)("div")((function(e){e.theme;return{paddingRight:"0",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",textAlign:"center"}}))),ue=Object(y.a)("h5")((function(e){e.theme;return{padding:"0px",color:"#053D6B",fontSize:"16px",fontWeight:"bold",marginTop:"0",marginBottom:"0"}})),de=Object(y.a)("h5")((function(){return{padding:"0px",color:"#242532",fontSize:"16px",fontWeight:"normal",marginTop:"10px",marginBottom:"10px"}})),be=Object(y.a)(w.a)((function(e){e.theme;return{backgroundColor:"#053D6B"}})),je=Object(y.a)(S.a)((function(){return{display:"flex",alignContent:"start",alignItems:"center",borderBottom:"2px solid #DCDCDC"}})),fe=function(e){var t=e.solicitud,r=e.tarjeta,a=e.handleClose,n=e.limpiarSensor,i=Object(o.useState)(null),s=Object(c.a)(i,2),l=s[0],u=(s[1],Object(o.useState)(t)),d=Object(c.a)(u,2),b=d[0],j=(d[1],Object(o.useState)(r)),f=Object(c.a)(j,2),p=f[0];f[1];return Object(o.useEffect)((function(){console.log(b,r)}),[b,r]),Object(h.jsxs)(C.a,{sx:{marginTop:4,width:"100%"},children:[Object(h.jsx)(be,{id:"responsive-dialog-title",sx:{background:null!==b&&void 0!==b&&b.usuario?"#053D6B":"red"},children:Object(h.jsx)(S.a,{item:!0,lg:12,md:12,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(le,{children:Object(h.jsx)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:Object(h.jsx)(S.a,{container:!0,spacing:2,children:Object(h.jsx)(S.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(h.jsx)(de,{sx:{color:l?"#000000":"#ffffff",fontSize:25,display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(h.jsxs)(h.Fragment,{children:[b.nombres," ",b.apellidos,Object(h.jsx)(ce,{usuario:b,tarjeta:p.codigo_sensor,handleClose:a,limpiarSensor:n})]})})})})})})})}),Object(h.jsxs)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:[Object(h.jsxs)(je,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(ue,{children:"Correo"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(de,{children:null===b||void 0===b?void 0:b.correo})})]}),Object(h.jsxs)(je,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(ue,{})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(de,{})})]}),Object(h.jsxs)(je,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(ue,{children:"Identificaci\xf3n"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(de,{children:null===b||void 0===b?void 0:b.identificacion})})]})]})]})},pe=function(e){var t=e.tarjeta,r=e.handleClose,i=e.limpiarSensor,f=Object(o.useState)([t.registrados]),p=Object(c.a)(f,2),O=p[0],g=(p[1],Object(l.b)()),v=Object(l.c)((function(e){return e.entidadComercial.usuariosBeer})),y=v.tarjetas,S=(v.totalRegs,Object(o.useState)([])),C=Object(c.a)(S,2),w=C[0],k=C[1],E=Object(o.useState)(!1),R=Object(c.a)(E,2),P=(R[0],R[1]),D=Object(o.useState)(!1),B=Object(c.a)(D,2),F=B[0],T=B[1],M=Object(o.useState)({identificacion:""}),N=Object(c.a)(M,2),I=N[0],q=N[1],W=Object(o.useState)([]),_=Object(c.a)(W,2),z=_[0],A=_[1];Object(o.useEffect)((function(){if(O){console.log(O);var e=y.filter((function(e){var t=!1;return O.forEach((function(r){if(r.includes(e.id))return t=!0,!1})),!t}));console.log(e),k(e)}}),[y,t]),Object(o.useEffect)((function(){I.identificacion?function(e){var t=e.trim(),r=w.filter((function(e){var r=Number(e.identificacion),a=Number(t);return String(r).includes(String(a))}));A(r),T(0===r.length)}(I.identificacion):(A(w),T(!1))}),[w,I.identificacion]);var L=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!0);case 2:return t=y.filter((function(e){return e.identificacion.includes(I.identificacion)})),A(t),e.next=6,P(!1);case 6:T(0===t.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!0);case 2:return e.next=4,g(Object(u.k)(""));case 4:return e.next=6,P(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.i,{title:"Ingrese el n\xfamero de identificaci\xf3n",children:Object(h.jsxs)(j.a,{sx:{display:"flex",flexDirection:"column",padding:1,width:"100%"},children:[Object(h.jsx)(j.a,{sx:{width:"100%"},children:Object(h.jsx)(x.ValidatorForm,{onSubmit:L,children:Object(h.jsx)(j.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%",flexWrap:"wrap"},children:Object(h.jsx)(x.TextValidator,{value:I.identificacion,onChange:function(e){var t=e.target,r=t.name,a=t.value;q((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},r,a))}))},label:"Identificacion",name:"identificacion",fullWidth:!0,validators:["required"],errorMessages:["Este campo es requerido"]})})})}),Object(h.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",pt:2},children:[F&&0===w.length&&Object(h.jsx)(m.a,{severity:"info",children:"No hay usuarios disponibles"}),0===z.length&&Object(h.jsx)(m.a,{severity:"info",children:"No existen usuarios con esa c\xe9dula"}),1===z.length&&Object(h.jsx)(fe,{solicitud:z[0],tarjeta:t.tarjeta,handleClose:r,limpiarSensor:i}),z.length>1&&Object(h.jsx)(se,{listaEntidades:z,getPage:function(){},totalRegs:z.length,tarjeta:t,handleClose:r,limpiarSensor:i})]})]})})})},xe=r(650),Oe=r(623),he=r(634),ge=Object(F.a)(x.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}})),me=(Object(F.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Object(F.a)(w.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}}))),ve=function(e){var t=e.children,r=e.onClose;return Object(h.jsxs)(me,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),r?Object(h.jsx)(D.a,{"aria-label":"Close",className:"closeButton",onClick:r,children:Object(h.jsx)(R.a,{})}):null]})},ye=function(e){var t=e.usuarioProp,r=e.tarjeta,i=e.handleClose,j=e.limpiarSensor,O=Object(o.useState)({}),g=Object(c.a)(O,2),m=g[0],v=g[1],y=Object(o.useState)({}),C=Object(c.a)(y,2),w=(C[0],C[1]),k=Object(o.useState)(!1),E=Object(c.a)(k,2),R=E[0],D=E[1],B=JSON.parse(localStorage.usuario),F=Object(o.useState)(""),T=Object(c.a)(F,2),M=T[0],N=(T[1],Object(o.useState)("")),I=Object(c.a)(N,2),q=I[0],W=(I[1],Object(o.useState)(!0)),_=Object(c.a)(W,2),z=(_[0],_[1]),A=Object(o.useState)(!1),L=Object(c.a)(A,2),V=L[0],U=L[1],H=Object(o.useState)("postpago"),X=Object(c.a)(H,2),re=X[0],ae=X[1],ne=Object(o.useState)(0),ce=Object(c.a)(ne,2),oe=ce[0],ie=ce[1],se=Object(o.useState)([]),le=Object(c.a)(se,2),ue=le[0],de=le[1],be=Object(o.useState)(""),je=Object(c.a)(be,2),fe=je[0],pe=je[1],me=Object(l.c)((function(e){return e.entidadComercial.maquina})).tarjetas,ye=Object(l.b)(),Se=function(){U(!1)};Object(o.useEffect)((function(){v(t),console.log(r),w(r.tarjeta)}),[t,v,r]);var Ce=m.nombres,we=m.apellidos,ke=m.correo,Ee=(m.rol,m.identificacion,m.registrado_por,function(e){v(Object(b.a)(Object(b.a)({},m),{},Object(d.a)({},e.target.name,e.target.value)))});Object(o.useEffect)((function(){z(""===q||""===M)}),[q,M]);var Re=Object(xe.a)({identificacion:null===t||void 0===t?void 0:t.identificacion}),Pe=Object(c.a)(Re,3),De=Pe[0],Be=Pe[1],Fe=(Pe[2],function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var r,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),t.preventDefault(),console.log(m),r=Object(b.a)(Object(b.a)(Object(b.a)({},m),De),{},{registrado_por:B.id,password:"Proatek@2023",rol:"CLIENTE",tipo_usuario:"BRONZE"}),console.log(r),e.prev=5,e.next=8,ye(Object(he.c)(r));case 8:n=e.sent,console.log(n),!1===n.success?G.a.fire({icon:"error",title:"Error",html:n.messages.join("<br>"),target:t.target}):(console.log(n),pe(n.data.id),U(!0)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error:",e.t0);case 16:D(!1);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()),Te=function(e){if(e.preventDefault(),console.log("Tipo de Recarga:",re,"Valor de Recarga:",oe),"prepago"===re&&0===oe)return console.log("El valor de recarga prepago no puede ser 0"),void de(["El valor de recarga ".concat(re," no puede ser 0")]);"mixto"!==re||0!==oe?(Me(),console.log("Tipo de Recarga:",re),console.log("Valor de Recarga:",oe)):de(["El valor de recarga ".concat(re," no puede ser 0")])},Me=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var n,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de([]),n={id_cliente:fe,codigo_sensor:r.tarjeta.codigo_sensor,usuario_registra:null===B||void 0===B?void 0:B.id,cupo_maximo:0===oe?4:oe,estado:"postpago"===re?"1":"prepago"===re?"2":"mixto"===re?"3":"0"},console.log(n),Se(),i(),c=Object(u.a)(n),e.prev=6,e.next=9,ye(c);case 9:201===(o=e.sent).status&&(G.a.fire(o.message,"","success"),j(o.data),console.log("tarjetas",me),me&&ye(Object(u.h)({id_maquina:me.id}))),console.log("\xc9xito:",o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"create-category",children:[Object(h.jsx)(s.i,{title:"Nuevo usuario",children:Object(h.jsx)(x.ValidatorForm,{onSubmit:Fe,children:Object(h.jsxs)(S.a,{container:!0,spacing:1,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"nombres",id:"standard-basic",value:Ce,onChange:Ee,errorMessages:["Este campo es requerido"],label:"Nombres",validators:["required"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"apellidos",id:"standard-basic",value:we,onChange:Ee,errorMessages:["Este campo es requerido"],label:"Apellidos",validators:["required"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"identificacion",id:"standard-basic",value:(null===De||void 0===De?void 0:De.identificacion)||"",onChange:Be,errorMessages:["Este campo es requerido","Debe contener m\xednimo 10 caracteres","Debe contener m\xe1ximo 13 caracteres"],label:"Identificacion",validators:["required","minStringLength: 10","maxStringLength: 13"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"correo",id:"standard-basic",value:ke,onChange:Ee,label:"Correo",errorMessages:["Este campo es requerido","Debe tener formato de email"],validators:["required","isEmail"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(ge,{type:"text",name:"telefono",id:"standard-basic",value:(null===De||void 0===De?void 0:De.telefono)||"",onChange:Be,errorMessages:["Este campo es requerido","Debe contener m\xednimo 10 caracteres","Debe contener m\xe1ximo 10 caracteres"],label:"telefono",validators:["required","minStringLength: 10","maxStringLength: 10"]})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2,textAlign:"center"},children:Object(h.jsxs)(Oe.a,{variant:"contained",color:"primary",loading:R,type:"submit",sx:{backgroundColor:"#053d6b",width:"100%",marginTop:"0px",display:"inline-block"},children:[Object(h.jsx)(p.a,{sx:{mr:"10px"},children:"save"}),"Crear"]})})]})})}),Object(h.jsxs)(P.a,{open:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(ve,{id:"alert-dialog-title",sx:{fontWeight:"100"},children:[" ","Para asignar la pulsera ".concat(r.tarjeta.codigo_sensor," al usuario ").concat(null===m||void 0===m?void 0:m.nombres," ").concat(null===m||void 0===m?void 0:m.apellidos," complete los siguientes campos:")]}),Object(h.jsx)(Y.a,{children:Object(h.jsx)($.a,{id:"alert-dialog-description",children:Object(h.jsx)("form",{onSubmit:Te,style:{display:"flex",flexDirection:"column"},children:Object(h.jsxs)(S.a,{container:!0,children:[Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0}),Object(h.jsx)(S.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(Z.a,{component:"fieldset",style:{marginBottom:"16px"},children:Object(h.jsxs)(Q.a,{"aria-label":"tipoRecarga",name:"tipoRecarga",value:re,onChange:function(e){ae(e.target.value)},style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)(K.a,{value:"postpago",control:Object(h.jsx)(ee.a,{}),label:"Postpago"}),Object(h.jsx)(K.a,{value:"prepago",control:Object(h.jsx)(ee.a,{}),label:"Prepago"}),Object(h.jsx)(K.a,{value:"mixto",control:Object(h.jsx)(ee.a,{}),label:"Mixto"})]})}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",fontSize:"xx-large",color:"postpago"===re?"#FF5722":"#4CAF50"},children:["postpago"===re?"Litros":"$",Object(h.jsx)(te.a,{id:"valorRecarga",label:"postpago"===re?"Catidad de litros":"Efectivo a recargar",type:"number",value:oe,onChange:function(e){e.target.value>=0?ie(e.target.value):ie(0)}})]})]})}),Object(h.jsx)(S.a,{item:!0,lg:2,md:2,sm:0,xs:0})]})})})}),Object(h.jsxs)(J.a,{children:[ue.length>0&&Object(h.jsx)("ul",{style:{color:"red"},children:ue.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))}),Object(h.jsx)(f.a,{onClick:Se,color:"primary",children:"Cancelar"}),Object(h.jsx)(f.a,{onClick:Te,color:"primary",children:"Asignar"})]})]})]})},Se=["children","value","index"],Ce=Object(F.a)(P.a)((function(e){e.theme;return{maxWidth:"800px",margin:"0 auto",display:"flex",alignItems:"center"}})),we=Object(F.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),ke=Object(F.a)(w.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),Ee=function(e){var t=e.children,r=e.onClose;return Object(h.jsxs)(ke,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),r?Object(h.jsx)(D.a,{"aria-label":"Close",className:"closeButton",onClick:r,children:Object(h.jsx)(R.a,{})}):null]})};function Re(e){var t=e.children,r=e.value,a=e.index,n=Object(k.a)(e,Se);return Object(h.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:r!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},n),{},{children:r===a&&Object(h.jsx)(j.a,{sx:{p:3},children:t})}))}function Pe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var De=function(e){var t=Object(o.useState)(!1),r=Object(c.a)(t,2),a=r[0],n=r[1],s=function(){n(!1)};Object(o.useEffect)((function(){m(p)}),[a]);var l=i.a.useState(0),u=Object(c.a)(l,2),d=u[0],f=u[1],p={nombres:"",apellidos:"",correo:"",rol:"",identificacion:"",registrado_por:"",telefono:""},x=Object(o.useState)({}),O=Object(c.a)(x,2),g=O[0],m=O[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(we,{variant:"outlined",type:"submit",color:"primary",onClick:function(){return n(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#437294",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Asignar usuario"}),Object(h.jsx)(Ce,{"aria-labelledby":"customized-dialog-title",open:a,id:"create-category",children:Object(h.jsx)(Ee,{id:"customized-dialog-title",onClose:s,children:Object(h.jsx)(C.a,{children:Object(h.jsxs)(j.a,{sx:{width:"100%"},children:[Object(h.jsx)(j.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(h.jsxs)(T.a,{value:d,onChange:function(e,t){f(t)},"aria-label":"basic tabs example",children:[Object(h.jsx)(M.a,Object(b.a)({label:"Seleccionar usuario"},Pe(0))),Object(h.jsx)(M.a,Object(b.a)({label:"Nuevo usuario"},Pe(1)))]})}),Object(h.jsx)(Re,{value:d,index:0,children:Object(h.jsx)(pe,{tarjeta:e,handleClose:s,limpiarSensor:e.limpiarSensor})}),Object(h.jsx)(Re,{value:d,index:1,children:Object(h.jsx)(ye,{usuarioProp:g,tarjeta:e,handleClose:s,limpiarSensor:e.limpiarSensor})})]})})})})]})},Be=Object(F.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Fe=Object(F.a)(w.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),"& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),Te=function(e){var t=e.children,r=e.onClose;return Object(h.jsxs)(Fe,{disableTypography:!0,children:[Object(h.jsx)(B.a,{variant:"h6",children:t}),r?Object(h.jsx)(D.a,{"aria-label":"Close",className:"closeButton",onClick:r,children:Object(h.jsx)(R.a,{})}):null]})},Me=function(e){var t=e.usuario,r=e.tarjeta,i=e.limpiarSensor,s=(function(){var e=Object(o.useState)(0),t=Object(c.a)(e,2)[1]}(),Object(o.useState)(!1)),d=Object(c.a)(s,2),b=d[0],j=d[1],p=(JSON.parse(localStorage.usuario),Object(l.b)()),x=function(){j(!1)},O=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(),n=Object(u.d)(r.id),e.prev=2,e.next=5,p(n);case 5:201===(c=e.sent).status?(G.a.fire(c.message,"","success"),i(c.data)):G.a.fire("Error","Error al eliminar el usuario en el sensor","error"),console.log("\xc9xito:",c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(Be,{variant:"outlined",type:"submit",color:"secondary",onClick:function(){j(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#FF0000",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Quitar usuario"}),Object(h.jsxs)(P.a,{open:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(Te,{id:"alert-dialog-title",children:"Confirmaci\xf3n"}),Object(h.jsx)(Y.a,{children:Object(h.jsx)($.a,{id:"alert-dialog-description",children:"\xbfEst\xe1s seguro de que deseas eliminar al usuario ".concat(null===t||void 0===t?void 0:t.nombres," ").concat(null===t||void 0===t?void 0:t.apellidos," de la pulsera ").concat(r.codigo_sensor,"?")})}),Object(h.jsxs)(J.a,{children:[Object(h.jsx)(f.a,{onClick:x,color:"primary",children:"Cancelar"}),Object(h.jsx)(f.a,{onClick:O,color:"primary",children:"Eliminar"})]})]})]})},Ne=r(8),Ie=(r(659),r(646),function(e){var t=e.machine;console.log(t);var r=t.updated_at,a=new Date(r),n=a.getHours(),c=a.getMinutes(),o=a.getDate(),i=a.getMonth()+1,s=a.getFullYear(),l="".concat(n,":").concat(c," ").concat(o,"/").concat(i,"/").concat(s);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Total consumo:"})," ",t.total," L"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Precio:"})," ",t.precio.toFixed(2)," $"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Hora:"})," ",l]})]})}),qe=function(e){var t=e.updateIdentificacion,r=Object(l.c)((function(e){return e.entidadComercial.consumos})).tarjetas,a=Object(o.useState)("red"),n=Object(c.a)(a,2),s=n[0],u=n[1],d=Object(o.useState)("white"),b=Object(c.a)(d,2),j=b[0],f=b[1],p=Object(o.useState)(0),x=Object(c.a)(p,2),O=(x[0],x[1]),g=Object(o.useState)(0),m=Object(c.a)(g,2),v=(m[0],m[1]),y=Object(o.useState)([]),S=Object(c.a)(y,2),C=S[0],w=S[1];Object(o.useEffect)((function(){u("#DCDCDC"),f("black")}),[r]);var k=r.reduce((function(e,t){var r=t.maquina.id;return e[r]||(e[r]={consumos:[],pagados:[],porPagar:[]}),0===t.estado?e[r].pagados.push(t):2===t.estado&&e[r].porPagar.push(t),e[r].consumos.push(t),e}),{});Object(o.useEffect)((function(){var e=Object.entries(k).map((function(e){var t=Object(c.a)(e,2),r=t[0],a=t[1],n=a.pagados,o=a.porPagar,i=n.reduce((function(e,t){return e+parseFloat(t.precio)}),0),s=o.reduce((function(e,t){return e+parseFloat(t.precio)}),0),l=parseFloat(s.toFixed(2));return{codigoSensor:r,totalPagadoMaquina:parseFloat(i.toFixed(2)),totalPorPagarMaquina:l,pagados:Object(Ne.a)(n),porPagar:Object(Ne.a)(o)}})),t=e.reduce((function(e,t){return e+t.totalPagadoMaquina}),0),r=e.reduce((function(e,t){return e+t.totalPorPagarMaquina}),0);O(t),v(r),w(e)}),[r]);var E=C.map((function(e){var a,n=e.codigoSensor,c=e.totalPagadoMaquina,o=e.totalPorPagarMaquina,l=e.pagados,u=e.porPagar,d="".concat(5.5*l.length,"rem"),b="".concat(5.5*u.length,"rem");return Object(h.jsxs)("div",{style:{display:"inline-block",margin:"10px"},children:[Object(h.jsxs)("h3",{style:{margin:"0px"},children:[null===(a=r.find((function(e){return e.maquina.id===n})))||void 0===a?void 0:a.maquina.tipo_cerveza," "]}),Object(h.jsx)("div",{className:"consumo-container",children:Object(h.jsxs)("div",{className:"machine",children:[0!==l.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h4",{style:{margin:"0px"},children:["Por pagar ",c]}),Object(h.jsx)("div",{className:"detalle-square",style:{backgroundColor:s,color:j,height:d},children:l.sort((function(e,t){return new Date(t.updated_at)-new Date(e.updated_at)})).map((function(e,r){return Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(Ie,{machine:e,updateIdentificacion:t}),r!==l.length-1&&Object(h.jsx)("p",{children:"-------------------------------------------"})]},e.id)}))})]}),0!==u.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h4",{style:{margin:"0px"},children:["Pagado ",o]}),Object(h.jsx)("div",{className:"detalle-square",style:{backgroundColor:"#DAF4E9",color:j,height:b},children:u.map((function(e,r){return Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(Ie,{machine:e,updateIdentificacion:t}),r!==u.length-1&&Object(h.jsx)("p",{children:"-------------------------------------------"})]},e.id)}))})]})]})})]},n)}));return Object(h.jsx)("div",{style:{whiteSpace:"nowrap"},children:E})},We=Object(F.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),_e=(Object(F.a)(w.a)((function(e){var t=e.theme;return{margin:0,padding:t.spacing(2),display:"flex",alignItems:"center",justifyContent:"space-between","& .closeButton":{position:"absolute",right:t.spacing(1),top:t.spacing(1),color:t.palette.grey[500]}}})),Object(F.a)("h5")((function(){return{padding:"10px",color:"#242532",fontSize:"20px",fontWeight:"normal",marginTop:"10px",marginBottom:"10px",background:"#82ffb1",borderRadius:"10px",textAlign:"center",width:"max-content",margin:"0 auto"}}))),ze=function(e){var t=e.usuario,r=e.tarjeta,i=e.updateIdentificacion,s=e.totalPrecios,d=e.limpiarSensor,b=function(){var e=Object(o.useState)(0),t=Object(c.a)(e,2)[1];return function(){return t((function(e){return e+1}))}}(),j=Object(o.useState)(!1),p=Object(c.a)(j,2),x=p[0],O=p[1],g=(JSON.parse(localStorage.usuario),Object(l.b)()),m=function(){O(!1)},v=function(){var e=Object(n.a)(Object(a.a)().mark((function e(r){var n,c,o,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id_cliente:t.id},c=Object(u.e)(n),e.prev=2,e.next=5,g(c);case 5:200===(o=e.sent).status?(G.a.fire(o.message,"Pago realizado con \xe9xito","success"),i(""),s=o.data.original.data,console.log("\xc9xito:",s),d(s),b()):G.a.fire("Error","Error al eliminar el usuario en el sensor","error"),m(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error:",e.t0),m();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(We,{variant:"outlined",type:"submit",color:"primary",onClick:function(){O(!0)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#25D366",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Cobrar"}),Object(h.jsxs)(P.a,{open:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(Y.a,{children:Object(h.jsxs)(S.a,{container:!0,spacing:1,maxWidth:"100%",children:[Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsx)(B.a,{variant:"h6",style:{marginBottom:"8px"},children:"Total a cobrar"})}),Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsxs)(_e,{children:[s,"$ "]})}),Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsx)(B.a,{variant:"h6",style:{marginBottom:"8px"},children:"Usuario"})}),Object(h.jsxs)(S.a,{item:!0,xs:6,sx:{fontSize:"20px",textAlign:"end"},children:[null===t||void 0===t?void 0:t.nombres," ",null===t||void 0===t?void 0:t.apellidos," "]}),Object(h.jsx)(S.a,{item:!0,xs:6,children:Object(h.jsx)(B.a,{variant:"h6",style:{marginBottom:"8px"},children:"Sensor"})}),Object(h.jsx)(S.a,{item:!0,xs:6,sx:{fontSize:"20px",textAlign:"end"},children:r.codigo_sensor})]})}),Object(h.jsxs)(J.a,{style:{justifyContent:"center"},children:[Object(h.jsx)(f.a,{children:Object(h.jsxs)(We,{variant:"outlined",type:"submit",color:"secondary",onClick:m,sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#FF0000",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:["Cancelar"," "]})}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(We,{variant:"outlined",type:"submit",color:"primary",onClick:v,sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#437294",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:["Cobrar"," "]})})]})]})]})},Ae=(r(226),r(127),function(e){switch(e.type){case"GOLD":return Object(h.jsx)(v.a,{src:"/assets/images/beer/gold.png",sx:{cursor:"pointer",width:100,height:100}});case"SILVER":return Object(h.jsx)(v.a,{src:"/assets/images/beer/silver.png",sx:{cursor:"pointer",width:100,height:100}});case"BRONZE":return Object(h.jsx)(v.a,{src:"/assets/images/beer/bronce.png",sx:{cursor:"pointer",width:100,height:100}});default:return null}}),Le=Object(y.a)("small")((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:t?"#84CDA4":"#F16360",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:t?"#DAF4E9":"#FDEDED",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),Ve=Object(y.a)("div")((function(e){e.theme;return{paddingRight:"0",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",textAlign:"center"}})),Ue=Object(y.a)("h5")((function(e){e.theme;return{padding:"0px",color:"#053D6B",fontSize:"16px",fontWeight:"bold",marginTop:"0",marginBottom:"0"}})),He=Object(y.a)("h5")((function(){return{padding:"0px",color:"#242532",fontSize:"16px",fontWeight:"normal",marginTop:"10px",marginBottom:"10px"}})),Xe=Object(y.a)(w.a)((function(e){e.theme;return{backgroundColor:"#053D6B"}})),Ge=Object(y.a)(S.a)((function(){return{display:"flex",alignContent:"start",alignItems:"center",borderBottom:"2px solid #DCDCDC"}})),Je=Object(y.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Ye=function(e){var t=e.solicitud,r=e.registrados,i=e.updateIdentificacion,s=e.limpiarSensor,d=Object(l.b)(),b=Object(o.useState)(null),j=Object(c.a)(b,2),f=j[0],p=(j[1],Object(o.useState)(!1)),x=Object(c.a)(p,2),O=x[0],g=x[1],m=Object(o.useState)(0),v=Object(c.a)(m,2),y=v[0],w=v[1],k=Object(o.useState)(0),E=Object(c.a)(k,2),R=E[0],P=E[1],D=Object(o.useState)(0),B=Object(c.a)(D,2),F=B[0],T=B[1],M=Object(o.useState)(0),N=Object(c.a)(M,2),I=(N[0],N[1]),q=Object(l.c)((function(e){return e.entidadComercial.consumos})).tarjetas;console.log("Tarjetas:",t,q.length),Object(o.useEffect)((function(){if(4===t.estado){if(q){var e=q.filter((function(e){return 2===e.estado})).reduce((function(e,t){return e+parseFloat(t.precio)}),0),r=q.filter((function(e){return 0===e.estado})).reduce((function(e,t){return e+parseFloat(t.precio)}),0);console.log("Total de precios:",e,r);var a=0;if(t.usuario.ventas){var n=t.usuario.ventas.find((function(e){return 2===e.estado}));n?(console.log("Venta en estado 2 encontrada:",n),I(n),a=n.precio):console.log("No se encontr\xf3 ninguna venta en estado 2")}else console.log("No hay ventas disponibles");console.log("Total de precios:",r,e,a),w((r+e-a).toFixed(2)),T(a),P(parseFloat(e.toFixed(2)))}}else if(q){var c=q.reduce((function(e,t){return e+parseFloat(t.precio)}),0);w(parseFloat(c.toFixed(2)))}}),[q]);return Object(o.useEffect)((function(){if(console.log("solicitud",t),t){var e=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Object(u.f)(t.id_cliente));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[d]),Object(h.jsxs)(C.a,{sx:{marginTop:4,width:"70%"},children:[Object(h.jsx)(Xe,{id:"responsive-dialog-title",sx:{background:1===t.estado?"#2E3B61":2===t.estado?"#3A5E4D":3===t.estado||4===t.estado?"linear-gradient(to right, #2E3B61, #3A5E4D)":0!==t.estado||null!==t&&void 0!==t&&t.usuario?"grey":"red"},children:Object(h.jsx)(S.a,{item:!0,lg:12,md:12,sm:12,xs:12,sx:{mt:2},children:Object(h.jsx)(Ve,{children:Object(h.jsx)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:Object(h.jsxs)(S.a,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:12,sm:12,xs:12,children:Object(h.jsx)(He,{sx:{color:f?"#000000":"#ffffff",fontSize:25,display:"flex",justifyContent:"space-between",alignItems:"center"},children:null!==t&&void 0!==t&&t.usuario?Object(h.jsxs)(h.Fragment,{children:[t.usuario.nombres," ",t.usuario.apellidos]}):Object(h.jsx)(h.Fragment,{children:"Disponible"})})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:12,sm:12,xs:12}),Object(h.jsx)(S.a,{item:!0,lg:4,md:12,sm:12,xs:12,children:Object(h.jsx)(He,{sx:{color:f?"#000000":"#ffffff",fontSize:25,display:"flex",justifyContent:"space-between",alignItems:"center"},children:null!==t&&void 0!==t&&t.usuario?Object(h.jsx)(Ae,{type:t.usuario.tipo_usuario}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(De,{tarjeta:t,registrados:r,limpiarSensor:s})})})})]})})})})}),Object(h.jsxs)(S.a,{container:!0,sx:{paddingRight:"30px",paddingLeft:"30px"},children:[Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:" C\xf3digo de Sensor "})}),Object(h.jsxs)(S.a,{item:!0,container:!0,direction:"row",lg:6,md:6,sm:6,xs:12,children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsx)(He,{children:null===t||void 0===t?void 0:t.codigo_sensor})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsx)(Le,{activo:null===t||void 0===t?void 0:t.estado,children:null!==t&&void 0!==t&&t.estado?"Activo":"Inactivo"})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsx)(He,{children:null===t||void 0===t?void 0:t.tipo_sensor})})]})]}),4===t.estado&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:"Recarga"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(He,{children:F+"$"})})]}),Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:"Consumo prepago"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(He,{children:R+"$"})})]})]}),Object(h.jsxs)(Ge,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:1===t.estado||4===t.estado?"Cupo M\xe1ximo":"Saldo"})}),Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(He,{children:1===t.estado||4===t.estado?(null===t||void 0===t?void 0:t.cupo_maximo)+" Litros":(null===t||void 0===t?void 0:t.cupo_maximo)+"$"})})]}),Object(h.jsxs)(S.a,{container:!0,spacing:2,children:[Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(h.jsx)(Ue,{children:1===t.estado||4===t.estado?"Total a pagar":"Consumo"})}),Object(h.jsxs)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,container:!0,direction:"row",children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:Object(h.jsxs)(He,{children:[y,"$ "]})}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:0===y||0!==t.estado&&1!==t.estado&&4!==t.estado?0!==t.estado&&Object(h.jsx)(Me,{usuario:t.usuario,tarjeta:t,updateIdentificacion:i,limpiarSensor:s}):Object(h.jsx)(ze,{usuario:t.usuario,tarjeta:t,updateIdentificacion:i,totalPrecios:y,limpiarSensor:s})}),Object(h.jsx)(S.a,{item:!0,lg:4,md:4,sm:4,xs:12,children:0!==q.length&&Object(h.jsxs)(Je,{variant:"outlined",type:"submit",color:"primary",onClick:function(){g(!O)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#437294",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:["Detalles"," "]})})]})]})]})]}),Object(h.jsx)(Ge,{container:!0,spacing:2,children:Object(h.jsx)(S.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:O&&Object(h.jsx)(qe,{})})})]})},$e=Object(F.a)(f.a)((function(e){return{margin:e.theme.spacing(1)}})),Ze=function(e){var t=e.tarjeta,r=e.updateIdentificacion,a=Object(o.useState)(!1),n=Object(c.a)(a,2),i=n[0];n[1];return Object(o.useEffect)((function(){}),[i]),Object(h.jsx)("div",{children:Object(h.jsx)($e,{variant:"outlined",type:"submit",color:"primary",onClick:function(){r(t.codigo_sensor)},sx:{width:"max-content",fontWeight:"bold",border:"2px solid",color:"#25D366",background:"#ffffff",borderRadius:"10px",margin:"0 auto"},children:"Detalles"})})},Qe=Object(y.a)("small")((function(e){var t=e.activo;return{fontSize:20,fontWeight:"bold",color:2===t||3===t||4===t?"#ffffff":1===t?"#4BC95B":"#FF0000",padding:"2px 8px",borderRadius:"50%",overflow:"hidden",background:t?"#4BC95B":"#FF0000",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),Ke=[{id:"Estado",numeric:!1,disablePadding:!1,label:"Estado"},{id:"Cupo Maximo",numeric:!1,disablePadding:!1,label:"Cupo Maximo"},{id:"Tipo de Usuario",numeric:!1,disablePadding:!1,label:"Nombre"},{id:"Codigo de Sensor",numeric:!1,disablePadding:!1,label:"Sensor"},{id:"Detalles",numeric:!1,disablePadding:!1,label:"Detalles"}],et=Object(N.a)(A.a),tt=function(e){var t=e.listaEntidades,r=void 0===t?[]:t,a=e.getPage,n=(e.totalRegs,e.registrados),i=void 0===n?[]:n,s=e.updateIdentificacion,l=e.limpiarSensor,u=Object(o.useState)("desc"),d=Object(c.a)(u,2),b=d[0],f=d[1],p=Object(o.useState)("estado"),x=Object(c.a)(p,2),O=x[0],g=x[1],m=Object(V.a)(r,r.length,a),v=(m.page,m.handleChangePage,m.loading,m.registros);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(U.a,{children:Object(h.jsx)(S.a,{container:!0,children:Object(h.jsx)(S.a,{item:!0,xs:12,md:12,children:Object(h.jsx)(j.a,{with:"100%",overflow:"auto",children:Object(h.jsx)(I.a,{theme:et,children:Object(h.jsx)(q.a,{sx:{with:"100%",overflow:"scroll"},children:Object(h.jsx)(W.a,{sx:{maxHeight:"100%"},children:Object(h.jsxs)(_.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(h.jsx)(L.a,{order:b,orderBy:O,onRequestSort:function(e,t){f(O===t&&"asc"===b?"desc":"asc"),g(t)},rowCount:v.length,headCells:Ke}),Object(h.jsx)(z.a,{children:v.map((function(e){var t,r;return Object(h.jsxs)(U.c,{style:{background:0===e.estado&&0===e.cupo_maximo&&e.id_cliente||2===e.estado&&0===e.cupo_maximo&&e.id_cliente||4===e.estado&&0===e.cupo_maximo&&e.id_cliente?"linear-gradient(to right, hsl(0, 0%, 80%), hsl(0, 0%, 90%))":"inherit"},children:[Object(h.jsx)(U.b,{align:"left",children:Object(h.jsx)(Qe,{activo:e.estado,children:1===e.estado?"*":2===e.estado?"P":3===e.estado||4===e.estado?"M":"*"})}),Object(h.jsxs)(U.b,{align:"center",children:[e.cupo_maximo," ",1===e.estado?"Litros":0===e.estado?"":4===e.estado?"Litros":"D\xf3lares"]}),Object(h.jsxs)(U.b,{align:"left",children:[null===(t=e.usuario)||void 0===t?void 0:t.nombres," ",null===(r=e.usuario)||void 0===r?void 0:r.apellidos," "]}),Object(h.jsx)(U.b,{align:"left",children:e.codigo_sensor}),Object(h.jsx)(U.b,{align:"left",children:0===e.estado&&0===e.cupo_maximo&&e.id_cliente||2===e.estado||3===e.estado||4===e.estado||1===e.estado?Object(h.jsx)(Ze,{tarjeta:e,updateIdentificacion:s}):Object(h.jsx)(De,{tarjeta:e,registrados:i,limpiarSensor:l})})]},e.id)}))})]})})})})})})})})})},rt=function(){var e=Object(l.c)((function(e){return e.entidadComercial.tarjetaCodigoSensor})),t=e.tarjetas,r=(e.totalRegs,Object(l.b)()),i=Object(o.useState)(!1),s=Object(c.a)(i,2),O=s[0],v=s[1],y=Object(o.useState)(t),S=Object(c.a)(y,2),C=S[0],w=S[1],k=Object(o.useState)({identificacion:""}),E=Object(c.a)(k,2),R=E[0],P=E[1],D=Object(o.useState)([]),B=Object(c.a)(D,2),F=B[0],T=B[1],M=Object(o.useState)([]),N=Object(c.a)(M,2),I=N[0],q=N[1],W=[],_=Object(o.useState)(!1),z=Object(c.a)(_,2),A=(z[0],z[1]),L=Object(l.c)((function(e){return e.entidadComercial.maquina.tarjetas})),V=function(e){P({identificacion:e})};Object(o.useEffect)((function(){w(t)}),[t]),Object(o.useEffect)((function(){C&&(C.forEach((function(e){e&&e.usuario&&W.push(e.usuario.id)})),q(W))}),[C]),Object(o.useEffect)((function(){R.identificacion?function(e){var t=e.trim(),r=C.filter((function(e){var r=Number(e.codigo_sensor),a=Number(t);return String(r).includes(String(a))}));console.log(r),T(r),v(0===r.length)}(R.identificacion):(T(C),v(!1))}),[R.identificacion,C]);var U=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(!0);case 2:return r=t.filter((function(e){return e.codigo_sensor.includes(R.identificacion)})),T(r),e.next=6,A(!1);case 6:v(0===r.length);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){console.log("Limpiando sensor",e);var t=C.map((function(t){return t.codigo_sensor===e.codigo_sensor?e:t}));console.log(t),T(t),w(t),V(e.codigo_sensor),V("")};return Object(h.jsxs)(j.a,{sx:{display:"flex",flexDirection:"column",padding:1,width:"100%"},children:[1===F.length?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(g,{updateIdentificacion:V}),Object(h.jsx)(j.a,{sx:{width:"100%"},children:Object(h.jsx)(x.ValidatorForm,{onSubmit:U,children:Object(h.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%",flexWrap:"wrap"},children:[Object(h.jsx)(x.TextValidator,{value:R.identificacion,onChange:function(e){var t=e.target,r=t.name,a=t.value;P((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},r,a))}))},label:"Codigo",name:"identificacion",fullWidth:!0,validators:["required"],errorMessages:["Este campo es requerido"]}),Object(h.jsxs)(f.a,{variant:"contained",color:"secondary",size:"large",onClick:Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===L||void 0===L||!L.codigo_sensor){e.next=10;break}return e.next=4,r(Object(u.c)(L.codigo_sensor));case 4:if(!e.sent){e.next=10;break}return e.next=8,r(Object(u.h)({id_maquina:L.id}));case 8:e.sent&&P({identificacion:""});case 10:P({identificacion:""}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),sx:{height:50,ml:2,backgroundColor:"red",color:"white"},children:[Object(h.jsx)(p.a,{sx:{mr:2},children:"close"}),"Borrar"]})]})})}),Object(h.jsxs)(j.a,{sx:{display:"flex",justifyContent:"center",pt:0},children:[O&&0===t.length&&Object(h.jsx)(m.a,{severity:"info",children:"No existen sensores registrados"}),0===F.length&&Object(h.jsx)(m.a,{severity:"info",children:"No existen sensores con ese c\xf3digo "}),1===F.length&&Object(h.jsx)(Ye,{solicitud:F[0],registrados:I,updateIdentificacion:V,limpiarSensor:H}),F.length>1&&Object(h.jsx)(tt,{listaEntidades:F,getPage:function(){},totalRegs:F.length,registrados:I,updateIdentificacion:V,limpiarSensor:H})]})]})};t.default=function(){var e=Object(l.b)(),t=Object(o.useState)(!1),r=Object(c.a)(t,2),i=(r[0],r[1]);return Object(o.useEffect)((function(){var t=function(){var t=Object(n.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(!0);case 2:return t.next=4,e(Object(u.j)(""));case 4:return t.next=6,e(Object(u.k)(""));case 6:return t.next=8,e(Object(u.i)(""));case 8:return t.next=10,i(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.i,{children:Object(h.jsx)(rt,{})})})}},747:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r(10),n=r(5),c=r(549),o=r(627),i=r(995),s=r(754),l=r(755),u=r(614),d=r(545),b=r(7),j=r(1),f=r.n(j),p=r(2),x=Object(b.a)(c.a)((function(e){var t=e.activo;return{height:30,width:"max-content",alignSelf:"center",fontSize:20,fontWeight:"bold",color:"#ffffff",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:0===t?"#FF6666":1===t?"#66CC99":2===t?"#FFCC66":"black",boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),O=f.a.forwardRef((function(e,t){return Object(p.jsx)(d.a,Object(n.a)({direction:"up",ref:t},e))})),h=function(e){var t=e.estadoEntidad,r=e.getEstadoEntidad,n=f.a.useState(!1),d=Object(a.a)(n,2),b=d[0],h=d[1],g=Object(j.useState)(t),m=Object(a.a)(g,2),v=m[0],y=m[1];function S(){h(!1)}return Object(j.useEffect)((function(){r(v)}),[v]),Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{activo:v,onClick:function(){h(!0)},children:0===v?"Inactivo":1===v?"Activo":2===v?"Mantenimiento":3===v?"CAJA":"Desconocido"}),Object(p.jsxs)(o.a,{open:b,keepMounted:!0,onClose:S,TransitionComponent:O,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(p.jsx)(u.a,{id:"alert-dialog-slide-title",children:"Cambiar estado de la entidad"}),Object(p.jsx)(s.a,{children:Object(p.jsx)(l.a,{id:"alert-dialog-slide-description",children:"Al cambiar el estado de la entidad se eliminar\xe1 el registro.  \n            \xbfDesea cambiar de ".concat(v?"activo":"inactivo"," a ").concat(v?"inactivo":"activo","?")})}),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(c.a,{onClick:S,color:"secondary",variant:"contained",children:"Cancelar"}),Object(p.jsx)(c.a,{onClick:function(){y(!v),S()},color:"primary",variant:"contained",children:"Cambiar"})]})]})]})}},748:function(e,t,r){"use strict";var a=r(340);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(341)),c=r(2),o=(0,n.default)((0,c.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},750:function(e,t,r){"use strict";var a,n=r(10),c=r(6),o=r(9),i=r(4),s=r(1),l=(r(140),r(12)),u=r(119),d=r(619),b=r(7),j=r(16),f=r(33),p=r(102);function x(){if(a)return a;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),a="reverse",e.scrollLeft>0?a="default":(e.scrollLeft=1,0===e.scrollLeft&&(a="negative")),document.body.removeChild(e),a}function O(e,t){var r=e.scrollLeft;if("rtl"!==t)return r;switch(x()){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}function h(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function g(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},c=a.ease,o=void 0===c?h:c,i=a.duration,s=void 0===i?300:i,l=null,u=t[e],d=!1,b=function(){d=!0},j=function a(c){if(d)n(new Error("Animation cancelled"));else{null===l&&(l=c);var i=Math.min(1,(c-l)/s);t[e]=o(i)*(r-u)+u,i>=1?requestAnimationFrame((function(){n(null)})):requestAnimationFrame(a)}};return u===r?(n(new Error("Element already at target position")),b):(requestAnimationFrame(j),b)}var m=r(67),v=r(95),y=r(2),S=["onChange"],C={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var w=r(658),k=r(657),E=r(615),R=r(90),P=r(80);function D(e){return Object(P.a)("MuiTabScrollButton",e)}var B=Object(R.a)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),F=["className","slots","slotProps","direction","orientation","disabled"],T=Object(b.a)(E.a,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.orientation&&t[r.orientation]]}})((function(e){var t=e.ownerState;return Object(i.a)(Object(c.a)({width:40,flexShrink:0,opacity:.8},"&.".concat(B.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),M=s.forwardRef((function(e,t){var r,a,n=Object(j.a)({props:e,name:"MuiTabScrollButton"}),c=n.className,s=n.slots,b=void 0===s?{}:s,p=n.slotProps,x=void 0===p?{}:p,O=n.direction,h=Object(o.a)(n,F),g="rtl"===Object(f.a)().direction,m=Object(i.a)({isRtl:g},n),v=function(e){var t=e.classes,r={root:["root",e.orientation,e.disabled&&"disabled"]};return Object(u.a)(r,D,t)}(m),S=null!=(r=b.StartScrollButtonIcon)?r:w.a,C=null!=(a=b.EndScrollButtonIcon)?a:k.a,E=Object(d.a)({elementType:S,externalSlotProps:x.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),R=Object(d.a)({elementType:C,externalSlotProps:x.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return Object(y.jsx)(T,Object(i.a)({component:"div",className:Object(l.a)(v.root,c),ref:t,role:null,ownerState:m,tabIndex:null},h,{children:"left"===O?Object(y.jsx)(S,Object(i.a)({},E)):Object(y.jsx)(C,Object(i.a)({},R))}))})),N=r(91);function I(e){return Object(P.a)("MuiTabs",e)}var q=Object(R.a)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),W=r(68),_=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],z=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},A=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},L=function(e,t,r){for(var a=!1,n=r(e,t);n;){if(n===e.firstChild){if(a)return;a=!0}var c=n.disabled||"true"===n.getAttribute("aria-disabled");if(n.hasAttribute("tabindex")&&!c)return void n.focus();n=r(e,n)}},V=Object(b.a)("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[Object(c.a)({},"& .".concat(q.scrollButtons),t.scrollButtons),Object(c.a)({},"& .".concat(q.scrollButtons),r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,r.vertical&&t.vertical]}})((function(e){var t=e.ownerState,r=e.theme;return Object(i.a)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&Object(c.a)({},"& .".concat(q.scrollButtons),Object(c.a)({},r.breakpoints.down("sm"),{display:"none"})))})),U=Object(b.a)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var r=e.ownerState;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return Object(i.a)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),H=Object(b.a)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var r=e.ownerState;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),X=Object(b.a)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,r=e.theme;return Object(i.a)({position:"absolute",height:2,bottom:0,width:"100%",transition:r.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(r.vars||r).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(r.vars||r).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),G=Object(b.a)((function(e){var t=e.onChange,r=Object(o.a)(e,S),a=s.useRef(),n=s.useRef(null),c=function(){a.current=n.current.offsetHeight-n.current.clientHeight};return Object(m.a)((function(){var e=Object(p.a)((function(){var e=a.current;c(),e!==a.current&&t(a.current)})),r=Object(v.a)(n.current);return r.addEventListener("resize",e),function(){e.clear(),r.removeEventListener("resize",e)}}),[t]),s.useEffect((function(){c(),t(a.current)}),[t]),Object(y.jsx)("div",Object(i.a)({style:C,ref:n},r))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),J={},Y=s.forwardRef((function(e,t){var r=Object(j.a)({props:e,name:"MuiTabs"}),a=Object(f.a)(),b="rtl"===a.direction,h=r["aria-label"],m=r["aria-labelledby"],S=r.action,C=r.centered,w=void 0!==C&&C,k=r.children,E=r.className,R=r.component,P=void 0===R?"div":R,D=r.allowScrollButtonsMobile,B=void 0!==D&&D,F=r.indicatorColor,T=void 0===F?"primary":F,q=r.onChange,Y=r.orientation,$=void 0===Y?"horizontal":Y,Z=r.ScrollButtonComponent,Q=void 0===Z?M:Z,K=r.scrollButtons,ee=void 0===K?"auto":K,te=r.selectionFollowsFocus,re=r.slots,ae=void 0===re?{}:re,ne=r.slotProps,ce=void 0===ne?{}:ne,oe=r.TabIndicatorProps,ie=void 0===oe?{}:oe,se=r.TabScrollButtonProps,le=void 0===se?{}:se,ue=r.textColor,de=void 0===ue?"primary":ue,be=r.value,je=r.variant,fe=void 0===je?"standard":je,pe=r.visibleScrollbar,xe=void 0!==pe&&pe,Oe=Object(o.a)(r,_),he="scrollable"===fe,ge="vertical"===$,me=ge?"scrollTop":"scrollLeft",ve=ge?"top":"left",ye=ge?"bottom":"right",Se=ge?"clientHeight":"clientWidth",Ce=ge?"height":"width",we=Object(i.a)({},r,{component:P,allowScrollButtonsMobile:B,indicatorColor:T,orientation:$,vertical:ge,scrollButtons:ee,textColor:de,variant:fe,visibleScrollbar:xe,fixed:!he,hideScrollbar:he&&!xe,scrollableX:he&&!ge,scrollableY:he&&ge,centered:w&&!he,scrollButtonsHideMobile:!B}),ke=function(e){var t=e.vertical,r=e.fixed,a=e.hideScrollbar,n=e.scrollableX,c=e.scrollableY,o=e.centered,i=e.scrollButtonsHideMobile,s=e.classes,l={root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",a&&"hideScrollbar",n&&"scrollableX",c&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",i&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]};return Object(u.a)(l,I,s)}(we),Ee=Object(d.a)({elementType:ae.StartScrollButtonIcon,externalSlotProps:ce.startScrollButtonIcon,ownerState:we}),Re=Object(d.a)({elementType:ae.EndScrollButtonIcon,externalSlotProps:ce.endScrollButtonIcon,ownerState:we});var Pe=s.useState(!1),De=Object(n.a)(Pe,2),Be=De[0],Fe=De[1],Te=s.useState(J),Me=Object(n.a)(Te,2),Ne=Me[0],Ie=Me[1],qe=s.useState(!1),We=Object(n.a)(qe,2),_e=We[0],ze=We[1],Ae=s.useState(!1),Le=Object(n.a)(Ae,2),Ve=Le[0],Ue=Le[1],He=s.useState(!1),Xe=Object(n.a)(He,2),Ge=Xe[0],Je=Xe[1],Ye=s.useState({overflow:"hidden",scrollbarWidth:0}),$e=Object(n.a)(Ye,2),Ze=$e[0],Qe=$e[1],Ke=new Map,et=s.useRef(null),tt=s.useRef(null),rt=function(){var e,t,r=et.current;if(r){var n=r.getBoundingClientRect();e={clientWidth:r.clientWidth,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollLeftNormalized:O(r,a.direction),scrollWidth:r.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(r&&!1!==be){var c=tt.current.children;if(c.length>0){var o=c[Ke.get(be)];0,t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},at=Object(N.a)((function(){var e,t,r=rt(),a=r.tabsMeta,n=r.tabMeta,o=0;if(ge)t="top",n&&a&&(o=n.top-a.top+a.scrollTop);else if(t=b?"right":"left",n&&a){var i=b?a.scrollLeftNormalized+a.clientWidth-a.scrollWidth:a.scrollLeft;o=(b?-1:1)*(n[t]-a[t]+i)}var s=(e={},Object(c.a)(e,t,o),Object(c.a)(e,Ce,n?n[Ce]:0),e);if(isNaN(Ne[t])||isNaN(Ne[Ce]))Ie(s);else{var l=Math.abs(Ne[t]-s[t]),u=Math.abs(Ne[Ce]-s[Ce]);(l>=1||u>=1)&&Ie(s)}})),nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.animation,n=void 0===r||r;n?g(me,et.current,e,{duration:a.transitions.duration.standard}):et.current[me]=e},ct=function(e){var t=et.current[me];ge?t+=e:(t+=e*(b?-1:1),t*=b&&"reverse"===x()?-1:1),nt(t)},ot=function(){for(var e=et.current[Se],t=0,r=Array.from(tt.current.children),a=0;a<r.length;a+=1){var n=r[a];if(t+n[Se]>e){0===a&&(t=e);break}t+=n[Se]}return t},it=function(){ct(-1*ot())},st=function(){ct(ot())},lt=s.useCallback((function(e){Qe({overflow:null,scrollbarWidth:e})}),[]),ut=Object(N.a)((function(e){var t=rt(),r=t.tabsMeta,a=t.tabMeta;if(a&&r)if(a[ve]<r[ve]){var n=r[me]+(a[ve]-r[ve]);nt(n,{animation:e})}else if(a[ye]>r[ye]){var c=r[me]+(a[ye]-r[ye]);nt(c,{animation:e})}})),dt=Object(N.a)((function(){he&&!1!==ee&&Je(!Ge)}));s.useEffect((function(){var e,t,r=Object(p.a)((function(){et.current&&at()})),a=Object(v.a)(et.current);return a.addEventListener("resize",r),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(r),Array.from(tt.current.children).forEach((function(t){e.observe(t)}))),"undefined"!==typeof MutationObserver&&(t=new MutationObserver((function(t){t.forEach((function(t){t.removedNodes.forEach((function(t){var r;null==(r=e)||r.unobserve(t)})),t.addedNodes.forEach((function(t){var r;null==(r=e)||r.observe(t)}))})),r(),dt()}))).observe(tt.current,{childList:!0}),function(){var n,c;r.clear(),a.removeEventListener("resize",r),null==(n=t)||n.disconnect(),null==(c=e)||c.disconnect()}}),[at,dt]),s.useEffect((function(){var e=Array.from(tt.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&he&&!1!==ee){var r=e[0],a=e[t-1],n={root:et.current,threshold:.99},c=new IntersectionObserver((function(e){ze(!e[0].isIntersecting)}),n);c.observe(r);var o=new IntersectionObserver((function(e){Ue(!e[0].isIntersecting)}),n);return o.observe(a),function(){c.disconnect(),o.disconnect()}}}),[he,ee,Ge,null==k?void 0:k.length]),s.useEffect((function(){Fe(!0)}),[]),s.useEffect((function(){at()})),s.useEffect((function(){ut(J!==Ne)}),[ut,Ne]),s.useImperativeHandle(S,(function(){return{updateIndicator:at,updateScrollButtons:dt}}),[at,dt]);var bt=Object(y.jsx)(X,Object(i.a)({},ie,{className:Object(l.a)(ke.indicator,ie.className),ownerState:we,style:Object(i.a)({},Ne,ie.style)})),jt=0,ft=s.Children.map(k,(function(e){if(!s.isValidElement(e))return null;var t=void 0===e.props.value?jt:e.props.value;Ke.set(t,jt);var r=t===be;return jt+=1,s.cloneElement(e,Object(i.a)({fullWidth:"fullWidth"===fe,indicator:r&&!Be&&bt,selected:r,selectionFollowsFocus:te,onChange:q,textColor:de,value:t},1!==jt||!1!==be||e.props.tabIndex?{}:{tabIndex:0}))})),pt=function(){var e={};e.scrollbarSizeListener=he?Object(y.jsx)(G,{onChange:lt,className:Object(l.a)(ke.scrollableX,ke.hideScrollbar)}):null;var t=he&&("auto"===ee&&(_e||Ve)||!0===ee);return e.scrollButtonStart=t?Object(y.jsx)(Q,Object(i.a)({slots:{StartScrollButtonIcon:ae.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ee},orientation:$,direction:b?"right":"left",onClick:it,disabled:!_e},le,{className:Object(l.a)(ke.scrollButtons,le.className)})):null,e.scrollButtonEnd=t?Object(y.jsx)(Q,Object(i.a)({slots:{EndScrollButtonIcon:ae.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Re},orientation:$,direction:b?"left":"right",onClick:st,disabled:!Ve},le,{className:Object(l.a)(ke.scrollButtons,le.className)})):null,e}();return Object(y.jsxs)(V,Object(i.a)({className:Object(l.a)(ke.root,E),ownerState:we,ref:t,as:P},Oe,{children:[pt.scrollButtonStart,pt.scrollbarSizeListener,Object(y.jsxs)(U,{className:ke.scroller,ownerState:we,style:Object(c.a)({overflow:Ze.overflow},ge?"margin".concat(b?"Left":"Right"):"marginBottom",xe?void 0:-Ze.scrollbarWidth),ref:et,children:[Object(y.jsx)(H,{"aria-label":h,"aria-labelledby":m,"aria-orientation":"vertical"===$?"vertical":null,className:ke.flexContainer,ownerState:we,onKeyDown:function(e){var t=tt.current,r=Object(W.a)(t).activeElement;if("tab"===r.getAttribute("role")){var a="horizontal"===$?"ArrowLeft":"ArrowUp",n="horizontal"===$?"ArrowRight":"ArrowDown";switch("horizontal"===$&&b&&(a="ArrowRight",n="ArrowLeft"),e.key){case a:e.preventDefault(),L(t,r,A);break;case n:e.preventDefault(),L(t,r,z);break;case"Home":e.preventDefault(),L(t,null,z);break;case"End":e.preventDefault(),L(t,null,A)}}},ref:tt,role:"tablist",children:ft}),Be&&bt]}),pt.scrollButtonEnd]}))}));t.a=Y},752:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r(10),n=r(1),c=r.n(n),o=r(81),i=(r(646),r(2)),s=function(e){var t=e.machine;console.log(t);var r=t.updated_at,a=new Date(r),n=a.getHours(),c=a.getMinutes(),o=a.getDate(),s=a.getMonth()+1,l=a.getFullYear(),u=" ".concat(o,"/").concat(s,"/").concat(l,"  ").concat(n,":").concat(c);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",margin:"0px 5px 0px 5px"},children:[Object(i.jsx)("p",{style:{margin:"0"},children:u}),Object(i.jsxs)("b",{style:{margin:"0"},children:[t.total," L"]})]}),Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(i.jsxs)("h2",{style:{margin:"0"},children:["$ ",t.precio.toFixed(2)]})})]})},l=r(8),u=(r(645),r(659),r(703),function(e){var t=e.updateIdentificacion,r=e.tarjetas,o=Object(n.useState)("red"),u=Object(a.a)(o,2),d=(u[0],u[1]),b=Object(n.useState)("white"),j=Object(a.a)(b,2),f=j[0],p=j[1],x=Object(n.useState)(0),O=Object(a.a)(x,2),h=(O[0],O[1]),g=Object(n.useState)(0),m=Object(a.a)(g,2),v=(m[0],m[1]),y=Object(n.useState)([]),S=Object(a.a)(y,2),C=S[0],w=S[1];Object(n.useEffect)((function(){d("#DCDCDC"),p("black")}),[r]);var k=r.reduce((function(e,t){console.log(t);var r=t.maquina.id;return e[r]||(e[r]={consumos:[],pagados:[],porPagar:[]}),0===t.estado?e[r].pagados.push(t):2===t.estado&&e[r].porPagar.push(t),e[r].consumos.push(t),e}),{});Object(n.useEffect)((function(){var e=Object.entries(k).map((function(e){var t=Object(a.a)(e,2),r=t[0],n=t[1],c=n.pagados,o=n.porPagar,i=n.consumos;return{codigoSensor:r,totalPagadoMaquina:c.reduce((function(e,t){return e+parseFloat(t.precio)}),0),totalPorPagarMaquina:o.reduce((function(e,t){return e+parseFloat(t.precio)}),0),pagados:Object(l.a)(c),porPagar:Object(l.a)(o),consumos:Object(l.a)(i)}})),t=e.reduce((function(e,t){return e+t.totalPagadoMaquina}),0),r=e.reduce((function(e,t){return e+t.totalPorPagarMaquina}),0);h(t),v(r),w(e)}),[r]);var E=C.map((function(e){var a,n=e.codigoSensor,o=(e.totalPagadoMaquina,e.totalPorPagarMaquina,e.pagados),l=(e.porPagar,e.consumos),u=("".concat(5.5*o.length,"rem"),"".concat(4.5*l.length,"rem"));return Object(i.jsxs)("div",{style:{display:"inline-block",margin:"10px"},children:[Object(i.jsxs)("h3",{style:{margin:"0px"},children:[null===(a=r.find((function(e){return e.maquina.id===n})))||void 0===a?void 0:a.maquina.tipo_cerveza," "]}),Object(i.jsx)("div",{className:"consumo-container",children:Object(i.jsx)("div",{className:"machine",children:0!==l.length&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"detalle-square",style:{backgroundColor:"#CDCDCD",color:f,height:u},children:l.map((function(e,r){return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(s,{machine:e,updateIdentificacion:t}),r!==l.length-1&&Object(i.jsx)("p",{children:"-------------------------------------------"})]},e.id)}))})})})})]},n)}));return Object(i.jsx)("div",{style:{whiteSpace:"nowrap"},children:E})}),d=function(){var e=Object(o.c)((function(e){return e.entidadComercial.ventas})).tarjetas,t=Object(n.useState)(null),r=Object(a.a)(t,2),c=r[0],l=r[1],d=Object(n.useState)("#DAF4E9"),b=Object(a.a)(d,2),j=b[0],f=(b[1],Object(n.useState)("black")),p=Object(a.a)(f,2),x=p[0],O=(p[1],"".concat(4.125,"rem"));return Object(i.jsx)("div",{style:{display:"flex"},children:e.map((function(e,t){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"detalle-square",style:{backgroundColor:j,color:x,height:O,flexDirection:"column",margin:"5px",padding:"0px"},children:[Object(i.jsx)("div",{onClick:function(){return function(e){l(e===c?null:e)}(e)},style:{marginBottom:"10px"},children:Object(i.jsx)(s,{machine:e})},e.id),c&&c===e&&Object(i.jsx)("div",{children:Object(i.jsx)(u,{tarjetas:c.consumos})})]})})}))})}},754:function(e,t,r){"use strict";var a=r(6),n=r(9),c=r(4),o=r(1),i=r(12),s=r(119),l=r(7),u=r(16),d=r(90),b=r(80);function j(e){return Object(b.a)("MuiDialogContent",e)}Object(d.a)("MuiDialogContent",["root","dividers"]);var f=r(227),p=r(2),x=["className","dividers"],O=Object(l.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.dividers&&t.dividers]}})((function(e){var t=e.theme,r=e.ownerState;return Object(c.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},r.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:Object(a.a)({},".".concat(f.a.root," + &"),{paddingTop:0}))})),h=o.forwardRef((function(e,t){var r=Object(u.a)({props:e,name:"MuiDialogContent"}),a=r.className,o=r.dividers,l=void 0!==o&&o,d=Object(n.a)(r,x),b=Object(c.a)({},r,{dividers:l}),f=function(e){var t=e.classes,r={root:["root",e.dividers&&"dividers"]};return Object(s.a)(r,j,t)}(b);return Object(p.jsx)(O,Object(c.a)({className:Object(i.a)(f.root,a),ownerState:b,ref:t},d))}));t.a=h},755:function(e,t,r){"use strict";var a=r(9),n=r(4),c=r(1),o=r(12),i=r(119),s=r(7),l=r(16),u=r(553),d=r(90),b=r(80);function j(e){return Object(b.a)("MuiDialogContentText",e)}Object(d.a)("MuiDialogContentText",["root"]);var f=r(2),p=["children","className"],x=Object(s.a)(u.a,{shouldForwardProp:function(e){return Object(s.b)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),O=c.forwardRef((function(e,t){var r=Object(l.a)({props:e,name:"MuiDialogContentText"}),c=r.className,s=Object(a.a)(r,p),u=function(e){var t=e.classes,r=Object(i.a)({root:["root"]},j,t);return Object(n.a)({},t,r)}(s);return Object(f.jsx)(x,Object(n.a)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:s,className:Object(o.a)(u.root,c)},r,{classes:u}))}));t.a=O},756:function(e,t,r){"use strict";var a=r(6),n=r(9),c=r(4),o=r(1),i=r(12),s=r(119),l=r(615),u=r(14),d=r(16),b=r(7),j=r(90),f=r(80);function p(e){return Object(f.a)("MuiTab",e)}var x=Object(j.a)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),O=r(2),h=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],g=Object(b.a)(l.a,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.label&&r.icon&&t.labelIcon,t["textColor".concat(Object(u.a)(r.textColor))],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped]}})((function(e){var t,r,n,o=e.theme,i=e.ownerState;return Object(c.a)({},o.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},i.label&&{flexDirection:"top"===i.iconPosition||"bottom"===i.iconPosition?"column":"row"},{lineHeight:1.25},i.icon&&i.label&&Object(a.a)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(x.iconWrapper),Object(c.a)({},"top"===i.iconPosition&&{marginBottom:6},"bottom"===i.iconPosition&&{marginTop:6},"start"===i.iconPosition&&{marginRight:o.spacing(1)},"end"===i.iconPosition&&{marginLeft:o.spacing(1)})),"inherit"===i.textColor&&(t={color:"inherit",opacity:.6},Object(a.a)(t,"&.".concat(x.selected),{opacity:1}),Object(a.a)(t,"&.".concat(x.disabled),{opacity:(o.vars||o).palette.action.disabledOpacity}),t),"primary"===i.textColor&&(r={color:(o.vars||o).palette.text.secondary},Object(a.a)(r,"&.".concat(x.selected),{color:(o.vars||o).palette.primary.main}),Object(a.a)(r,"&.".concat(x.disabled),{color:(o.vars||o).palette.text.disabled}),r),"secondary"===i.textColor&&(n={color:(o.vars||o).palette.text.secondary},Object(a.a)(n,"&.".concat(x.selected),{color:(o.vars||o).palette.secondary.main}),Object(a.a)(n,"&.".concat(x.disabled),{color:(o.vars||o).palette.text.disabled}),n),i.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},i.wrapped&&{fontSize:o.typography.pxToRem(12)})})),m=o.forwardRef((function(e,t){var r=Object(d.a)({props:e,name:"MuiTab"}),a=r.className,l=r.disabled,b=void 0!==l&&l,j=r.disableFocusRipple,f=void 0!==j&&j,x=r.fullWidth,m=r.icon,v=r.iconPosition,y=void 0===v?"top":v,S=r.indicator,C=r.label,w=r.onChange,k=r.onClick,E=r.onFocus,R=r.selected,P=r.selectionFollowsFocus,D=r.textColor,B=void 0===D?"inherit":D,F=r.value,T=r.wrapped,M=void 0!==T&&T,N=Object(n.a)(r,h),I=Object(c.a)({},r,{disabled:b,disableFocusRipple:f,selected:R,icon:!!m,iconPosition:y,label:!!C,fullWidth:x,textColor:B,wrapped:M}),q=function(e){var t=e.classes,r=e.textColor,a=e.fullWidth,n=e.wrapped,c=e.icon,o=e.label,i=e.selected,l=e.disabled,d={root:["root",c&&o&&"labelIcon","textColor".concat(Object(u.a)(r)),a&&"fullWidth",n&&"wrapped",i&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Object(s.a)(d,p,t)}(I),W=m&&C&&o.isValidElement(m)?o.cloneElement(m,{className:Object(i.a)(q.iconWrapper,m.props.className)}):m;return Object(O.jsxs)(g,Object(c.a)({focusRipple:!f,className:Object(i.a)(q.root,a),ref:t,role:"tab","aria-selected":R,disabled:b,onClick:function(e){!R&&w&&w(e,F),k&&k(e)},onFocus:function(e){P&&!R&&w&&w(e,F),E&&E(e)},ownerState:I,tabIndex:R?0:-1},N,{children:["top"===y||"start"===y?Object(O.jsxs)(o.Fragment,{children:[W,C]}):Object(O.jsxs)(o.Fragment,{children:[C,W]}),S]}))}));t.a=m},803:function(e,t,r){"use strict";var a=r(43),n=r(9),c=r(4),o=r(1),i=r(12),s=r(84),l=r(119);r(6);function u(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function d(e){return parseFloat(e)}var b=r(331),j=r(7),f=r(16),p=r(90),x=r(80);function O(e){return Object(x.a)("MuiSkeleton",e)}Object(p.a)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var h,g,m,v,y,S,C,w,k=r(2),E=["animation","className","component","height","style","variant","width"],R=Object(s.c)(y||(y=h||(h=Object(a.a)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),P=Object(s.c)(S||(S=g||(g=Object(a.a)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),D=Object(j.a)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],!1!==r.animation&&t[r.animation],r.hasChildren&&t.withChildren,r.hasChildren&&!r.width&&t.fitContent,r.hasChildren&&!r.height&&t.heightAuto]}})((function(e){var t=e.theme,r=e.ownerState,a=u(t.shape.borderRadius)||"px",n=d(t.shape.borderRadius);return Object(c.a)({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Object(b.a)(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===r.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(n).concat(a,"/").concat(Math.round(n/.6*10)/10).concat(a),"&:empty:before":{content:'"\\00a0"'}},"circular"===r.variant&&{borderRadius:"50%"},"rounded"===r.variant&&{borderRadius:(t.vars||t).shape.borderRadius},r.hasChildren&&{"& > *":{visibility:"hidden"}},r.hasChildren&&!r.width&&{maxWidth:"fit-content"},r.hasChildren&&!r.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&Object(s.b)(C||(C=m||(m=Object(a.a)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),R)}),(function(e){var t=e.ownerState,r=e.theme;return"wave"===t.animation&&Object(s.b)(w||(w=v||(v=Object(a.a)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),P,(r.vars||r).palette.action.hover)})),B=o.forwardRef((function(e,t){var r=Object(f.a)({props:e,name:"MuiSkeleton"}),a=r.animation,o=void 0===a?"pulse":a,s=r.className,u=r.component,d=void 0===u?"span":u,b=r.height,j=r.style,p=r.variant,x=void 0===p?"text":p,h=r.width,g=Object(n.a)(r,E),m=Object(c.a)({},r,{animation:o,component:d,variant:x,hasChildren:Boolean(g.children)}),v=function(e){var t=e.classes,r=e.variant,a=e.animation,n=e.hasChildren,c=e.width,o=e.height,i={root:["root",r,a,n&&"withChildren",n&&!c&&"fitContent",n&&!o&&"heightAuto"]};return Object(l.a)(i,O,t)}(m);return Object(k.jsx)(D,Object(c.a)({as:d,ref:t,className:Object(i.a)(v.root,s),ownerState:m},g,{style:Object(c.a)({width:h,height:b},j)}))}));t.a=B}}]);